{"version":3,"sources":["node_modules/browser-pack/_prelude.js","helpers/cookies.js","helpers/cssControlCode.js","helpers/getElementOuterHtml.js","helpers/getHandlebarTemplate.js","helpers/jQueryExtend.js","helpers/jQueryExtend_ajaxPattern.js","helpers/listing.js","helpers/slugify.js","helpers/sticky.js","helpers/throttle.js","index.js","modules/accordions.js","modules/ajaxPattern.js","modules/ajaxPatternOverride.js","modules/back2top.js","modules/clickable.js","modules/dropdown.js","modules/emergencyAlerts.js","modules/eventFilters.js","modules/eventListingInteractive.js","modules/footnote.js","modules/formInputs.js","modules/formValidation.js","modules/googleMap.js","modules/headerTags.js","modules/hideAlert.js","modules/imageFill.js","modules/inlineOverlay.js","modules/keywordSearch.js","modules/locationFilters.js","modules/locationListing.js","modules/mainNav.js","modules/mobileNav.js","modules/orgSelector.js","modules/pagination.js","modules/pikaday.js","modules/responsiveVideo.js","modules/resultsHeading.js","modules/richText.js","modules/scrollAnchors.js","modules/stickyTOC.js","modules/truncateTitle.js","modules/utilNav.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","document","window","setCookie","name","value","expires","d","Date","setTime","getTime","toUTCString","cookie","getCookie","parts","split","pop","shift","$el","getComputedStyle","getPropertyValue","replace","err","el","outerHTML","container","createElement","appendChild","cloneNode","innerHTML","undefined","Handlebars","templates","jQuery","ajax","url","ma","themePath","success","data","compile","async","$","extend","expr","focusable","index","selector","is","ajaxCache","fn","MassAjaxPattern","options","this","each","$element","element","endpoint","pattern","renderPattern","patternTransform","transform","self","updatePattern","getPatternData","then","patternData","isEmptyObject","console","error","fail","Twig","twig","href","getPatternPath","id","allowInlineIncludes","namespaces","base","patternPaths","atoms","molecules","organisms","pages","meta","load","template","markup","render","html","trigger","pathParts","namespace","patternPath","join","type","cache","dataType","jqXHR","textStatus","errorThrown","defaults","moment","transformTag","tag","label","svg","_helpersGetElementOuterHtmlJs2","find","siblings","hasFilter","filters","some","filter","hasOwnProperty","getFilterValues","map","transformActiveTagsData","args","filterData","clearedFilter","resultsHeading","tags","getActiveFilters","formData","paginateItems","items","max","page","pageTotal","item","isActive","totalPages","clearListingPage","listing","parent","makeAllActive","filterDataByTags","haystack","every","v","Boolean","Object","keys","indexOf","filterDataByDateTags","filterStart","filterEnd","start","end","isSameOrAfter","isSameOrBefore","isSame","paginated","maxItems","renderListingPage","warn","selectors","forEach","append","row","first","eq","focus","_helpersStickyJs2","init","transformPaginationData","targetPage","push","text","toString","active","pagination","prev","disabled","next","currentPage","transformResultsHeading","totalActive","firstItem","Number","lastItem","totalResults","numResults","filterListingData","sortDataAlphabetically","sort","b","nameA","title","toUpperCase","nameB","sortDataByDate","dateType","dateA","dateB","isBefore","isAfter","geocodeAddressString","address","callback","geocoder","geocode","results","status","google","maps","GeocoderStatus","OK","place","geocodePlaceId","place_id","placeId","calculateDistance","lat1","lon1","lat2","lon2","unit","radlat1","Math","PI","radlat2","theta","radtheta","dist","sin","cos","acos","transformListing","compiledTemplate","_helpersGetHandlebarTemplateJs2","listingMarkup","itemData","val","tagsData","tagsFormatted","assign","itemTransform","makeMoment","startTimestamp","endTimestamp","toLowerCase","$elParent","elWidth","lowerLimit","upperLimit","runCode","updateData","newRunCode","_helpersCssControlCodeJs2","removeAttr","height","width","offset","top","outerHeight","setPosition","attr","windowTop","scrollTop","middle","bottom","css","offsetParent","setTimeout","resize","scroll","threshhold","scope","last","deferTimer","context","now","arguments","clearTimeout","apply","$link","$content","$status","open","hasClass","stop","slideDown","on","preventDefault","slideUp","toggleClass","temp","removeClass","$context","ajaxData","emergencyAlerts","alerts","these","are","animate","addClass","click","event","dest","location","dropdownMenu","querySelectorAll","_length","parentEl","selectEl","querySelector","link","onchange","elem","selectedIndex","srcElement","innerText","cookieName","cookieValue","_helpersCookiesJs2","$button","$locationFilterParent","$locationFilter","locationInput","getElementById","swLat","swLng","neLat","neLng","bounds","LatLngBounds","LatLng","strictBounds","types","componentRestrictions","country","placeIdOnly","autocomplete","places","Autocomplete","$form","$place","$dateStart","$dateEnd","$tags","prop","submit","$location","dateRange","startDate","endDate","useToday","format","getFormData","transformData","transformation","promise","Deferred","transformReturn","filteredData","_helpersListingJs2","sortedData","autocompletePlace","getPlace","Geocoder","result","sortDataAroundPlace","resolve","lat","geometry","lng","key","distance","position","$resultsHeading","$pagination","$eventFilter","rawData","eventListingInteractive","masterData","updateChildComponents","listArray","eventListing","events","masterListing","masterListingMarkup","date","endDay","ceil","populateMasterDataSource","formValues","done","target","nextPage","$messageLink","clone","$rtelink","isMobile","getPosition","$target","pos","headerHeight","navHeight","scrollTo","maxlength","remaining","message","wrap","inArray","keyCode","ctrlKey","metaKey","shiftKey","$plus","$minus","parseInt","trim","validate","valid","match","requiredFields","$errorList","$field","submitForm","googleMapData","mapsInitialized","checkForGoogleMaps","setInterval","clearInterval","stopChecking","markers","initializedMarkers","mapData","scrollwheel","Map","infoData","markerData","infoWindow","marker","Marker","phoneFormatted","formatPhone","phone","faxFormatted","fax","InfoWindow","content","markerBouncing","addListener","hideInfo","showInfo","close","bounce","setAnimation","Animation","BOUNCE","addMarkersToMap","addListenerOnce","$mapItems","role","tabindex","aria-label","bind","ev","which","markerIndex","_i","setCenter","setZoom","_i2","setMap","removeMarkersFromMap","dataMarkers","updateMapByMarkers","substring","fitBounds","$showHideButton","$dynamicItems","show","hide","fadeIn","fadeOut","sidebarHeight","debounceTimer","mediaWidth","wrapperWidth","$thisMedia","thisPosition","tocContainerClass","containerClass","contentClass","titleClass","toggleOverlay","$containerEl","closest","isOpen","parents","floor","random","initialize","keydown","clearDeactivatedFilter","activeClass","markerActiveClass","activeLocationListingRow","markerActiveLocationListingRow","mapCol","getActiveMarkers","spherical","computeDistanceBetween","$mapCol","$map","locationListing","promosArray","imagePromos","currentTarget","windowWidth","innerWidth","openClass","closeClass","submenuClass","$parent","$mainNavToggle","$mainNavItems","breakpoint","delay","$topLevelLinks","$openContent","$focusedElement","activeElement","menuFlipped","$topLevelItem","$topLevelLink","$dropdownLinks","dropdownLinksLength","focusIndexInDropdown","keycode","action","skip","left","right","up","down","linkCount","children","menuButton","addEventListener","classList","toggle","searchForm","orgSelector","$select","$placeholder","renderTemplate","organizations","change","registerHelper","lvalue","rvalue","operator","hash","operators","==","l","===","!=","<",">","<=",">=","typeof","inverse","targetPageNumber","renderPagination","restrict","picker","Pikaday","field","setMaxDate","setMinDate","fitVids","renderResultsHeading","richTextIndex","heading","nextUntil","_helpersSlugifyJs2","before","$links","elHeight","headerBuffer","activeAnchorIndex","anchors","numAnchors","linkScrolling","setVariables","topOffset","hasAttribute","Array","paddingTop","activateLink","innerHeight","currentAnchor","$toc","$tocContent","$tocSections","lastHeading","tocSectionCount","$tocColumn","$mobileToggle","$tocToggle","$tocFooter","$stickyToc","menuToggle","remove","$section","sectionId","sectionTitle","$tocLink","prepend","$buttonText","windowBottom","docHeight","section","appendTo","$this","$thisParent","$thisWrapper","thisTitle","truncatedTitle","substr","min","lastIndexOf","waitForIt","preventdefault"],"mappings":"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","file":"index-generated.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","module.exports = function(window, document, undefined){\r\n  \"use strict\";\r\n\r\n  function setCookie(name, value, expires) {\r\n    if(typeof(expires) === 'number') {\r\n      var d = new Date();\r\n      d.setTime(d.getTime() + (expires*24*60*60*1000));\r\n      var expires = \"expires=\"+d.toUTCString();\r\n      document.cookie = name + \"=\" + value + \"; \" + expires + \"; path=/\";\r\n    } else {\r\n      document.cookie = name + \"=\" + value + \"; path=/\";\r\n    }\r\n\r\n  }\r\n\r\n  function getCookie(name) {\r\n    var value = \"; \" + document.cookie;\r\n    var parts = value.split(\"; \" + name + \"=\");\r\n    if (parts.length == 2) return parts.pop().split(\";\").shift();\r\n  }\r\n\r\n  return {\r\n    setCookie,\r\n    getCookie\r\n  };\r\n\r\n}(window, document);\r\n\r\n","// check the value of the css :before psuedo element\r\n// values look for \"true\" or \"false\"\r\n\r\nexport default ($el) => {\r\n  let value = \"true\";\r\n  try {\r\n    value = window.getComputedStyle($el[0], ':before').getPropertyValue('content').replace(/\\\"/g, '');\r\n  } catch(err) {}\r\n  return value === \"false\" ? false : true;\r\n};\r\n","/**\n  * Get outerHTML of elements, taking care\n  * of SVG elements in IE as well.\n  *\n  * @param {Element} DOM object\n  * @return {String}\n  */\n\nexport default function (el) {\n  if (el.outerHTML) {\n    return el.outerHTML\n  }\n  else {\n    let container = document.createElement('div');\n        container.appendChild(el.cloneNode(true));\n    return container.innerHTML;\n  }\n}\n","module.exports = function(name) {\r\n  if (Handlebars.templates === undefined || Handlebars.templates[name] === undefined) {\r\n      jQuery.ajax({\r\n          url : ma.themePath + '/js/templates/' + name + '.html',\r\n          success : function(data) {\r\n              if (Handlebars.templates === undefined) {\r\n                  Handlebars.templates = {};\r\n              }\r\n              Handlebars.templates[name] = Handlebars.compile(data);\r\n          },\r\n          async : false\r\n      });\r\n  }\r\n  return Handlebars.templates[name];\r\n};\r\n","export default function (window,document,$,undefined) {\n  $.extend($.expr[':'], {\n    // jQuery find all focusable elements\n    // see: https://coderwall.com/p/jqsanw/jquery-find-every-focusable-elements\n    focusable: function(el, index, selector){\n      return $(el).is('a, button, :input, [tabindex]');\n    }\n  });\n}(window,document,jQuery);\n","export default function (window,document,$,undefined) {\n  'use strict';\n\n  // Plain old javascript object to hold cached alert data.\n  // This prevents duplicate calls to endpoints on pages that\n  // display alerts in both the header and the body.\n  let ajaxCache = {};\n\n  // Object-orientated approach to jQuery plugin building, so as to not\n  // pollute global namespace or a complicated switch based on passed params.\n  let ajaxPattern = function(element, options) {\n    let endpoint = options.endpoint;\n    const pattern = options.renderPattern;\n    let patternTransform = options.transform;\n    let self = this;\n    let $element = $(element);\n\n    /**\n     * Wrapper function to get and render data for a given pattern.\n     */\n    self.updatePattern = function() {\n      self.getPatternData()\n        .then(function (patternData) {\n          // If a custom transform function was passed in, invoke it.\n          if (patternTransform && typeof patternTransform === \"function\") {\n            patternData = patternTransform(patternData);\n          }\n\n          //@todo validate the data against a schema: https://github.com/tdegrunt/jsonschema\n\n          // Only attempt to render a pattern if there is data.\n          if ($.isEmptyObject(patternData)) {\n            return;\n          }\n          // Render the pattern with the data.\n          try {\n            self.renderPattern(pattern,patternData);\n          }\n          catch (e) {\n            console.error(e);\n          }\n        })\n        .fail(function () {\n          console.error('MA::AjaxPattern::Could not get data at endpoint:', endpoint);\n        });\n    };\n\n    /**\n     * Use TwigJS to render the pattern with its data from the twig template.\n     *\n     * @param pattern\n     *  A namespaced path to a twig template for the pattern we want to render (i.e. @atoms/decorative-link.twig)\n     * @param data\n     *  The data structure which the pattern expects in order to render.\n     */\n    self.renderPattern = function(pattern,data) {\n      let template = Twig.twig({\n        href: self.getPatternPath(pattern),\n        id: pattern,\n        allowInlineIncludes: true,\n        // Set ma.patternPaths in your implementation's env.js file (see /source/_meta/_00-foot.twig)\n        namespaces: {\n          'base': ma.patternPaths['@base'],\n          'atoms': ma.patternPaths['@atoms'],\n          'molecules': ma.patternPaths['@molecules'],\n          'organisms': ma.patternPaths['@organisms'],\n          'templates': ma.patternPaths['@templates'],\n          'pages': ma.patternPaths['@pages'],\n          'meta': ma.patternPaths['@meta']\n        },\n        async: true, // Included/extended patterns loaded synchronously: https://github.com/twigjs/twig.js/issues/426\n        load: function(template) {\n          // Get compiled template with data.\n          let markup = template.render(data);\n          // Render markup in parent ajax-pattern component.\n          $element.html(markup);\n          // Trigger an event exposing the context for any listening pattern js module initialization.\n          $(document).trigger('ma:AjaxPattern:Render', [{'el': $element}]);\n        }\n      });\n    };\n\n    /**\n     * Returns the gettable path to a pattern based on its namespaced path.\n     *\n     * @param pattern\n     *   The namespaced path to a pattern (i.e. @atoms/decorative-link.twig)\n     *\n     * @returns {string}\n     *   The path to a pattern which can be used in a get request (i.e. /assets/patterns/atoms/decorative-link.twig )\n     */\n    self.getPatternPath = function(pattern) {\n      let pathParts = pattern.split(\"/\");\n      let namespace = pathParts.shift();\n      let patternPath = pathParts.join(\"/\");\n      // Set ma.patternPaths in your implementation's env.js file (see /source/_meta/_00-foot.twig)\n      return ma.patternPaths[namespace] + patternPath;\n    };\n\n    /**\n     * Asynchronous function which makes ajax request to passed in endpoint to get emergency alerts data.\n     *\n     * @returns {*}\n     *   A promise.\n     */\n    self.getPatternData = function() {\n      if (!endpoint) {\n        // throw an error\n        throw new Error('MA::AjaxPattern::An endpoint argument is required.');\n      }\n\n      // Check if we have a request already made or in-flight for this endpoint.\n      if (ajaxCache[endpoint]) {\n        return ajaxCache[endpoint];\n      }\n\n      // Make ajax request to endpoint (returns promise)\n      return ajaxCache[endpoint] = $.ajax({\n          type: 'GET',\n          url: endpoint,\n          cache: true,\n          dataType: 'json'\n      }).fail(function(jqXHR, textStatus, errorThrown) {\n          console.error('MA::AjaxPattern::Ajax Error: ', errorThrown);\n      });\n    };\n\n    self.updatePattern();\n    return true;\n  };\n\n\n  /**\n   * Create a custom Transform plugin.\n   */\n  $.fn.MassAjaxPattern = function(options) {\n\n    return this.each(function(i, el) {\n      let $element = $(el);\n      // Returns early if plugin is already there.\n      if ($element.data('mass-ajax-data')) {\n        return;\n      }\n      let data = new ajaxPattern(this, options);\n      $element.data('mass-ajax-data', data);\n    });\n\n  };\n\n  // Plugin defaults.\n  $.fn.MassAjaxPattern.defaults = {\n    endpoint: '',\n    pattern: '',\n    transform: undefined\n  };\n}(window,document,jQuery);\n","import getTemplate from \"../helpers/getHandlebarTemplate.js\";\nimport sticky from \"../helpers/sticky.js\";\nimport getOuterHtml from \"../helpers/getElementOuterHtml.js\";\n\nexport default  function(window, document, undefined, $, moment){\n  \"use strict\";\n\n  /**\n   * Common Helpers between event + location listings\n   */\n\n\n  /**\n   * Renders the new page of location listing image promos and broadcasts the rendered master data instance.\n   *\n   * @param args\n   *   Arguments object with the following structure:\n   *   {\n   *      page: (optional) the page to be rendered, defaults to 1\n   *      data: the instance of master data to render\n   *   }\n   */\n  function renderListingPage(args) {\n    if (args.data.hasOwnProperty('selectors')) {\n      clearListingPage(args.data.selectors.container, args.data.selectors.parent);\n      let $el = $(args.data.selectors.container).find(args.data.selectors.parent),\n          page = args.page ? args.page : 1;\n\n      args.data.items.forEach(function (item) {\n        if (item.isActive && item.page === page) {\n          $el.append(item.markup);\n        }\n      });\n\n      // Focus on the first focusable element in the first listing\n      let $firstListing = $el.find(args.data.selectors.row).first();\n      // :focusable is possible with helpers/jQueryExtend.js\n      $firstListing.find(':focusable').eq(0).focus();\n\n      if (args.data.selectors.hasOwnProperty('map') && args.data.selectors.map) {\n        sticky.init($(args.data.selectors.map));\n      }\n    }\n    else {\n      console.warn(\"masterData.selectors must be set for this listing.\");\n      return false;\n    }\n  }\n\n\n  /**\n   * Returns the data structure necessary to render pagination component, reflecting current state.\n   *\n   * @param args\n   *   An object with the following structure:\n   *   {\n   *     data: [instance of filtered, sorted master data],\n   *     targetPage: (optional) the page which should be active\n   *   }\n   *\n   * @returns {*}\n   *   Data structure necessary to render pagination component\n   */\n  function transformPaginationData(args) {\n    let data = args.data;\n    let targetPage = args.targetPage ? args.targetPage : 1; // default to first page if none passed\n    let totalPages = data.totalPages;\n    let pages = [];\n\n    for (let i = 1; i <= totalPages; i++) {\n      pages.push({\n        text: i.toString(),\n        active: i === targetPage\n      });\n    }\n\n    data.pagination.prev = {\n      text: \"Previous\",\n      disabled: targetPage === 1\n    };\n\n    data.pagination.next = {\n      text: \"Next\",\n      disabled: targetPage === totalPages\n    };\n\n    data.pagination.pages = pages;\n    data.pagination.currentPage = targetPage;\n\n    return data.pagination;\n  }\n\n  /**\n   * Updates the resultsHeading data structure to reflect the current component state.\n   *\n   * @param args\n   *    Arguments object with the following structure:\n   *    args: {\n   *      data: the current instance of master data,\n   *      page: (optional) the current page, defaults to 1\n   *    }\n   *\n   * @returns {resultsHeading|{numResults, totalResults}|*}\n   */\n  function transformResultsHeading(args) {\n    let pageTotal = 0,\n        totalActive = 0,\n        page = args.page ? args.page : 1,\n        data = args.data,\n        resultsHeading = data.resultsHeading; // preserve active resultsHeading.tags\n\n    // Tally the total active and page length.\n    data.items.map(function(item){\n      if (item.isActive) {\n        totalActive += 1;\n        if (item.page === page) {\n          pageTotal += 1;\n        }\n      }\n    });\n\n    // Get the index (from 1) of the first and last items on this page.\n    let firstItem = (Number(data.maxItems) * Number(page)) - (Number(data.maxItems) - 1),\n        lastItem = firstItem + (Number(pageTotal) - 1);\n\n    resultsHeading.totalResults = totalActive;\n    resultsHeading.numResults = firstItem + \" - \" + lastItem; // @todo add accessibility consideration here\n\n    return resultsHeading;\n  }\n\n  /**\n   * Creates an array with generated markup for location listing items, preserving original index.\n   *\n   * @param listing\n   *  The array of items\n   * @param template\n   *  The string name of the template\n   *\n   * @returns {Array}\n   *  An array of compiled markup\n   */\n  function transformListing(listing, template) {\n    // Get template for location listing (organisms > imagePromo)\n    let compiledTemplate = getTemplate(template);\n    let listingMarkup = [];\n    listing.forEach(function (data, index) {\n      let itemData = itemTransform(data);\n      listingMarkup[index] = compiledTemplate(itemData);\n    });\n    return listingMarkup;\n  }\n\n\n  /**\n   * Returns transformed item data object.\n   *\n   * @param item\n   *   The item.item[]{} being transformed.\n   *\n   * @returns {*}\n   *   The original item object with a formatted tag property.\n   */\n  function itemTransform(item) {\n    // Ensure tags are an array.\n    let tags = [];\n\n    $.map(item.tags, function(val, index) {\n      tags[index] = val;\n    });\n\n    item.tags = tags;\n\n    let tagsData = {\n      tagsFormatted: item.tags.map(transformTag)\n    };\n    return Object.assign({}, item, tagsData);\n  }\n\n  /**\n   * Returns a formatted item.tag object with a label and svg icon markup.\n   *\n   * @param tag\n   *   The tag being transformed.\n   *\n   * @returns {{label, svg: boolean}}\n   */\n  function transformTag(tag) {\n    return {\n      label: tag.label,\n      svg: getSvgFromTag(tag.id)\n    };\n  }\n\n  /**\n   * Returns the svg element markup from the corresponding tag filter checkbox label icon\n   *\n   * @param tag\n   *  The imagePromo tag.id whose icon we need\n   *\n   * @return string\n   *  The svg element for the matching filter form tag input.\n   */\n  function getSvgFromTag(tag) {\n    // Get the existing corresponding icon markup so we don't have to worry about outdated markup.\n    // return $('.js-filter-by-tags').find(\"#\" + tag).parent().siblings('svg').prop('outerHTML');\n    // Get outerHtml of svgElement shim for IE\n    // See: https://stackoverflow.com/questions/12592417/outerhtml-of-an-svg-element\n    return getOuterHtml($('.js-filter-by-tags').find(\"#\" + tag).siblings('svg')[0]);\n  }\n\n  /**\n   * Returns true if the passed filters array includes an item with the passed type.\n   *\n   * @param filters\n   *   Array of filters.\n   * @param type\n   *   The type of filter to search for.\n   *\n   * @returns {*|boolean}\n   */\n  function hasFilter(filters, type) {\n    return filters.some(function (filter) {\n      return filter.hasOwnProperty('type') && filter['type'] === type;\n    });\n  }\n\n  /**\n   * Returns the value(s) of the passed filters of the passed type.\n   *\n   * @param filters\n   *   Array of filters from which to abstract values.\n   * @param type\n   *   The type of filter to search for.\n   *\n   * @return array\n   *   An array of filter values of type.\n   */\n  function getFilterValues(filters, type) {\n    return filters.filter(function(data) {\n      return data.type === type;\n    }).map(function(data) {\n      return data.value;\n    })\n  }\n\n  /**\n   * Creates the active filter object based on either cleared or submitted filter data.\n   *\n   * @param args\n   *   An object with the following structure:\n   *   data {\n   *    [masterData current instance]\n   *   },\n   *   filterData: {\n   *     clearedFilter: (optional cleared filter data)\n   *     {\n   *       type: '[filter type]: location || tag',\n   *       text: '[filter text or label]',\n   *       value: '[filter value]'\n   *     }, || 'all' (if clear all button was pressed)\n   *     {\n   *       formData: (optional submitted form filter data)\n   *       [\n   *         {\n   *           type: '[filter type] location || tag',\n   *           text: '[filter label]',\n   *           value: '[filter value]'\n   *         }, ...\n   *       ]\n   *     }\n   *   }\n   *\n   * @returns {*}\n   */\n  function transformActiveTagsData(args) {\n    if (args.filterData.hasOwnProperty('clearedFilter')) {\n      return getActiveFilters(args.data, args.filterData); // This was an active tag interaction, get remaining filters.\n    }\n    else {\n      return args.filterData.formData; // This was a form submission, so just return the applied form data.\n    }\n  }\n\n  /**\n   * Returns an array of the currently active filters, based on passed filterData.\n   *\n   * @param data\n   *   The current instance of master data structure.\n   *\n   * @param filterData\n   *  An object representing the cleared filter:\n   *  {\n   *    clearedFilter: {\n   *       type: '[filter type]: location || tag',\n   *       text: '[filter text or label]',\n   *       value: '[filter value]'\n   *     } || 'all' (if clear all button was pressed)\n   *  }\n   *\n   * @returns {Array}\n   *   An array of the currently active filters:\n   *   [  {\n   *        type:\n   *        text:\n   *        value:\n   *      }, ... ]\n   */\n  function getActiveFilters(data, filterData) {\n    // Single filter button clicked, so remove that filter from the list.\n    if (filterData.clearedFilter !== \"all\") {\n      let filters = data.resultsHeading.tags;\n      // Remove the clicked tag from the tags array.\n      return filters.filter(function (tag) {\n        return tag.value !== filterData.clearedFilter.value;\n      });\n    }\n    else {\n      // Clear all button was clicked so remove all filters.\n      return [];\n    }\n  }\n\n\n  /**\n   * Assigns page values to masterData items, based on the provided max number.\n   *\n   * @param items\n   *   The master data items.\n   *\n   * @param max\n   *   The max number of items to show per page.\n   *\n   * @returns\n   *   The updated master data items.\n   */\n  function paginateItems(items, max) {\n    let page = 1,\n        pageTotal = 0;\n    let paginatedItems = items.map(function(item){\n      if (item.isActive) {\n        if (pageTotal < max){\n          item.page = page;\n        }\n        else {\n          page += 1;\n          pageTotal = 0;\n          item.page = page;\n        }\n        pageTotal += 1;\n      }\n      return item;\n    });\n\n    return {\n      items: paginatedItems,\n      totalPages: page\n    }\n  }\n\n  // Remove the listing content children on the current listing page.\n  function clearListingPage(listing, parent) {\n    $(listing).find(parent).html('');\n  }\n\n  /**\n   * Filters the listing data based on component filter state.\n   *\n   * @param data\n   *  An instance of masterData to start from.\n   * @param filterData\n   *  Data structure representing either the newly applied or cleared filters.\n   * @returns {*}\n   */\n  function filterListingData(data, filterData) {\n    // Get the currently active filters.\n    let filters = transformActiveTagsData({data: data, filterData: filterData});\n    // Update the results heading tags with the new active filters.\n    data.resultsHeading.tags = filters;\n\n    // If tag (checkbox) filter is present, filter based on current tag values.\n    if (hasFilter(filters, 'tag')) {\n      // Get just the tag values from the filters array.\n      let tags = getFilterValues(filters, 'tag');\n      // Identify active data based on filter.\n      return filterDataByTags(tags, data);\n    }\n\n    // If a date filter is present, filter based on the date filter values.\n    if (hasFilter(filters, 'dateRange')) {\n      return filterDataByDateTags(filters, data);\n    }\n\n\n    // Either there are no filters or the only active filter is location, make all items active\n    return makeAllActive(data);\n  }\n\n  /**\n   * Returns an instance of master data which is sorted alphabetically by item data.title.text\n   *\n   * @param data\n   *    The instance of master data being sorted.\n   *\n   * @returns {*}\n   *    Sorted instance of master data.\n   */\n  function sortDataAlphabetically(data) {\n    let items = data.items.sort(function(a, b) {\n      let nameA = a.data.title.text.toUpperCase();\n      let nameB = b.data.title.text.toUpperCase();\n\n      // Sort the items alphabetically\n      return (nameA < nameB) ? -1 : (nameA > nameB) ? 1 : 0;\n    });\n\n    let paginated = paginateItems(items, data.maxItems);\n    data.items = paginated.items;\n    data.totalPages = paginated.totalPages;\n    return data;\n  }\n\n  /**\n   * Geocodes an address string arg and executes callback upon successful return.\n   *\n   * @param address\n   *   Address string to be geocoded.\n   * @param callback\n   *   Callback function to call upon successful geocode return.\n   *\n   * @returns {*}\n   *   Upon success, the return value of the passed callback function.\n   */\n  function geocodeAddressString(address, callback) {\n    // Only attempt to execute if google's geocode library is loaded.\n    if (typeof ma.geocoder === \"undefined\") {\n      return;\n    }\n\n    // Geocode address string, then execute callback with argument upon success.\n    ma.geocoder.geocode({address: address}, function (results, status) {\n      if (status === google.maps.GeocoderStatus.OK) {\n        let place =  results[0];\n        return callback(place);\n      }\n      else {\n        console.warn('Geocode was not successful for the following reason: ' + status);\n      }\n    });\n  }\n\n  /**\n   * Geocodes an address string arg and executes callback upon successful return.\n   *\n   * @param address\n   *   Address string to be geocoded.\n   * @param callback\n   *   Callback function to call upon successful geocode return.\n   *\n   * @returns {*}\n   *   Upon success, the return value of the passed callback function.\n   */\n  function geocodePlaceId(place_id, callback) {\n    // Only attempt to execute if google's geocode library is loaded.\n    if (typeof ma.geocoder === \"undefined\") {\n      return;\n    }\n\n    // Geocode address string, then execute callback with argument upon success.\n    ma.geocoder.geocode({ 'placeId': place_id}, function(results, status) {\n      if (status === google.maps.GeocoderStatus.OK) {\n        let place =  results[0];\n        return callback(place);\n      }\n      else {\n        console.warn('Geocode was not successful for the following reason: ' + status);\n      }\n    });\n  }\n\n  /**\n   * Resets all items in a master data instance to active (i.e. not filtered out).\n   *\n   * @param data\n   *    The instance of master data whose items are being made active.\n   *\n   * @returns {*}\n   *    The master data instance with all active items.\n   */\n  function makeAllActive(data) {\n    data.items = data.items.map(function(item){\n      item.isActive = true;\n      return item;\n    });\n    return data;\n  }\n\n  /**\n   * Returns masterData with necessary filtered items flagged inactive.\n   *\n   * @param tags\n   *  The array of filters by which to filter.\n   *\n   * @param data\n   *   The current instance of master data being filtered.\n   *\n   * @returns {*}\n   *   The 'filtered' (flagged) instance of master data.\n   */\n  function filterDataByTags(tags, data){\n    // @todo use map similar to sortDataAlphabetically\n    data.items = data.items.map(function(item) {\n      item.isActive = doesItemContainTags(item.data.tags, tags);\n      return item;\n    });\n\n    return data;\n  }\n\n  /**\n   * Location Listing Specific\n   */\n\n  /**\n   * Determines if an masterData item contains the necessary tag(s).\n   *\n   * @param haystack\n   *  The data object in question.\n   *\n   * @param needle\n   *   The tag(s) being searched for.\n   *\n   * @returns {boolean|*}\n   */\n  function doesItemContainTags(haystack, needle) {\n    return needle.every(function(v) {\n      return Boolean(haystack.filter(function(item){\n        // return Object.values(item).indexOf(v) !== -1;\n        // return Object.values(item).indexOf(v) !== -1;\n        // Object.values shim for IE11\n        return Object.keys(item).map(function(i) { return item[i]; }).indexOf(v) !== -1;\n      }).length);\n    });\n  }\n\n  /**\n   * Event Listing specific helpers\n   */\n\n  /**\n   * Calculate distance from lat/lng.\n   *\n   * @param lat1\n   *    Latitude 1 input.\n   * @param lon1\n   *    Longitude 1 input.\n   * @param lat2\n   *    Latitude 2 input.\n   * @param lon2\n   *    Longitude 2 input.\n   * @param unit\n   *\n   * @returns {*}\n   *    Return the distance from points.\n   */\n  function calculateDistance(lat1, lon1, lat2, lon2, unit) {\n    let radlat1 = Math.PI * lat1/180;\n    let radlat2 = Math.PI * lat2/180;\n    let radlon1 = Math.PI * lon1/180;\n    let radlon2 = Math.PI * lon2/180;\n    let theta = lon1-lon2;\n    let radtheta = Math.PI * theta/180;\n    let dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n    dist = Math.acos(dist);\n    dist = dist * 180/Math.PI;\n    dist = dist * 60 * 1.1515;\n\n    if (unit === \"K\") {\n      dist = dist * 1.609344\n    }\n    if (unit === \"N\") {\n      dist = dist * 0.8684\n    }\n    return dist\n  }\n\n  /**\n   * Create a moment.js object for a passed eventTeaser date data\n   *\n   * @param args\n   *   Data structure for eventTeaser.date and a type (\"start\" || \"end\") property\n   * @returns\n   *   A moment.js object for the event start/end date in MM/D format.\n   *   See: https://momentjs.com/docs/#/parsing/string-format/\n   */\n  function makeMoment(args) {\n    /**\n     * args: {\n     *   data: {\n     *     summary: \"March 2, 2017 - April 25, 2017\",\n     *     startMonth: \"Mar\",\n     *     startDay: \"2\",\n     *     startTimestamp: \"3/2/2017 - 14:00\",\n     *     endMonth: \"Apr\",\n     *     endDay: \"25\",\n     *     endTimestamp: \"4/25/2017 - 15:00\"\n     *   },\n     *   type: 'start' || 'end'\n     * }\n     */\n    // Create moment.js object for start timestamp\n    if (args.hasOwnProperty('type') && args.type === 'start') {\n      return moment(args.data.startTimestamp, 'M/DD/YYYY')\n    }\n    // Create a moment.js object for end timestamp\n    if (args.hasOwnProperty('type') && args.type === 'end') {\n      return args.data.endTimestamp ? moment(args.data.endTimestamp, 'M/DD/YYYY') : \"\";\n    }\n    return false;\n  }\n\n  /**\n   * Returns an instance of master data which is sorted by start timestamp then alphabetically by item data.title.text\n   *\n   * @param data\n   *    The instance of master data being sorted.\n   * @param dateType\n   *    The type of date by which to sort: start || end\n   *\n   * @returns {*}\n   *    Sorted instance of master data.\n   */\n  function sortDataByDate(data, dateType) {\n    let type = dateType ? dateType : 'start';\n    let dateA = '';\n    let dateB = '';\n    let items = data.items.sort(function(a, b) {\n      if (type !== \"end\") {\n        dateA = a.start;\n        dateB = b.start;\n      }\n      else {\n        dateA = a.end;\n        dateB = b.end;\n      }\n\n      let nameA = a.data.title.text.toUpperCase();\n      let nameB = b.data.title.text.toUpperCase();\n\n      // Sort the items by start date timestamp, then alphabetically.\n      // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\n      return (dateA.isBefore(dateB, 'minute')) ? -1 : (dateA.isAfter(dateB, 'minute')) ? 1 : (nameA < nameB) ? -1 : (nameA > nameB) ? 1 : 0;\n    });\n\n    let paginated = paginateItems(items, data.maxItems);\n    data.items = paginated.items;\n    data.totalPages = paginated.totalPages;\n    return data;\n  }\n\n  /**\n   * Returns data with necessary items flagged inactive according to date/date range.\n   *\n   * @param tags\n   *  The array of filters by which to filter.\n   *\n   * @param data\n   *   The current instance of master data being filtered.\n   *\n   * @returns {*}\n   *   The 'filtered' instance of data after checking date(s).\n   */\n  function filterDataByDateTags(tags, data) {\n    data.items = data.items.map(function(item) {\n      item.isActive = isEventInDateRange(item, tags);\n      return item;\n    });\n    let paginated = paginateItems(data.items, data.maxItems);\n    data.items = paginated.items;\n    data.totalPages = paginated.totalPages;\n    return data;\n  }\n\n  /**\n   * Returns an item's isActive value depending on the date range from date filters.\n   *\n   * @param item\n   *   The item.item[]{} being transformed.\n   *\n   * @param tags\n   *  The array of filters by which to filter.\n   *\n   * @returns\n   *   The updated item.\n   */\n  function isEventInDateRange(item, tags) {\n    let filterStart = '';\n    let filterEnd = '';\n\n    tags.map(function(tag) {\n      if (tag.type == 'dateRange') { filterStart = moment(tag.start, 'M/DD/YYYY'); }\n      if (tag.type == 'dateRange') { filterEnd = moment(tag.end, 'M/DD/YYYY'); }\n    });\n\n    if (filterEnd && filterStart) {\n      return item.start.isSameOrAfter(filterStart, 'day') && item.start.isSameOrBefore(filterEnd, 'day') ? true : false;\n    }\n    else {\n      return item.start.isSame(filterStart, 'day') ? true : false;\n    }\n  }\n\n  return {\n    renderListingPage,\n    transformPaginationData,\n    transformResultsHeading,\n    filterListingData,\n    hasFilter,\n    getFilterValues,\n    filterDataByTags,\n    filterDataByDateTags,\n    transformActiveTagsData,\n    paginateItems,\n    clearListingPage,\n    sortDataAlphabetically,\n    sortDataByDate,\n    geocodeAddressString,\n    geocodePlaceId,\n    makeAllActive,\n    calculateDistance,\n    transformListing,\n    makeMoment\n  };\n\n}(window, document, undefined, jQuery, moment);\n","module.exports = function(window, document, undefined){\n  \"use strict\";\n\n  function slugify(text) {\n    return text.toString().toLowerCase()\n      .replace(/\\s+/g, '-')           // Replace spaces with -\n      .replace(/[^\\w\\-]+/g, '')       // Remove all non-word chars\n      .replace(/\\-\\-+/g, '-')         // Replace multiple - with single -\n      .replace(/^-+/, '')             // Trim - from start of text\n      .replace(/-+$/, '');            // Trim - from end of text\n  }\n\n  return slugify;\n\n}(window, document);","import checkActive from \"../helpers/cssControlCode.js\";\r\n\r\nexport default function (window,document,$,undefined) {\r\n  let $el,\r\n    $elParent,\r\n    elHeight,\r\n    elWidth,\r\n    lowerLimit,\r\n    upperLimit,\r\n    debounceTimer,\r\n    runCode = false;\r\n\r\n  function init(element) {\r\n    $el = element;\r\n    $elParent = $el.parent().css('position') === 'relative' ? $el.parent() : $el.parent().offsetParent();\r\n\r\n    // default assumption as to where the screen will load\r\n    $el.attr('data-sticky','top');\r\n\r\n    updateData();\r\n\r\n    // update variables one more time to catch any post page load changes\r\n    window.setTimeout(function(){\r\n      updateData();\r\n    },1000);\r\n    \r\n    $(window).resize(function() {\r\n      updateData();\r\n      setPosition();\r\n    });\r\n\r\n    // toggle the sticky positioning\r\n    $(window).scroll(function () {\r\n      setPosition();\r\n    });\r\n  }\r\n\r\n  function updateData(){\r\n    let newRunCode = checkActive($el);\r\n\r\n    if(runCode && !newRunCode) {\r\n      $el.removeAttr('style');\r\n    }\r\n\r\n    runCode = newRunCode;\r\n\r\n    if(!runCode){\r\n      return;\r\n    }\r\n    \r\n    runCode = newRunCode;\r\n    elHeight = $el.height();\r\n    elWidth = $elParent.width();\r\n    upperLimit = $elParent.offset().top;\r\n    lowerLimit = upperLimit + $elParent.outerHeight(true) - $el.height();\r\n\r\n    $el.width(elWidth);      \r\n  }\r\n\r\n  function setPosition() {\r\n    if(!runCode){\r\n      $el.attr('data-sticky','top');\r\n      return false;\r\n    }\r\n\r\n    let windowTop = $(window).scrollTop(),\r\n        attr = $el.attr('data-sticky'),\r\n        top = attr !== 'top' && windowTop <= upperLimit, \r\n        middle = attr !== 'middle' && windowTop < lowerLimit && windowTop > upperLimit,\r\n        bottom = attr !== 'bottom' && windowTop >= lowerLimit;\r\n    \r\n    if(top) {\r\n      $el.attr('data-sticky','top');\r\n    } \r\n    else if (middle) {\r\n      $el.attr('data-sticky','middle');\r\n    } \r\n    else if (bottom) {\r\n      $el.attr('data-sticky','bottom');\r\n    }\r\n  }\r\n\r\n  return {init};\r\n\r\n}(window,document,jQuery);","export default function (window,document,undefined) {\n\n  function throttle (fn, threshhold, scope) {\n    threshhold || (threshhold = 250); // default threshold is 250 ms\n    let last,\n\tdeferTimer;\n    return function () {\n      let context = scope || this;\n\n      let now = +new Date,\n\t  args = arguments;\n      if (last && now < last + threshhold) {\n\t// hold on to it\n\tclearTimeout(deferTimer);\n\tdeferTimer = setTimeout(function () {\n\t  last = now;\n\t  fn.apply(context, args);\n\t}, threshhold);\n      } else {\n\tlast = now;\n\tfn.apply(context, args);\n      }\n    };\n  }\n\n  return throttle;\n\n}(window,document);\n","import                            \"./helpers/jQueryExtend.js\";\nimport                            \"./helpers/jQueryExtend_ajaxPattern.js\";\nimport ajaxPattern                from \"./modules/ajaxPattern.js\";\nimport ajaxPatternOverride        from \"./modules/ajaxPatternOverride.js\";\nimport accordions                 from \"./modules/accordions.js\";\nimport googleMap                  from \"./modules/googleMap.js\";\nimport back2top                   from \"./modules/back2top.js\";\nimport clickable                  from \"./modules/clickable.js\";\nimport dropdown                   from \"./modules/dropdown.js\";\nimport emergencyAlerts            from \"./modules/emergencyAlerts.js\";\nimport eventFilters               from \"./modules/eventFilters\";\nimport eventListingInteractive    from \"./modules/eventListingInteractive\";\nimport footnote                   from \"./modules/footnote.js\";\nimport formValidation             from \"./modules/formValidation.js\";\nimport headerTags                 from \"./modules/headerTags.js\";\nimport hideAlert                  from \"./modules/hideAlert.js\";\nimport inlineOverlay              from \"./modules/inlineOverlay.js\";\nimport imageFill                  from \"./modules/imageFill.js\";\nimport keywordSearch              from \"./modules/keywordSearch.js\";\nimport locationFilters            from \"./modules/locationFilters.js\";\nimport locationListing            from \"./modules/locationListing.js\";\nimport mainNav                    from \"./modules/mainNav.js\";\nimport mobileNav                  from \"./modules/mobileNav.js\";\nimport orgSelector                from \"./modules/orgSelector.js\";\nimport pagination                 from \"./modules/pagination.js\";\nimport pikaday                    from \"./modules/pikaday.js\";\nimport responsiveVideo            from \"./modules/responsiveVideo.js\";\nimport resultsHeading             from \"./modules/resultsHeading.js\";\nimport richText                   from \"./modules/richText.js\";\nimport scrollAnchors              from \"./modules/scrollAnchors.js\";\nimport truncateTitle              from \"./modules/truncateTitle.js\";\nimport formInputs                 from \"./modules/formInputs.js\";\nimport utilNav                    from \"./modules/utilNav.js\";\nimport stickyTOC                  from \"./modules/stickyTOC.js\";\n","import checkActive from \"../helpers/cssControlCode.js\";\r\n\r\nexport default function (window,document,$,undefined) {\r\n\r\n  $('.js-accordion').each(function(index){\r\n    init.apply(this, [index]);\r\n  });\r\n\r\n  $(document).on('ma:AjaxPattern:Render', function(e,data){\r\n    let $context = data.el;\r\n    if ($context.find('.js-accordion').length) {\r\n      $context.find('.js-accordion').each(function(index){\r\n        // Try to ensure we don't collide with the index values from DOM load.\r\n        let offset = 100;\r\n        let offsetIndex = offset + index;\r\n        init.apply(this, [offsetIndex]);\r\n      })\r\n    }\r\n  });\r\n\r\n  function init(index) {\r\n    let $el = $(this),\r\n        $link = $el.find('.js-accordion-link'),\r\n        $content = $el.find('.js-accordion-content'),\r\n        $status = $el.find('.js-accordion-status'),\r\n        id = $content.attr('id') || 'accordion' + (index + 1),\r\n        active = checkActive($el),\r\n        open = $el.hasClass('is-open');\r\n\r\n    $content.attr('id', id);\r\n    $link.attr('aria-expanded',open).attr('aria-controls', id);\r\n\r\n    if(open) {\r\n      // setup the inline display block\r\n      $content.stop(true,true).slideDown();\r\n    }\r\n\r\n    $link.on('click',function(e){\r\n      if(active) {\r\n        e.preventDefault();\r\n        open = $el.hasClass('is-open');\r\n        if(open){\r\n          $content.stop(true,true).slideUp();\r\n          $status.attr('aria-label', 'click to show info');\r\n        } else {\r\n          $content.stop(true,true).slideDown();\r\n          $status.attr('aria-label', 'click to hide info');\r\n        }\r\n        $link.attr('aria-expanded',!open);\r\n        $el.toggleClass('is-open');\r\n      }\r\n    });\r\n\r\n    $(window).resize(function () {\r\n      let temp = checkActive($el);\r\n\r\n      if(temp !== active && !temp) {\r\n        $content.removeAttr('style');\r\n        $el.removeClass('is-open');\r\n        $link.attr('aria-expanded','false');\r\n      }\r\n\r\n      active = temp;\r\n    }).resize();\r\n  }\r\n\r\n}(window,document,jQuery);\r\n","/**\n * @file\n * Ajax Alert js has to execute prior to its dependent accordion and emergency alert js modules.\n */\n\nexport default function (window,document,$,undefined) {\n\n  $('.js-ajax-pattern').each(function(){\n    // Get the endpoint which is passed in as ajaxAlerts.endpoint to organism data attribute.\n    let endpoint = $(this).data('ma-ajax-endpoint');\n    if (!endpoint) {\n      console.error(\"MA::AjaxPattern::This pattern requires an endpoint to be passed in as an argument.\");\n      return false;\n    }\n\n    let renderPattern = $(this).data('ma-ajax-render-pattern');\n    if (!renderPattern) {\n      console.error(\"MA::AjaxPattern::This pattern requires a child pattern to be passed as an argument.\");\n      return false;\n    }\n    try {\n      $(this).MassAjaxPattern({\"endpoint\": endpoint, \"renderPattern\": renderPattern});\n    }\n    catch (e) {\n      console.error(e);\n    }\n  });\n\n}(window,document,jQuery);\n","/**\n * @file\n * This demonstrates how to pass a transform function to MassAjaxPattern.\n */\n\nexport default function (window,document,$,undefined) {\n\n  // Note that this selector is passed into the template so that this is run instead of the\n  // default 'js-ajax-pattern'.  See the ajaxPattern.customSelector in guide.json page object.\n  // In an implementation of this you would want to create your own selector and avoid\n  // js-ajax-pattern and js-ajax-pattern-override since Mayflower will attach to these.\n  $('.js-ajax-pattern-override').each(function(){\n    // Get the endpoint which is passed in as ajaxAlerts.endpoint to organism data attribute.\n    let endpoint = $(this).data('ma-ajax-endpoint');\n    if (!endpoint) {\n      console.error(\"MA::AjaxPattern::This pattern requires an endpoint to be passed in as an argument.\");\n      return false;\n    }\n\n    let renderPattern = $(this).data('ma-ajax-render-pattern');\n    if (!renderPattern) {\n      console.error(\"MA::AjaxPattern::This pattern requires a child pattern to be passed as an argument.\");\n      return false;\n    }\n    try {\n      $(this).MassAjaxPattern({\n        \"endpoint\": endpoint,\n        \"renderPattern\": renderPattern,\n        \"transform\": function(ajaxData) {\n          // Example of some custom data transformation being done to the data according to implementation needs.  This will often include restructuring of data.\n          // If business logic indicates that the pattern should not render (for example, if the endpoint returns no emergency alert data) then this function should return an empty js object {}.\n          data = ajaxData;\n          data.emergencyAlerts.alerts = data.emergencyAlerts.these.are.alerts;\n          return data;\n        }\n      });\n    }\n    catch (e) {\n      console.error(e);\n    }\n  });\n\n}(window,document,jQuery);\n","export default function (window,document,$,undefined) {\r\n  let $footer = $('.js-footer'),\r\n      visibleThreshold = 250,\r\n      staticThreshold = 50;\r\n\r\n  $(\".js-back2top\").each(function() {\r\n    let $el = $(this);\r\n\r\n    $el.on('click',function(e) {\r\n      e.preventDefault();\r\n      try {\r\n        $(\"html, body\").stop(true,true).animate({scrollTop:0}, '750');\r\n      } \r\n      catch(e) {\r\n        $('body').scrollTop(0);\r\n      }\r\n      // Bring keyboard focus back to top as well.\r\n      $(\"#main-content\").focus();\r\n      return false;\r\n    });\r\n\r\n    $(window).on('scroll', function() {\r\n      // if we've exceeded the threshold of scrolling\r\n      // from the top, show control\r\n      let scrollTop = $(window).scrollTop();\r\n\r\n      if (scrollTop > visibleThreshold) {\r\n          $el.removeClass('is-hidden');\r\n      } else {\r\n          $el.addClass('is-hidden');\r\n      }\r\n    });\r\n  });\r\n\r\n}(window,document,jQuery);","export default function (window,document,$,undefined) {\r\n  $('.js-clickable').each(function(){\r\n    // if the this is clicked\r\n    $(this).click(function(event){\r\n      event.preventDefault();\r\n\r\n      var $el = $(this).find('.js-clickable-link').first();\r\n      // find the destination\r\n      var dest = $el.attr(\"href\");\r\n      // if the target attribute exists\r\n      if(\"_blank\" === $el.attr(\"target\")) {\r\n        // launch new tab/window\r\n        window.open(dest);\r\n      } else {\r\n        // otherwise redirect to a new page\r\n        window.location = dest;\r\n      }\r\n    });\r\n  });\r\n}(window,document,jQuery);","// ****** basic custom select that uses mobile select keyboard ******\r\nlet dropdownMenu = document.querySelectorAll(\".js-dropdown\");\r\n\r\nif(null !== dropdownMenu){\r\n\r\n  let length = dropdownMenu.length;\r\n\r\n  for (let i = 0; i < length; i++ ) {\r\n    let parentEl = dropdownMenu[i],\r\n        selectEl = parentEl.querySelector(\".js-dropdown-select\"),\r\n        link = parentEl.querySelector(\".js-dropdown-link\")\r\n\r\n    if(null === selectEl || null === link) {\r\n      break;\r\n    }\r\n\r\n    selectEl.onchange = function() {\r\n      let elem = (typeof this.selectedIndex === \"undefined\" ? window.event.srcElement : this);\r\n      link.innerText = elem.text || elem.options[elem.selectedIndex].text;\r\n    }\r\n  }\r\n}\r\n","import cookie   from \"../helpers/cookies.js\";\r\n\r\nexport default function (window,document,$,undefined) {\r\n  // Emergency Alerts start close on page load\r\n  // the default behavior is to expand the alerts\r\n  // Emergency Alerts should stay closed if the cookie is set to false\r\n\r\n  /* ********* NOTE:\r\n    This component is dependent on the\r\n    accordion.js component runing before it.\r\n  ********* */\r\n\r\n  $('.js-emergency-alerts').each(function(){\r\n      init.apply(this);\r\n  });\r\n\r\n  $(document).on('ma:AjaxPattern:Render', function(e,data){\r\n    let $context = data.el;\r\n    if ($context.find('.js-emergency-alerts').length) {\r\n      $context.find('.js-emergency-alerts').each(function(){\r\n        init.apply(this);\r\n      })\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Initialize the emergency alert.\r\n   */\r\n  function init() {\r\n    let open = true,\r\n        id = $(this).data('id'),\r\n        cookieName = 'emergency-alerts' + id,\r\n        cookieValue = cookie.getCookie(cookieName),\r\n        $button = $(this).find('.js-accordion-link');\r\n\r\n    $button.on('click', function() {\r\n      // clicking this link also triggers the accordion click\r\n      // toggle the current state\r\n      open = !open;\r\n      // update open/close state cookie\r\n      // leave off third argument to make it expire on session\r\n      cookie.setCookie(cookieName,open);\r\n    });\r\n\r\n    // if the user has closed the alerts on a previous page\r\n    if(typeof(cookieValue) !== 'undefined' && cookieValue === 'false') {\r\n      open = false;\r\n      // set the state of aria-expanded\r\n      $button.attr('aria-expanded', open);\r\n    }\r\n\r\n    // Emergency Alerts loads closed so expand it.\r\n    if(open) {\r\n      open = false; // clicking the link swaps the value\r\n      $button.first().trigger('click');\r\n    }\r\n  }\r\n}(window,document,jQuery);\r\n","export default function (window,document,$,undefined) {\n  $('.js-event-filters').each(function(){\n    let $el = $(this);\n\n    // When google map libraries are loaded, initialize places.autocomplete on the location input, if it exists.\n    $(document).on('ma:LibrariesLoaded:GoogleMaps', function() {\n      let $locationFilterParent = $('.js-event-filter-by-location', $el);\n      let $locationFilter = $locationFilterParent.find('input');\n      if ($locationFilter.length) {\n        // Create the google places autocomplete object and associate it with the zip code text input.\n        let locationInput = document.getElementById($locationFilter.attr('id'));\n        let swLat = $locationFilterParent.data('maPlaceBoundsSwLat');\n        let swLng = $locationFilterParent.data('maPlaceBoundsSwLng');\n        let neLat = $locationFilterParent.data('maPlaceBoundsNeLat');\n        let neLng = $locationFilterParent.data('maPlaceBoundsNeLng');\n\n        let defaultBounds = new google.maps.LatLngBounds(new google.maps.LatLng(swLat,swLng), new google.maps.LatLng(neLat,neLng));\n\n        // See options: https://developers.google.com/maps/documentation/javascript/places-autocomplete#add_autocomplete\n        let options = {\n          bounds: defaultBounds,\n          strictBounds: true,\n          types: ['geocode'],\n          componentRestrictions: {country: 'us'},\n          placeIdOnly: true\n        };\n        ma.autocomplete = new google.maps.places.Autocomplete(locationInput, options);\n      }\n    });\n\n    // Listen for new data from another component interaction (i.e. results heading), update form.\n    $el.on('ma:FormFilter:DataUpdated', function(e, data){\n      renderForm({clearedFilter: data.clearedFilter, $form: $el});\n    });\n\n    // Handle global form submission.\n    $el.submit(function(e){\n      e.preventDefault();\n      // Update master data with the various filter values.\n      let formData = getFormData({$form: $(this)});\n\n      // Trigger location listing filter event with current filter values.\n      $el.trigger('ma:EventFilter:FormSubmitted', [{formData: formData}]);\n    });\n\n  });\n\n  function renderForm(args) {\n    let clearedFilter = args.clearedFilter;\n    // The clear all button was pressed.\n    if (clearedFilter === \"all\") {\n      clearForm(args);\n    }\n    // Single filter button was pressed.\n    else {\n      clearDeactivatedFilter(args);\n    }\n  }\n\n  function getFormData(args) {\n    let $form = $(args.$form),\n      $location = $form.find('.js-event-filter-by-location'),\n      $tags = $form.find('.js-filter-by-tags'),\n      $dateStart = $form.find('.js-filter-by-date-range__start'),\n      $dateEnd = $form.find('.js-filter-by-date-range__end'),\n      formData = [];\n\n    // Get location\n    if ($location.find('input').length) {\n      let place = $location.find('input').val();\n      if (place) {\n        formData.push({\n          type: 'location',\n          text: place,\n          value: place\n        });\n      }\n    }\n\n    let dateRange = '',\n        startDate = '',\n        endDate = '',\n        useToday = false;\n\n    // Get start date.\n    if ($dateStart.find('input').length) {\n      startDate = $dateStart.find('input').val();\n      if (startDate) {\n        dateRange += startDate;\n      }\n      else {\n        startDate = moment().format('M/DD/YYYY');\n        useToday = true;\n      }\n    }\n\n    // Get end date.\n    if ($dateEnd.find('input').length) {\n      endDate = $dateEnd.find('input').val();\n      if (endDate) {\n        if (startDate && !useToday) {\n          dateRange += ' - ' + endDate;\n        }\n        else {\n          dateRange = 'Today - ' + endDate;\n        }\n      }\n    }\n\n    if (dateRange) {\n      formData.push({\n        type: 'dateRange',\n        text: dateRange,\n        value: dateRange,\n        start: startDate,\n        end: endDate,\n      });\n    }\n\n    // Get checkboxes/tags.\n    $tags.find('input:checked').each(function() {\n      formData.push({\n        'type': 'tag',\n        'text': $(this).next(\"label\").text(),\n        'value': $(this).val()\n\n      });\n    });\n\n    return formData;\n  }\n\n  function clearDeactivatedFilter(args) {\n    let $form = $(args.$form),\n      $place = $form.find('.js-event-filter-by-location'),\n      $dateStart = $form.find('.js-filter-by-date-range__start'),\n      $dateEnd = $form.find('.js-filter-by-date-range__end'),\n      $tags = $form.find('.js-filter-by-tags'),\n      clearedFilter = args.clearedFilter;\n\n    // If the cleared filter button was for a location filter.\n    if (clearedFilter.type === 'location') {\n      $place.find('input').val(\"\");\n      return;\n    }\n    // Clear dates text inputs.\n    if (clearedFilter.type === 'dateRange') {\n      $dateStart.find('input').val(\"\");\n      $dateEnd.find('input').val(\"\");\n      return;\n    }\n    // If the cleared filter button was for a tag filter.\n    if (clearedFilter.type === 'tag') {\n      $tags.find('input[type=checkbox][value=' + clearedFilter.value + ']').prop('checked', false);\n    }\n  }\n\n  function clearForm(args) {\n    let $form = $(args.$form),\n      $place = $('.js-event-filter-by-location', $form).find('input'),\n      $dateStart = $('.js-filter-by-date-range__start', $form).find('input'),\n      $dateEnd = $('.js-filter-by-date-range__end', $form).find('input');\n\n    // Clear location text input.\n    if ($place.length) {\n      $place.val(\"\");\n    }\n\n    // Clear start date text input.\n    if ($dateStart.length) {\n      $dateStart.val(\"\");\n    }\n\n    // Clear end date text input.\n    if ($dateEnd.length) {\n      $dateEnd.val(\"\");\n    }\n\n    // Check for tags and uncheck all checked tags inputs.\n    if (typeof $tags != \"undefined\") {\n      $tags.find('input:checked').prop('checked', false);\n    }\n  }\n\n}(window,document,jQuery);\n","import listings from \"../helpers/listing.js\";\n\nexport default function (window,document,$,undefined) {\n  let container = '.js-event-listing-interactive',\n      parent = '.js-event-listing-items',\n      row = '.js-event-listing-item';\n\n  $('.js-event-listing-interactive').each(function(i) {\n    let $el = $(this),\n        $resultsHeading = $el.find('.js-results-heading'),\n        $pagination = $el.find('.js-pagination'),\n        $eventFilter = $el.find('.js-event-filters');\n\n    // Get the location listing component data (this could be replaced with an api)\n    const rawData = ma.eventListingInteractive[i]; // Data object created in @organisms/by-author/event-listing-interactive.twig\n\n    let masterData = []; // master data structure to preserve state\n\n    masterData = populateMasterDataSource(rawData); // to preserve state\n\n    // Handle location listings form interaction (triggered by locationFilters.js).\n    $eventFilter.on('ma:EventFilter:FormSubmitted', function (e, formValues) {\n      // transformData() returns a jQuery deferred object which allows us to wait for any asynchronous js execution to return before executing the .done(callback).\n      // @see: https://api.jquery.com/deferred.done/\n      transformData(masterData, formValues).done(function (transformation) {\n        masterData = transformation.data; // preserve state\n        // Update the results heading based on the current items state.\n        transformation.data.resultsHeading = listings.transformResultsHeading({data: transformation.data});\n        // Update pagination data structure, reset to first page\n        transformation.data.pagination = listings.transformPaginationData({data: transformation.data});\n        // Render the listing page.\n        listings.renderListingPage({data: transformation.data});\n        // Trigger child components render with updated data\n        updateChildComponents(transformation);\n      });\n    });\n\n\n    // Handle active filter/tag button interactions (triggered by resultsHeading.js).\n    $resultsHeading.on('ma:ResultsHeading:ActiveTagClicked', function (e, clearedFilter) {\n      // transformData() returns a jQuery deferred object which allows us to wait for any asynchronous js execution to return before executing the .done(callback).\n      // @see: https://api.jquery.com/deferred.done/\n      transformData(masterData, clearedFilter).done(function (transformation) {\n        masterData = transformation.data; // preserve state\n        transformation.clearedFilter = clearedFilter;\n\n        masterData = transformation.data; // preserve state\n        // Update the results heading based on the current items state.\n        transformation.data.resultsHeading = listings.transformResultsHeading({data: transformation.data});\n        // Update pagination data structure, reset to first page\n        transformation.data.pagination = listings.transformPaginationData({data: transformation.data});\n        // Render the listing page.\n        listings.renderListingPage({data: transformation.data});\n        // Trigger child components render with updated data\n        updateChildComponents(transformation);\n      });\n    });\n\n    // Handle pagination click events -- winning!\n    $pagination.on('ma:Pagination:Pagination', function (e, target) {\n      \"use strict\";\n      let nextPage = target;\n\n      // Get the current page, default to first page if not in global data object.\n      let currentPage = masterData.pagination.currentPage ? masterData.pagination.currentPage : 1;\n      if (target === \"next\") {\n        nextPage = currentPage + 1;\n      }\n      if (target === \"previous\") {\n        nextPage = currentPage - 1;\n      }\n\n      masterData.pagination = listings.transformPaginationData({data: masterData, targetPage: nextPage});\n      masterData.resultsHeading = listings.transformResultsHeading({data: masterData, page: nextPage});\n      listings.renderListingPage({data: masterData, page: nextPage});\n\n      // Trigger child components render with updated data\n      updateChildComponents({data: masterData});\n    });\n\n    // Trigger events to update child components with new data.\n    function updateChildComponents(args) {\n      $resultsHeading.trigger('ma:ResultsHeading:DataUpdated', [args.data.resultsHeading]);\n\n      $pagination.trigger('ma:Pagination:DataUpdated', [args.data.pagination]);\n      if (args.clearedFilter) {\n        $eventFilter.trigger('ma:FormFilter:DataUpdated', [args.clearedFilter]);\n      }\n    }\n\n    /**\n     * Returns a master data structure with page level / listing item level data and markup, to reflect component state.\n     *\n     * @param listing\n     *   The listing data structure to use as a source\n     * @returns {Array}\n     *   An array with the following structure:\n     *    [\n     *      maxItems: the max number of items to show per listing \"page\" if provided, defaults to all\n     *      totalPages: the number of pages of items that should render, given the current filters\n     *      resultsHeading: the data structure necessary to render a resultsHeading component\n     *      items: an array of listing items [\n     *        isActive: whether or not the listing should be shown, given current filters state\n     *        page: the page that the listing, if active, will appear on, given the current sort order\n     *        data: the data structure for the eventTeaser component\n     *        markup: the compiled eventTeaser markup\n     *        start: the momentjs object for the start timestamp\n     *      ]\n     *      pagination: the data structure necessary to render a pagination component,\n     *      selectors: the necessary $selectors for rendering the listing\n     *    ]\n     */\n    function populateMasterDataSource(listing) {\n      // Populate master data structure\n      let masterData = [];\n\n      // Ensure eventListing.events.items is an array (the twig template json_encode()'s a php array)\n      let listArray = [];\n      $.map(listing.eventListing.events, function(val, index) {\n        listArray[index] = val;\n      });\n\n      listing.eventListing.events = listArray;\n\n      // Ensure eventListing.pagination.pages is an array (the twig template json_encode()'s a php array)\n      let pages = [];\n      $.map(listing.pagination.pages, function(val, index) { pages[index] = val; });\n      listing.pagination.pages = pages;\n\n      // Get the current page from the initial data structure, default to 1 if none passed.\n      let currentPage = 1;\n      pages.forEach(function(page) {\n        if (page.active) {\n          currentPage = Number(page.text);\n        }\n      });\n\n      // Get the listing events, generate markup for each\n      let masterListing = listing.eventListing.events,\n\n      // Pass in listing and template name.\n      masterListingMarkup = listings.transformListing(masterListing, 'eventListingRow');\n\n      // The max number of items per page, if designated in eventListing data structure, else all\n      masterData.maxItems = listing.maxItems ? listing.maxItems : masterListing.length;\n\n      // The initial results heading data structure\n      masterData.resultsHeading = listing.resultsHeading;\n\n      // Create items with listing and markup.\n      masterData.items = getMasterListingWithMarkup(masterListing, masterListingMarkup, masterData.maxItems);\n\n      // The initial pagination data structure + currentPage;\n      masterData.pagination = listing.pagination;\n      masterData.pagination.currentPage = currentPage;\n\n      // The total number of pages, given the number of items and the maxItems variable\n      masterData.totalPages = Math.ceil(masterData.items.length / masterData.maxItems);\n\n      // Set the selector properties necessary to render\n      masterData.selectors = {};\n      masterData.selectors.container = container;\n      masterData.selectors.parent = parent;\n      masterData.selectors.row = row;\n\n      return masterData;\n    }\n\n    /**\n     * Creates the master data structure items array\n     *\n     * @param listing\n     *   The eventListing data structure\n     * @param markup\n     *   The generated array of item markup\n     * @param max\n     *   The maximum number of items per page\n     * @returns {Array}\n     *  An array of listing items with the following structure:\n     *  [\n     *      isActive: whether or not the listing should be shown, given current filters state\n     *      page: the page that the listing, if active, will appear on, given the current sort order\n     *      data: the data structure for the eventListing component\n     *      markup: the compiled event markup\n     *      start: a momentjs object for this event's start timestamp\n     *   ]\n     */\n    function getMasterListingWithMarkup(listing, markup, max) {\n      let items = [];\n      listing.forEach(function (item, index) {\n        // determine if there is an end date to this event\n        let endDate = listing[index].date.endDay.length;\n\n        items[index] = {\n          isActive: true, // @todo consider checking for this in case of server side preprocessing of state\n          page: Math.ceil((index+1) / max),\n          markup: markup[index],\n          data: listing[index],\n          start: listings.makeMoment({data: listing[index].date, type: 'start'}),\n          end: (endDate) ? listings.makeMoment({data: listing[index].date, type: 'end'}) : endDate\n        };\n      });\n      return items;\n    }\n\n  });\n\n  /**\n   * The main data transformation wrapper, returns an instance of masterData which reflects the component state.\n   *\n   * @param data\n   *  An instance of masterData to start from.\n   * @param transformation\n   *  An object representing the change in state (locationFilter form data, resultsHeading tag interaction, etc.)\n   *\n   * @returns {{data: *, place: *}}\n   *  An object with the current state masterData instance and an array of their related sorted markers to send to map.\n   */\n  function transformData(data, transformation) {\n    // This data transformation potentially involves asynchronous google geocoding.\n    // This jQuery deferered object allows us to wait for a return before moving on inside of the parent function (which invokes this function).\n    // @see https://api.jquery.com/jquery.deferred/\n    let promise = $.Deferred();\n    let transformReturn = {};\n\n    // First filter the data based on component state, then sort alphabetically by default.\n    let filteredData = listings.filterListingData(data, transformation),\n        tags = filteredData.resultsHeading.tags,\n        sortedData = listings.sortDataByDate(filteredData),\n        place = '';\n\n    // Sort data by location, if that filter is present.\n    if (listings.hasFilter(tags, 'location')) {\n      place = listings.getFilterValues(tags, 'location')[0]; // returns array\n      // If place argument was selected from the locationFilter autocomplete (initiated on the zipcode text input).\n      let autocompletePlace = ma.autocomplete.getPlace();\n      // Geocode the address, then sort the markers and instance of locationListing masterData.\n      ma.geocoder = ma.geocoder ? ma.geocoder : new google.maps.Geocoder();\n      if (typeof autocompletePlace !== \"undefined\" && autocompletePlace.hasOwnProperty('place_id')) {\n        // This is an asynchronous function\n        listings.geocodePlaceId(autocompletePlace.place_id, function(result) {\n          transformReturn.data = sortDataAroundPlace(result, filteredData);\n          transformReturn.geocode = result;\n          // Return the data sorted by location and the geocoded place object\n          promise.resolve(transformReturn);\n        });\n      }\n      // If place argument was populated from locationFilter (zipcode text input) but not from Place autocomplete.\n      else {\n        // This is an asynchronous function\n        listings.geocodeAddressString(place, function(result) {\n          transformReturn.data = sortDataAroundPlace(result, filteredData);\n          transformReturn.geocode = result;\n          // Return the data sorted by location and the geocoded place object\n          promise.resolve(transformReturn);\n        });\n      }\n    }\n    else {\n      // Return the data sorted by alphabet and the empty place object\n      promise.resolve({data: sortedData, place: place});\n    }\n\n    return promise;\n  }\n\n  /**\n   * Returns instance of location listing masterData, sorted proximity to place.\n   *\n   * @param place\n   *   The geocode information by which to sort.\n   * @param data\n   *   The instance of location listing masterData.\n   * @returns {*}\n   *   Sorted instance of location listing masterData.\n   */\n  function sortDataAroundPlace(place, data) {\n    let lat = place.geometry.location.lat(),\n        lng = place.geometry.location.lng();\n\n    // Get all existing marker distance from place, assign as marker property.\n    for (let key in data.items) {\n      if (data.items.hasOwnProperty(key)) {\n        data.items[key].distance = listings.calculateDistance(data.items[key].data.position.lat, data.items[key].data.position.lng, lat, lng, \"K\");\n      }\n    }\n\n    // Sort existing markers by closest to the place.\n    data.items.sort(function (a, b) {\n      return a.distance - b.distance;\n    });\n\n    // Update each location listing item's page number based on new marker sort order.\n    let paginated = listings.paginateItems(data.items, data.maxItems);\n    data.items = paginated.items;\n    data.totalPages = paginated.totalPages;\n\n    // Return the newly sorted instance of location listing masterData.\n    return data;\n  }\n\n}(window,document,jQuery);\n","import checkMobile from \"../helpers/cssControlCode.js\";\r\n\r\nexport default function (window,document,$,undefined) {\r\n\r\n  $('.js-footnote').each(function(){\r\n    let $el = $(this),\r\n        $link = $el.find(\".js-footnote-link\"),\r\n        $messageLink = $link.clone(),\r\n        $rtelink = null,\r\n        isMobile = checkMobile($el);\r\n\r\n    if ($link.attr('href') === \"#\") {\r\n      return;\r\n    } else {\r\n      $rtelink = $($link.attr('href'));\r\n    }\r\n\r\n    $messageLink.text('');\r\n\r\n    $el.find(\".js-footnote-message p:last-child\").append($messageLink);\r\n\r\n    $(window).resize(function() {\r\n      isMobile = checkMobile($el);\r\n    });\r\n\r\n    $el.on('click','.js-footnote-link', function(e) {\r\n      e.preventDefault();\r\n\r\n      let target = $(this).attr('href');\r\n      let position = getPosition($(target).parent());\r\n      \r\n      scrollTo(position.top, target);\r\n    });\r\n\r\n    $rtelink.click(function(e) {\r\n      e.preventDefault();\r\n\r\n      let target = $(this).attr('href');\r\n      let position = getPosition($(target));\r\n      \r\n      scrollTo(position.top, target);\r\n    });\r\n\r\n    function getPosition($target) {\r\n      let pos = $target.offset() || 0;\r\n\r\n      if(isMobile) {\r\n        let headerHeight = $('.js-sticky-header').height() || 0;\r\n        let navHeight = $(\".js-scroll-anchors\").height() || 0;\r\n\r\n        pos.top = pos.top - headerHeight - navHeight;\r\n      }\r\n\r\n      return pos;\r\n    }\r\n\r\n    function scrollTo(position, focus) {\r\n      $(\"html,body\").stop(true,true).animate({scrollTop:position}, '750', function(){\r\n        if(focus) {\r\n          $(focus).focus();\r\n        }\r\n      });\r\n    }\r\n  });\r\n}(window,document,jQuery);\r\n","export default function (window,document,$,undefined) {\r\n\r\n  $('textarea[maxlength]').each(function(){\r\n    const $el = $(this);\r\n    const maxlength = $el.attr('maxlength');\r\n\r\n    let remaining = maxlength - $el.val().length;\r\n    let message = `${remaining}/${maxlength}`;\r\n\r\n    $el.wrap('<div class=\"ma__textarea__wrapper\"></div>');\r\n\r\n    $el.parent().attr('data-char-left',message);\r\n\r\n    $el.on('keyup mouseup blur', function(){\r\n      remaining = maxlength - $el.val().length;\r\n      message = `${remaining}/${maxlength}`;\r\n      $el.parent().attr('data-char-left',message);\r\n    });\r\n  });\r\n\r\n  // number restricted input based on it's pattern (this must run prior to type=\"number\")\r\n  $('input[type=\"text\"][pattern=\"[0-9]*\"]').on('keydown', function(e){\r\n    // Allow: delte(46), backspace(8), tab(9), escape(27), enter(13) and space(32))\r\n    if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 32]) !== -1 ||\r\n         // Allow: Ctrl/cmd+A\r\n        (e.keyCode == 65 && (e.ctrlKey === true || e.metaKey === true)) ||\r\n         // Allow: Ctrl/cmd+C\r\n        (e.keyCode == 67 && (e.ctrlKey === true || e.metaKey === true)) ||\r\n         // Allow: Ctrl/cmd+X\r\n        (e.keyCode == 88 && (e.ctrlKey === true || e.metaKey === true)) ||\r\n         // Allow: home, end, left, right\r\n        (e.keyCode >= 35 && e.keyCode <= 39)) {\r\n             // let it happen, don't do anything\r\n             return;\r\n    }\r\n    // Ensure that it is a number and stop the keypress\r\n    if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {\r\n        e.preventDefault();\r\n    }\r\n  });\r\n\r\n  // number input type\r\n  $('input[type=\"number\"], .js-input-number').each(function(){\r\n    const $el = $(this);\r\n    const $plus = $('<button type=\"button\" aria-label=\"increase value\" class=\"ma__input-number__plus\"></button>');\r\n    const $minus = $('<button type=\"button\" aria-label=\"decrease value\" class=\"ma__input-number__minus\"></button>');\r\n\r\n    let value = $el.val();\r\n\r\n    // if the input is not an html input and key restrictions\r\n    if($el.attr('type') !== \"number\") {\r\n      $el.on('keydown', function(e){\r\n        // Allow: delte(46), backspace(8), tab(9), escape(27), enter(13) and .(110 & 190))\r\n        if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||\r\n             // Allow: Ctrl/cmd+A\r\n            (e.keyCode == 65 && (e.ctrlKey === true || e.metaKey === true)) ||\r\n             // Allow: Ctrl/cmd+C\r\n            (e.keyCode == 67 && (e.ctrlKey === true || e.metaKey === true)) ||\r\n             // Allow: Ctrl/cmd+X\r\n            (e.keyCode == 88 && (e.ctrlKey === true || e.metaKey === true)) ||\r\n             // Allow: home, end, left, right\r\n            (e.keyCode >= 35 && e.keyCode <= 39)) {\r\n                 // let it happen, don't do anything\r\n                 return;\r\n        }\r\n        // Ensure that it is a number and stop the keypress\r\n        if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {\r\n            e.preventDefault();\r\n        }\r\n      });\r\n    }\r\n\r\n    $plus.on('click', function(){\r\n      let value = parseInt($el.val().trim(),10);\r\n\r\n      if(value !== value) {\r\n        value = 0;\r\n      }\r\n\r\n      $el.val(value + 1);\r\n    });\r\n\r\n    $minus.on('click', function(){\r\n      let value = parseInt($el.val(),10);\r\n      \r\n      if(value !== value) {\r\n        value = 0;\r\n      }\r\n           \r\n      $el.val(value - 1);\r\n    });\r\n\r\n    $el.wrap('<div class=\"ma__input-number\"></div>');\r\n\r\n    $el.parent().append($plus,$minus);\r\n  });\r\n\r\n\r\n}(window,document,jQuery);\r\n","export default function (window,document,$,undefined) {\r\n\r\n  $('form').each(function(){\r\n    let $form = $(this),\r\n        requiredFields = [],\r\n        $errorList = $form.find('.js-error-list');\r\n\r\n    // find all required fields\r\n    $('.js-is-required').each(function(){\r\n      let $field = $(this),\r\n          type = $field.data('type'),\r\n          value = $field.val(),\r\n          valid = validate(value,type);\r\n\r\n      requiredFields.push({type,valid,$el:$field});\r\n\r\n      $(this).data('index',requiredFields.length);\r\n    });\r\n\r\n    // if there aren't any required fields, don't do anything\r\n    if(requiredFields.length === 0) {\r\n      return;\r\n    }\r\n\r\n    // $form.on('submit', function(e){\r\n    //   e.preventDefault();\r\n    // });\r\n\r\n    $form.find('button[type=\"submit\"], input[type=\"submit\"]').on('click',function(e){\r\n      let submitForm = true;\r\n\r\n      // validate each required field\r\n      requiredFields.forEach(function(item) {\r\n        let value = item.$el.val();\r\n\r\n        item.valid = validate(value,item.type);\r\n\r\n        if(item.valid) {\r\n          clearError(item.$el);\r\n        } else {\r\n          submitForm = false;\r\n          addError(item.$el);\r\n        }\r\n      });\r\n\r\n      if(!submitForm) {\r\n        // prevent the form from submitting\r\n        e.preventDefault();\r\n        // show the form error message \r\n        $form.addClass('has-error');\r\n        // scroll up to the error message\r\n        let position = $form.offset();\r\n        \r\n        // scroll to the top of the form where the list of errors should be\r\n        // using 100px offset to compenstate for possible sticky headers\r\n        $(\"html,body\").stop(true,true).animate({scrollTop:position.top - 100}, '750', function(){\r\n          // bring focus to the item we just scrolled to\r\n          $errorList.focus();\r\n        });\r\n      }\r\n    });\r\n  });\r\n\r\n  // receives the jquery object of the input\r\n  function clearError($el){\r\n    $el.removeClass('has-error');\r\n    $el.prev('.ma__error-msg').removeClass('has-error');\r\n  }\r\n\r\n  // receives the jquery object of the input\r\n  function addError($el) {\r\n    $el.addClass('has-error');\r\n    $el.prev('.ma__error-msg').addClass('has-error');\r\n  }\r\n\r\n  function validate(value,type='text'){\r\n    let valid = false;\r\n\r\n    switch(type) {\r\n      case 'email':\r\n        valid = !!(value.match(/[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]+/i));\r\n        break;\r\n      default:\r\n        valid = value.length !== 0;\r\n    }\r\n\r\n    return valid;\r\n  }\r\n\r\n}(window,document,jQuery);\r\n","import getTemplate from \"../helpers/getHandlebarTemplate.js\";\r\n\r\nexport default function (window,document,$,undefined) {\r\n  // Only run this code if there is a google map component on the page.\r\n  if(!$('.js-google-map').length || typeof ma.googleMapData === 'undefined'){\r\n    return;\r\n  }\r\n\r\n  // Initialize global (at component scope) map properties\r\n  let max = false, // Maximum number of map markers per map, can be updated instance\r\n    mapsInitialized = false; // Flag to set to trigger clearInterval(checkForGoogleMaps)\r\n\r\n  /**\r\n   * Test for presence of google maps default library (without geocode, places, etc.) until we find it.\r\n   * Loaded in _meta/_01.foot.twig with static api key\r\n   * @todo set up config to pull in dynamic api key\r\n   */\r\n  let checkForGoogleMaps = setInterval(function() {\r\n    if (window.google && window.google.maps && !mapsInitialized) {\r\n      initMaps();\r\n    }\r\n  }, 100);\r\n\r\n  // Stop checking for google maps library after 2 minutes.\r\n  let stopChecking = setTimeout(function() {\r\n    clearInterval(checkForGoogleMaps);\r\n  }, 2 * 60 * 1000);\r\n\r\n  // Initialize the map\r\n  function initMaps () {\r\n    // Stop checking for google maps library.\r\n    mapsInitialized = true;\r\n    clearInterval(checkForGoogleMaps);\r\n    clearTimeout(stopChecking);\r\n\r\n    $(\".js-google-map\").each(function(i) {\r\n      const $el = $(this);\r\n      max = ma.googleMapData[i].maxItems ? ma.googleMapData[i].maxItems : ma.googleMapData[i].markers.length;\r\n\r\n      // Get the maps data (this could be replaced with an api)\r\n      const rawData = ma.googleMapData[i]; // Data object created in @molecules/google-map.twig\r\n\r\n      // *** Create the Map *** //\r\n      // Map default config.\r\n      const initMapData = {\r\n        scrollwheel: false\r\n      };\r\n      // Create map data by combining the rawData with the defaults.\r\n      const mapData = Object.assign({}, rawData.map, initMapData);\r\n      // Create google map object assigned to this component instance with map data.\r\n      const map = new google.maps.Map(this, mapData);\r\n      // Initialize global markers, map bounds.\r\n      let bounds = new google.maps.LatLngBounds();\r\n      // Initialize all markers\r\n      let markers = initMarkers(map, rawData.markers);\r\n      // Add up to max markers to the map, zoom map to fit all bounds\r\n      addMarkersToMap(markers, map, bounds);\r\n\r\n      // Trigger map initialized event, broadcast master markers.\r\n      $el.trigger('ma:GoogleMap:MapInitialized', [markers]);\r\n\r\n      // Add keyboard navigation only after the map is rendered (becoming idle).\r\n      google.maps.event.addListenerOnce(map, 'idle', function() {\r\n        let $mapItems = $(\".js-google-map\").find(\r\n          'div[title=\"Show street map\"],' +\r\n          'div[title=\"Show street map with terrain\"],' +\r\n          'div[title=\"Show satellite imagery\"],' +\r\n          'div[title=\"Zoom in to show 45 degree view\"],' +\r\n          'div[title=\"Show imagery with street names\"],' +\r\n          'div[title=\"Pan up\"],' +\r\n          'div[title=\"Pan down\"],' +\r\n          'div[title=\"Pan left\"],' +\r\n          'div[title=\"Pan right\"],' +\r\n          'div[title=\"Return to the last result\"],' +\r\n          'div[title=\"Zoom in\"],' +\r\n          'div[title=\"Zoom out\"],' +\r\n          'img[title=\"Rotate map 90 degrees\"],' +\r\n          '.gmnoprint area'\r\n        );\r\n        $mapItems.each(function(i, o){\r\n          $(o).attr({\r\n            role: 'button',\r\n            tabindex: '0',\r\n            'aria-label': o.title\r\n          }).bind('keydown', function(ev){\r\n            // If enter is pressed on one of these elements, trigger a click of the element.\r\n            if (ev.which == 13){\r\n              ev.preventDefault();\r\n              $(o).trigger('click');\r\n            }\r\n          });\r\n        });\r\n      });\r\n\r\n      // Listen for map recenter event\r\n      $el.on(\"ma:GoogleMap:MapRecenter\", function (event, markerIndex) {\r\n        if (typeof markers[markerIndex] === \"undefined\") {\r\n          return false;\r\n        }\r\n        let marker = markers[markerIndex];\r\n        // center the map on this marker\r\n        map.setCenter(marker.getPosition());\r\n        // close all open infoWindows\r\n        for (let i in markers) {\r\n          if (markers[i].open) {\r\n            markers[i].hideInfo();\r\n          }\r\n        }\r\n        // show the infoWindow for this marker\r\n        marker.showInfo();\r\n      });\r\n      // Listen for map marker bounce event\r\n      $el.on(\"ma:GoogleMap:MarkerBounce\", function( event, markerIndex ) {\r\n        if(typeof markers[markerIndex] === \"undefined\") {\r\n          return false;\r\n        }\r\n        let marker = markers[markerIndex];\r\n        // center and zoom the map on this marker\r\n        map.setCenter(marker.getPosition());\r\n        map.setZoom(15);\r\n        // make the marker bounce three times\r\n        marker.bounce();\r\n      });\r\n      // Listen for data change event to update markers by filters.\r\n      $el.on(\"ma:GoogleMap:MarkersUpdated\", function (e, args) {\r\n        // Update map based on pre-sorted markers order\r\n        markers = updateMapByMarkers({\r\n          dataMarkers: args.markers,\r\n          map: map,\r\n          markers: markers,\r\n          place: args.place ? args.place : false\r\n        });\r\n\r\n        // hide all info windows\r\n        for (let i in markers) {\r\n          if(markers[i].open) {\r\n            markers[i].hideInfo();\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Returns the array of initialized current map markers.\r\n   *\r\n   * @param map\r\n   *  The current map object.\r\n   *\r\n   * @param markers\r\n   *  The markers to be initialized.\r\n   *\r\n   * @return {Array}\r\n   */\r\n  function initMarkers(map, markers) {\r\n    let initializedMarkers = [];\r\n    markers.forEach(function(data) {\r\n      let markerData = {\r\n        position: new google.maps.LatLng({\r\n          lat: data.position.lat,\r\n          lng: data.position.lng\r\n        }),\r\n        label: data.label,\r\n        infoWindow: data.infoWindow,\r\n        title: 'Marker: ' + data.infoWindow.name\r\n      };\r\n      let marker =  new google.maps.Marker(markerData);\r\n      let infoData = infoTransform(markerData.infoWindow);\r\n      let compiledTemplate = getTemplate('googleMapInfo');\r\n      let template = compiledTemplate(infoData);\r\n      let infoWindow = new google.maps.InfoWindow({\r\n        content: template\r\n      });\r\n      let markerBouncing = null;\r\n\r\n      marker.addListener('click', function(){\r\n        // hide all info windows\r\n        for (let i in initializedMarkers) {\r\n          if(initializedMarkers[i].open) {\r\n            initializedMarkers[i].hideInfo();\r\n          }\r\n        }\r\n\r\n        // show this info window\r\n        marker.showInfo();\r\n      });\r\n\r\n      marker.showInfo = () => {\r\n        infoWindow.open(map, marker);\r\n        marker.open = true;\r\n      };\r\n\r\n      marker.hideInfo = () => {\r\n        infoWindow.close(map, marker);\r\n        marker.open = false;\r\n      };\r\n\r\n      marker.bounce = () => {\r\n        clearTimeout(markerBouncing);\r\n        marker.setAnimation(null);\r\n        marker.setAnimation(google.maps.Animation.BOUNCE);\r\n        markerBouncing = setTimeout(() => {\r\n          marker.setAnimation(null);\r\n        },3000);\r\n      };\r\n\r\n      initializedMarkers.push(marker);\r\n    });\r\n\r\n    return initializedMarkers;\r\n  }\r\n\r\n  /**\r\n   * Return formatted marker infowindow data.\r\n   *\r\n   * @param data\r\n   *   Infowindow data object:\r\n   *   \"infoWindow\": {\r\n   *      \"name\": \"Attleboro District Court\",\r\n   *      \"phone\": \"15082225900\",\r\n   *      \"fax\": \"15082233706\",\r\n   *      \"email\": \"courts@state.ma.us\",\r\n   *      \"address\": \"88 North Main Street\\nAttleboro, MA 02703\"\r\n   *   }\r\n   *\r\n   * @returns {*}\r\n   *   Object with passed data and new infoData property.\r\n   */\r\n  function infoTransform(data) {\r\n    let infoData = {\r\n      phoneFormatted: formatPhone(data.phone),\r\n      faxFormatted: formatPhone(data.fax)\r\n    };\r\n    return Object.assign({},data,infoData);\r\n  }\r\n\r\n  /**\r\n   * Return phone number data formatted for map marker.\r\n   *\r\n   * @param phone\r\n   *   \"15082225900\",\r\n   * @returns {string}\r\n   *    (508) 222-5900\r\n   */\r\n  function formatPhone(phone) {\r\n    let phoneTemp = phone[0] === '1' ? phone.substring(1) : phone;\r\n    return phoneTemp.replace(/(\\d{3})(\\d{3})(\\d{4})/, '($1) $2-$3');\r\n  }\r\n\r\n  /**\r\n   * Location listing specific map helper functions\r\n   */\r\n\r\n\r\n  /**\r\n   * Renders a new map, with markers  reference to passed marker order and length.\r\n   *\r\n   * @param args\r\n   *  arguments object:\r\n   *    {\r\n   *      dataMarkers: args.markers, // sorted array of markers by witch to sort and filter master markers\r\n   *      map: map, // initialized map instance\r\n   *      markers: markers, // master list of current map markers\r\n   *      place: args.place, // optional location filter place input\r\n\r\n   *    }\r\n   */\r\n  function updateMapByMarkers(args) {\r\n    removeMarkersFromMap(args.markers);\r\n\r\n    // Reset bounds to remove previous search locations.\r\n    let bounds = new google.maps.LatLngBounds();\r\n    if (args.place && ma.autocomplete.getPlace()) {\r\n      // Ensure the map includes the provided location based on the place value.\r\n      bounds.extend(args.place.geometry.location);\r\n    }\r\n\r\n    // Add the new markers to the map and set new bounds based on filtered markers.\r\n    addMarkersToMap(args.dataMarkers, args.map, bounds);\r\n\r\n    // If there is only one marker, zoom out to provide some context.\r\n    if (args.dataMarkers.length === 1) {\r\n      args.map.setZoom(16);\r\n    }\r\n\r\n    return args.dataMarkers;\r\n  }\r\n\r\n  /**\r\n   * Removes passed marker objects from a given map.\r\n   *\r\n   * @param markers\r\n   *   Array of map marker objects.\r\n   */\r\n  function removeMarkersFromMap(markers) {\r\n    for(let i = 0; i < markers.length; i++){\r\n      markers[i].setMap(null);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Adds markers to a given map and sets bounds based on those markers.\r\n   *\r\n   * @param markers\r\n   *   Initialized map marker objects to be added.\r\n   * @param map\r\n   *   Initialized map object.\r\n   * @param bounds\r\n   *   Initialized map bounds object.\r\n   */\r\n  function addMarkersToMap(markers, map, bounds) {\r\n    // Set max number of markers to whichever is smaller: max or the number of markers sent.\r\n    let maxItems = markers.length < max ? markers.length : max;\r\n\r\n    markers.forEach(function(marker, index) {\r\n      if (index < maxItems) {\r\n        marker.setMap(map);\r\n        // Extend the bounds to include each marker's position.\r\n        bounds.extend(marker.position);\r\n      }\r\n    });\r\n\r\n    // Google Maps default behavior with a single marker when calling\r\n    // fitBounds() is to maximize zoom. This can be undesirable behavior.\r\n    // If only a single marker, let mapData define center and zoom.\r\n    if (markers.length > 1) {\r\n      // Make the map zoom to fit the bounds, showing all locations.\r\n      map.fitBounds(bounds);\r\n    }\r\n  }\r\n\r\n}(window,document,jQuery);\r\n","export default function (window,document,$,undefined) {\n  \"use strict\";\n  $('.js-header-tag-link').each(function(index) {\n\n    let $el = $(this),\n        $showHideButton = $('.js-header-tag-button', $el),\n        $dynamicItems = $('a:nth-child(n+4)', $el),\n        id = $el.attr('id') || 'headerTags' + (index + 1),\n        open = $el.hasClass('is-open');\n\n      // Set the id attribute (respects default if set).\n      $el.attr('id', id);\n\n      if ($dynamicItems.length) {\n        // Show our see button if we have more than three items.\n        $showHideButton.attr('aria-expanded',open).attr('aria-controls', id);\n        $showHideButton.show();\n      }\n\n      $showHideButton.on('click', function(e) {\n        e.preventDefault();\n        $el.toggleClass('is-open');\n\n        if ($el.hasClass('is-open')) {\n          $showHideButton.attr('aria-expanded', 'true');\n          $dynamicItems.show();\n        }\n        else {\n          $showHideButton.attr('aria-expanded', 'false');\n          $dynamicItems.hide();\n        }\n      });\n\n  });\n}(window,document,jQuery);\n","import cookies from \"../helpers/cookies.js\";\r\n\r\nexport default function (window,document,$,undefined) {\r\n\r\n  $('.js-header-alert').each(function(){\r\n    init.apply(this);\r\n  });\r\n\r\n  $(document).on('ma:AjaxPattern:Render', function(e,data){\r\n    let $context = data.el;\r\n    if ($context.find('.js-header-alert').length) {\r\n      $context.find('.js-header-alert').each(function(){\r\n        init.apply(this);\r\n      })\r\n    }\r\n  });\r\n\r\n  function init(){\r\n    let $el = $(this),\r\n        $link = $el.find('.js-header-alert-link'),\r\n        id = $el.data('id'),\r\n        cookieName = \"Alert\" + id,\r\n        cookieExpires = 365,\r\n        cookieValue = cookies.getCookie(cookieName);\r\n\r\n    // show alert if cookie doesn't exist\r\n    if(cookieValue !== \"hide\") {\r\n      $el.fadeIn().fadeOut('fast').fadeIn('slow');\r\n    }\r\n\r\n    // hide the alert\r\n    $link.on('click',function(){\r\n      cookies.setCookie(cookieName,\"hide\",cookieExpires);\r\n      $el.stop(true,true).fadeOut();\r\n    })\r\n  }\r\n}(window,document,jQuery);\r\n\r\n","export default function (window,document,$,undefined) {\n\n  const sidebarHeight = $('.sidebar').outerHeight( true ) + 100;\n  // Set height of sidebar plus 100 pixels so full width images\n  // don't sit too tight under under the sidebar content.\n  let debounceTimer;\n\n  function mediaWidth() {\n    // Define wrapper width for use.\n    var wrapperWidth = $('.main-content').width();\n\n    $('.ma__figure--full, .ma__iframe--full').each(function() {\n      var $thisMedia = $(this);\n\n      // Get position of image relative to container.\n      var thisPosition = $thisMedia.position().top;\n\n      // If this image is below the sidebar.\n      if (thisPosition > sidebarHeight) {\n\n        // Make the image the full width of the wrapper.\n        $thisMedia.css('width', wrapperWidth);\n      }\n    });\n  }\n\n  $(window).on('load', function() {\n    mediaWidth();\n  });\n\n  $(window).resize(function() {\n    if(typeof debounceTimer === \"number\") {\n      window.clearTimeout(debounceTimer);\n    }\n    debounceTimer = window.setTimeout(function(){\n      mediaWidth();\n    },250);\n  });\n\n}\n(window,document,jQuery);\n","import throttle from \"../helpers/throttle.js\";\n\nexport default function (window,document,$,undefined) {\n  let tocContainerClass = '.js-toc-container';\n  let containerClass = '.js-inline-overlay';\n  let contentClass = '.js-inline-overlay-content';\n  let toggleClass = '.js-inline-overlay-toggle';\n  let titleClass  = '.js-inline-overlay-title';\n\n  function initialize () {\n    // Add random ID if no ID present.\n    let contentID = $(contentClass).attr('id');\n    if(!contentID) {\n      let id = `overlay-${Math.floor(Math.random()*100000)}`;\n       $(containerClass).attr('id', id);\n       $(toggleClass).attr('aria-controls, id');\n    }\n  }\n\n  function toggleOverlay() {\n    let $containerEl = $(this).closest(tocContainerClass).find(containerClass);\n    let isOpen = $containerEl.hasClass('is-open');\n    $('body').toggleClass('scroll-disabled', !isOpen);\n    $containerEl.toggleClass('is-open', !isOpen);\n\n    $(`${toggleClass}[aria-expanded=${!isOpen}]`).parents(titleClass).focus();\n  }\n\n  initialize();\n  $(document).on('click', toggleClass, toggleOverlay);\n  // allow esc key to dismiss overlay\n  $(document).keydown(function(e) {\n    // ESCAPE key pressed\n    if (e.keyCode === 27 && $(containerClass).hasClass('is-open')) {\n      toggleOverlay();\n    }\n  });\n\n\n}(window,document,jQuery);\n","export default function (window,document,$,undefined) {\r\n\r\n  $('.js-keyword-search').each(function(){\r\n    let $el = $(this),\r\n        $form = $el.find('form');\r\n\r\n    $form.on('submit',function(e){\r\n      e.preventDefault();\r\n      $el.addClass('is-dirty')\r\n    });\r\n\r\n    $form.on('reset',function(){\r\n      $el.removeClass('is-dirty')\r\n    });\r\n  });\r\n\r\n}(window,document,jQuery);\r\n","export default function (window,document,$,undefined) {\n  $('.js-location-filters').each(function(){\n    let $el = $(this);\n\n    // When google map libraries are loaded, initialize places.autocomplete on the location input, if it exists.\n    $(document).on('ma:LibrariesLoaded:GoogleMaps', function() {\n      let $locationFilterParent = $('.js-filter-by-location', $el);\n      let $locationFilter = $locationFilterParent.find('input');\n      if ($locationFilter.length) {\n        // Create the google places autocomplete object and associate it with the zip code text input.\n        let locationInput = document.getElementById($locationFilter.attr('id'));\n        let swLat = $locationFilterParent.data('maPlaceBoundsSwLat');\n        let swLng = $locationFilterParent.data('maPlaceBoundsSwLng');\n        let neLat = $locationFilterParent.data('maPlaceBoundsNeLat');\n        let neLng = $locationFilterParent.data('maPlaceBoundsNeLng');\n\n        let defaultBounds = new google.maps.LatLngBounds(new google.maps.LatLng(swLat,swLng), new google.maps.LatLng(neLat,neLng));\n\n        // See options: https://developers.google.com/maps/documentation/javascript/places-autocomplete#add_autocomplete\n        let options = {\n          bounds: defaultBounds,\n          strictBounds: true,\n          types: ['geocode'],\n          componentRestrictions: {country: 'us'},\n          placeIdOnly: true\n        };\n        ma.autocomplete = new google.maps.places.Autocomplete(locationInput, options);\n      }\n    });\n\n    // Listen for new data from another component interaction (i.e. results heading), update form.\n    $el.on('ma:FormFilter:DataUpdated', function(e, data){\n      renderForm({clearedFilter: data.clearedFilter, $form: $el});\n    });\n\n    // Handle global form submission.\n    $el.submit(function(e){\n      e.preventDefault();\n      // Update master data with the various filter values.\n      let formData = getFormData({$form: $(this)});\n\n      // Trigger location listing filter event with current filter values.\n      $el.trigger('ma:LocationFilter:FormSubmitted', [{formData: formData}]);\n    });\n\n  });\n\n  function renderForm(args) {\n    let clearedFilter = args.clearedFilter;\n    // The clear all button was pressed.\n    if (clearedFilter === \"all\") {\n      clearForm(args);\n    }\n    // Single filter button was pressed.\n    else {\n      clearDeactivatedFilter(args);\n    }\n  }\n\n  function getFormData(args) {\n    let $form = $(args.$form),\n      $location = $form.find('.js-filter-by-location'),\n      $tags = $form.find('.js-filter-by-tags'),\n      formData = [];\n\n    // Get location\n    if ($location.find('input').length) {\n      let place = $location.find('input').val();\n      if (place) {\n        formData.push({\n          type: 'location',\n          text: place,\n          value: place\n        });\n      }\n    }\n\n    $tags.find('input:checked').each(function() {\n      formData.push({'type': 'tag', 'value': $(this).val(), 'text': $(this).siblings(\"label\").text()});\n    });\n\n    return formData;\n  }\n\n  function clearDeactivatedFilter(args) {\n    let $form = $(args.$form),\n      $place = $form.find('.js-filter-by-location'),\n      $tags = $form.find('.js-filter-by-tags'),\n      clearedFilter = args.clearedFilter;\n\n    // If the cleared filter button was for a location filter.\n    if (clearedFilter.type === 'location') {\n      $place.find('input').val(\"\");\n      return;\n    }\n\n    // If the cleared filter button was for a tag filter.\n    if (clearedFilter.type === 'tag') {\n      $tags.find('input[type=checkbox][value=' + clearedFilter.value + ']').prop('checked', false);\n    }\n  }\n\n  function clearForm(args) {\n    let $form = $(args.$form),\n      $tags = $('.js-filter-by-tags', $form),\n      $place = $('.js-filter-by-location', $form).find('input');\n\n    // Clear location text input.\n    if ($place.length) {\n      $place.val(\"\");\n    }\n    // Uncheck all checked tags inputs.\n    $tags.find('input:checked').prop('checked', false);\n  }\n\n}(window,document,jQuery);\n","import sticky from \"../helpers/sticky.js\";\r\nimport listings from \"../helpers/listing.js\";\r\n\r\nexport default function (window,document,$,undefined) {\r\n  // Active state classes for location listing rows.\r\n  let activeClass = 'is-active',\r\n    markerActiveClass = 'is-marker-bounce',\r\n    // Selectors for event listeners on dynamic content.\r\n    row = '.js-location-listing-link',\r\n    activeLocationListingRow = row + '.' + activeClass,\r\n    markerActiveLocationListingRow = row + '.' + markerActiveClass,\r\n    // Parent component selectors.\r\n    container = '.js-location-listing-results',\r\n    parent = '.js-image-promos',\r\n    mapCol = '.js-location-listing-map';\r\n\r\n  $('.js-location-listing').each(function(i){\r\n    let $el = $(this),\r\n      $mapCol = $el.find('.js-location-listing-map'),\r\n      $map = $el.find('.js-google-map'),\r\n      $resultsHeading = $el.find('.js-results-heading'),\r\n      $pagination = $el.find('.js-pagination'),\r\n      $locationFilter = $el.find('.js-location-filters');\r\n\r\n    sticky.init($mapCol);\r\n\r\n    // Get the location listing component data (this could be replaced with an api)\r\n    const rawData = ma.locationListing[i]; // Data object created in @organisms/by-author/location-listing.twig\r\n\r\n    let masterData = []; // master data structure to preserve state\r\n    // Listen for map initialization, populate master data structure using locationListing, map markers.\r\n    $map.on('ma:GoogleMap:MapInitialized', function(e, markers) {\r\n      masterData = populateMasterDataSource(rawData, markers); // to preserve state\r\n    });\r\n\r\n    // Listen for Google Map api library load completion, with geocode, geometry, and places libraries\r\n    $(document).on('ma:LibrariesLoaded:GoogleMaps', function(){\r\n      // Set up click handler for location listing rows.\r\n      $el.on('click', row, function (e) {\r\n        let index = $(e.currentTarget).index();\r\n        // trigger map to recenter on this item based on it's index.\r\n        $map.trigger('ma:GoogleMap:MapRecenter', index);\r\n        // mark this link as active\r\n        $el.find(activeLocationListingRow).removeClass(activeClass);\r\n        $(e.currentTarget).addClass(activeClass); // in case the event is triggered on a child element.\r\n        // focus on the map - mainly for mobile when it is stacked\r\n        let position = $map.offset().top;\r\n        $(\"html,body\").stop(true, true).animate({scrollTop: position}, '750');\r\n      });\r\n\r\n      // Set up hover / focus event for listing rows.\r\n      $el.on('mouseenter focusin', row, function (e) {\r\n        // remove active state from previously selected list item\r\n        $el.find(activeLocationListingRow).removeClass(activeClass);\r\n\r\n        // Don't bounce the marker again if focus moves within the same listing.\r\n        if ($(e.currentTarget).hasClass(markerActiveClass)) {\r\n          return false;\r\n        }\r\n\r\n        // Remove \"focus\" class from any \"focused\" location listing row.\r\n        // (\"focus\" vs focus because hover doesn't bring focus to element.)\r\n        $el.find(markerActiveLocationListingRow).removeClass(markerActiveClass);\r\n\r\n        // Focus moved into listing for first time, so flag with class, recenter + bounce marker.\r\n        $(e.currentTarget).addClass(markerActiveClass);\r\n        let index = $(e.currentTarget).index();\r\n\r\n        // Trigger map to recenter on this item and make the marker bounce\r\n        $map.trigger('ma:GoogleMap:MarkerBounce', index);\r\n      });\r\n\r\n      // Remove \"focus\" class from any \"focused\" location listing row.\r\n      $el.on('mouseleave', row, function (e) {\r\n        $el.find(markerActiveLocationListingRow).removeClass(markerActiveClass);\r\n      });\r\n\r\n      // Handle location listings form interaction (triggered by locationFilters.js).\r\n      $locationFilter.on('ma:LocationFilter:FormSubmitted', function (e, formValues) {\r\n        // transformData() returns a jQuery deferred object which allows us to wait for any asynchronous js execution to return before executing the .done(callback).\r\n        // @see: https://api.jquery.com/deferred.done/\r\n        transformData(masterData, formValues).done(function (transformation) {\r\n          masterData = transformation.data; // preserve state\r\n          // Update the results heading based on the current items state.\r\n          transformation.data.resultsHeading = listings.transformResultsHeading({data: transformation.data});\r\n          // Update pagination data structure, reset to first page\r\n          transformation.data.pagination = listings.transformPaginationData({data: transformation.data});\r\n          // Render the listing page.\r\n          listings.renderListingPage({data: transformation.data});\r\n          // Get the associated markers based on the listing items.\r\n          transformation.markers = getActiveMarkers({data: transformation.data});\r\n          // Trigger child components render with updated data\r\n          updateChildComponents(transformation);\r\n        });\r\n      });\r\n\r\n      // Handle active filter/tag button interactions (triggered by resultsHeading.js).\r\n      $resultsHeading.on('ma:ResultsHeading:ActiveTagClicked', function (e, clearedFilter) {\r\n        // transformData() returns a jQuery deferred object which allows us to wait for any asynchronous js execution to return before executing the .done(callback).\r\n        // @see: https://api.jquery.com/deferred.done/\r\n        transformData(masterData, clearedFilter).done(function (transformation) {\r\n          masterData = transformation.data; // preserve state\r\n          transformation.clearedFilter = clearedFilter;\r\n\r\n          masterData = transformation.data; // preserve state\r\n          // Update the results heading based on the current items state.\r\n          transformation.data.resultsHeading = listings.transformResultsHeading({data: transformation.data});\r\n          // Update pagination data structure, reset to first page\r\n          transformation.data.pagination = listings.transformPaginationData({data: transformation.data});\r\n          // Render the listing page.\r\n          listings.renderListingPage({data: transformation.data});\r\n          // Get the associated markers based on the listing items.\r\n          transformation.markers = getActiveMarkers({data: transformation.data});\r\n          // Trigger child components render with updated data\r\n          updateChildComponents(transformation);\r\n        });\r\n      });\r\n\r\n      // Handle pagination event (triggered by pagination.js), render targetPage.\r\n      $pagination.on('ma:Pagination:Pagination', function (e, target) {\r\n        let nextPage = target;\r\n\r\n        // Get the current page, default to first page if not in global data object.\r\n        let currentPage = masterData.pagination.currentPage ? masterData.pagination.currentPage : 1;\r\n        if (target === \"next\") {\r\n          nextPage = currentPage + 1;\r\n        }\r\n        if (target === \"previous\") {\r\n          nextPage = currentPage - 1;\r\n        }\r\n\r\n        masterData.pagination = listings.transformPaginationData({data: masterData, targetPage: nextPage});\r\n        masterData.resultsHeading = listings.transformResultsHeading({data: masterData, page: nextPage});\r\n        listings.renderListingPage({data: masterData, page: nextPage});\r\n\r\n        let markers = getActiveMarkers({data: masterData, page: nextPage});\r\n        // Trigger child components render with updated data\r\n        updateChildComponents({data: masterData, markers: markers});\r\n      });\r\n    });\r\n\r\n    // Trigger events to update child components with new data.\r\n    function updateChildComponents(args) {\r\n      $resultsHeading.trigger('ma:ResultsHeading:DataUpdated', [args.data.resultsHeading]);\r\n      $map.trigger('ma:GoogleMap:MarkersUpdated', [{markers: args.markers, place: args.place}]);\r\n      $pagination.trigger('ma:Pagination:DataUpdated', [args.data.pagination]);\r\n      if (args.clearedFilter) {\r\n        $locationFilter.trigger('ma:FormFilter:DataUpdated', [args.clearedFilter]);\r\n      }\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Data initialization.\r\n   */\r\n\r\n  /**\r\n   * Returns a master data structure with page level / listing item level data and markup, to reflect component state.\r\n   *\r\n   * @param listing\r\n   *   The locationListing data structure to use as a source\r\n   * @param markers\r\n   *   The array of map markers created by component google map (googleMaps.js module)\r\n   * @returns {Array}\r\n   *   An array with the following structure:\r\n   *    [\r\n   *      maxItems: the max number of items to show per listing \"page\" if provided, defaults to all\r\n   *      totalPages: the number of pages of items that should render, given the current filters\r\n   *      resultsHeading: the data structure necessary to render a resultsHeading component\r\n   *      items: an array of listing items [\r\n   *        isActive: whether or not the listing should be shown, given current filters state\r\n   *        page: the page that the listing, if active, will appear on, given the current sort order\r\n   *        promo: the data structure for the imagePromo component\r\n   *        markup: the compiled imagePromo markup\r\n   *        marker: the related map marker data structure for the listing item\r\n   *      ]\r\n   *      pagination: the data structure necessary to render a pagination component\r\n   *      selectors: the selectors for the listing, listing items, listing row, and map\r\n   *    ]\r\n   */\r\n  function populateMasterDataSource(listing, markers) {\r\n    // Populate master data structure\r\n    let masterData = [];\r\n\r\n    // Ensure locationListing.imagePromos.items is an array (the twig template json_encode()'s a php array)\r\n    let promosArray = [];\r\n    $.map(listing.imagePromos.items, function(val, index) { promosArray[index] = val; });\r\n    listing.imagePromos.items = promosArray;\r\n\r\n    // Ensure locationListing.pagination.pages is an array (the twig template json_encode()'s a php array)\r\n    let pages = [];\r\n    $.map(listing.pagination.pages, function(val, index) { pages[index] = val; });\r\n    listing.pagination.pages = pages;\r\n\r\n    // Get the current page from the initial data structure, default to 1 if none passed.\r\n    let currentPage = 1;\r\n    pages.forEach(function(page) {\r\n      if (page.active) {\r\n        currentPage = Number(page.text);\r\n      }\r\n    });\r\n\r\n    // Get the listing imagePromos, generate markup for each\r\n    let masterListing = listing.imagePromos.items,\r\n      masterListingMarkup = listings.transformListing(masterListing, 'locationListingRow');\r\n\r\n    // The max number of items per page, if designated in locationListing data structure, else all\r\n    masterData.maxItems = listing.maxItems ? listing.maxItems : listing.imagePromos.items.length;\r\n    // The initial results heading data structure\r\n    masterData.resultsHeading = listing.resultsHeading;\r\n    // The array of items and their respective page, in/active status, marker data, imagePromo data, and markup\r\n    masterData.items = getMasterListingWithMarkupAndMarkers(masterListing, masterListingMarkup, markers, masterData.maxItems);\r\n    // The initial pagination data structure + currentPage;\r\n    masterData.pagination = listing.pagination;\r\n    masterData.pagination.currentPage = currentPage;\r\n    // The total number of pages, given the number of items and the maxItems variable\r\n    masterData.totalPages = Math.ceil(masterData.items.length / masterData.maxItems);\r\n    // Set the selector properties necessary to render\r\n    masterData.selectors = {};\r\n    masterData.selectors.container = container;\r\n    masterData.selectors.parent = parent;\r\n    masterData.selectors.row = row;\r\n    masterData.selectors.map = mapCol;\r\n\r\n    return masterData;\r\n  }\r\n\r\n  /**\r\n   * Creates the master data structure items array\r\n   *\r\n   * @param listing\r\n   *   The locationListing data structure\r\n   * @param markup\r\n   *   The generated array of item markup\r\n   * @param markers\r\n   *   The associated map markers for each item\r\n   * @param max\r\n   *   The maximum number of items per page\r\n   * @returns {Array}\r\n   *  An array of listing items with the following structure:\r\n   *  [\r\n   *      isActive: whether or not the listing should be shown, given current filters state\r\n   *      page: the page that the listing, if active, will appear on, given the current sort order\r\n   *      promo: the data structure for the imagePromo component\r\n   *      markup: the compiled imagePromo markup\r\n   *      marker: the related map marker data structure for the listing item\r\n   *   ]\r\n   */\r\n  function getMasterListingWithMarkupAndMarkers(listing, markup, markers, max) {\r\n    let items = [];\r\n    markers.forEach(function (item, index) {\r\n      items[index] = {\r\n        isActive: true, // @todo consider checking for this in case of server side preprocessing of state\r\n        page: Math.ceil((index+1) / max),\r\n        marker: item,\r\n        markup: markup[index],\r\n        data: listing[index]\r\n      };\r\n    });\r\n    return items;\r\n  }\r\n\r\n  /**\r\n   * Data transformation.\r\n   */\r\n\r\n  /**\r\n   * The main data transformation wrapper, returns an instance of masterData which reflects the component state.\r\n   *\r\n   * @param data\r\n   *  An instance of masterData to start from.\r\n   * @param transformation\r\n   *  An object representing the change in state (locationFilter form data, resultsHeading tag interaction, etc.)\r\n   *\r\n   * @returns {{data: *, markers: *}}\r\n   *  An object with the current state masterData instance and an array of their related sorted markers to send to map.\r\n   */\r\n  function transformData(data, transformation) {\r\n    // This data transformation potentially involves asynchronous google geocoding.\r\n    // This jQuery deferered object allows us to wait for a return before moving on inside of the parent function (which invokes this function).\r\n    // @see https://api.jquery.com/jquery.deferred/\r\n    let promise = $.Deferred();\r\n    let transformReturn = {};\r\n\r\n    // First filter the data based on component state, then sort alphabetically by default.\r\n    let filteredData = listings.filterListingData(data, transformation),\r\n      sortedData = listings.sortDataAlphabetically(filteredData),\r\n      place = '';\r\n\r\n    // Sort data by location, if that filter is present.\r\n    if (listings.hasFilter(filteredData.resultsHeading.tags, 'location')) {\r\n      place = listings.getFilterValues(filteredData.resultsHeading.tags, 'location')[0]; // returns array\r\n      // If place argument was selected from the locationFilter autocomplete (initiated on the zipcode text input).\r\n      let autocompletePlace = ma.autocomplete.getPlace();\r\n      // Geocode the address, then sort the markers and instance of locationListing masterData.\r\n      ma.geocoder = ma.geocoder ? ma.geocoder : new google.maps.Geocoder();\r\n      if (typeof autocompletePlace !== \"undefined\" && autocompletePlace.hasOwnProperty('place_id')) {\r\n        // This is an asynchronous function\r\n        listings.geocodePlaceId(autocompletePlace.place_id, function(result) {\r\n          transformReturn.data = sortDataAroundPlace(result, filteredData);\r\n          transformReturn.geocode = result;\r\n          // Return the data sorted by location and the geocoded place object\r\n          promise.resolve(transformReturn);\r\n        });\r\n      }\r\n      // If place argument was populated from locationFilter (zipcode text input) but not from Place autocomplete.\r\n      else {\r\n        // This is an asynchronous function\r\n        listings.geocodeAddressString(place, function(result) {\r\n          transformReturn.data = sortDataAroundPlace(result, filteredData);\r\n          transformReturn.geocode = result;\r\n          // Return the data sorted by location and the geocoded place object\r\n          promise.resolve(transformReturn);\r\n        });\r\n      }\r\n    }\r\n    else {\r\n      // Return the data sorted by alphabet and the empty place object\r\n      promise.resolve({data: sortedData, place: place});\r\n    }\r\n\r\n    return promise;\r\n  }\r\n\r\n  /**\r\n   * Returns the markers which correspond to a given \"page\" of location listing data.\r\n   *\r\n   * @param args\r\n   *  An object with the following structure:\r\n   *    {\r\n   *      data: instance of filtered, sorted masterData off of which to base markers\r\n   *      page: the target page of items/markers to render\r\n   *    }\r\n   *\r\n   * @returns\r\n   *   An array of corresponding map marker objects which should be rendered\r\n   */\r\n  function getActiveMarkers(args) {\r\n    let data = args.data,\r\n      page = args.page ? args.page : 1; // default to first page if non provided\r\n\r\n    // Get just the markers from our active sorted/filtered data listing.\r\n    return data.items.filter(function(item) {\r\n      return item.isActive && item.page === page;\r\n    }).map(function(item) {\r\n      return item.marker;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Returns instance of location listing masterData, sorted proximity to place.\r\n   *\r\n   * @param geocode\r\n   *   The geocode information by which to sort.\r\n   * @param data\r\n   *   The instance of location listing masterData.\r\n   * @returns {*}\r\n   *   Sorted instance of location listing masterData.\r\n   */\r\n  function sortDataAroundPlace(geocode, data) {\r\n    // Get all existing marker distance from place, assign as marker property.\r\n    for (let key in data.items) {\r\n      if (data.items.hasOwnProperty(key)) {\r\n        data.items[key].marker.distance = google.maps.geometry.spherical.computeDistanceBetween(geocode.geometry.location, data.items[key].marker.getPosition());\r\n      }\r\n    }\r\n\r\n    // Sort existing markers by closest to the place.\r\n    data.items.sort(function (a, b) {\r\n      return a.marker.distance - b.marker.distance;\r\n    });\r\n\r\n    // Update each location listing item's page number based on new marker sort order.\r\n    let paginated = listings.paginateItems(data.items, data.maxItems);\r\n    data.items = paginated.items;\r\n    data.totalPages = paginated.totalPages;\r\n    data.place = geocode;\r\n\r\n    // Return the newly sorted instance of location listing masterData.\r\n    return data;\r\n  }\r\n}(window,document,jQuery);\r\n","export default function (window,document,$,undefined) {\r\n\r\n  let windowWidth = window.innerWidth;\r\n\r\n  $(window).resize(function(){\r\n    windowWidth = window.innerWidth;\r\n  });\r\n\r\n  $('.js-main-nav').each(function() {\r\n    let openClass = \"is-open\",\r\n        closeClass = \"is-closed\",\r\n        submenuClass = \"show-submenu\",\r\n        $parent = $(this),\r\n        $mainNavToggle = $parent.find('.js-main-nav-toggle'),\r\n        $mainNavItems = $parent.find('.js-main-nav-toggle, .js-main-nav-top-link'),\r\n        breakpoint = 840; // matches CSS breakpoint for Main Nav\r\n\r\n    $mainNavItems.on('keydown', function(e) {\r\n      // Grab all the DOM info we need...\r\n      let $link = $(this),\r\n          $topLevelLinks = $parent.find('.ma__main-nav__top-link'),\r\n          open = $link.hasClass(openClass),\r\n          $openContent = $parent.find('.js-main-nav-content.' + openClass),\r\n          $focusedElement = $(document.activeElement),\r\n          menuFlipped = (windowWidth < breakpoint),\r\n      // relevant if open..\r\n          $topLevelItem = $focusedElement.parents('.ma__main-nav__item'),\r\n          $topLevelLink = $topLevelItem.find('.ma__main-nav__top-link'),\r\n          $dropdownLinks = $link.find('.ma__main-nav__subitem .ma__main-nav__link'),\r\n          dropdownLinksLength = $dropdownLinks.length,\r\n          focusIndexInDropdown = $dropdownLinks.index($focusedElement),\r\n      // Easy access to the key that was pressed.\r\n          keycode = e.keyCode,\r\n          action = {\r\n            'skip': keycode === 9,\r\n            'close': keycode === 27,\r\n            'left': keycode === 37,\r\n            'right': keycode === 39,\r\n            'up': keycode === 38,\r\n            'down': keycode === 40\r\n          };\r\n\r\n      // Default behavior is prevented for all actions except 'skip'.\r\n      if (action.close || action.left || action.right || action.up || action.down) {\r\n        e.preventDefault();\r\n      }\r\n\r\n      // Skip out of the menu and close any currently-open submenus.\r\n      if(action.skip) {\r\n        hide($openContent);\r\n        $link.removeClass(openClass);\r\n        $topLevelLink.attr('aria-expanded','false');\r\n        return;\r\n      }\r\n\r\n      // Navigate into or within a submenu. This is needed on up/down actions\r\n      // (unless the menu is flipped and closed) and when using the right arrow\r\n      // while the menu is flipped and submenu is closed.\r\n      if(((action.up || action.down) && !(menuFlipped && !open))\r\n        || (action.right && menuFlipped && !open)) {\r\n        // Open pull down menu if necessary.\r\n        if (!open) {\r\n          show($topLevelItem.find('.js-main-nav-content'));\r\n          $topLevelLink.attr('aria-expanded', 'true');\r\n          $link.addClass(openClass);\r\n        }\r\n\r\n        // Adjust index of active menu item based on performed action.\r\n        focusIndexInDropdown += (action.up ? -1 : 1);\r\n        // If the menu is flipped, skip the last item in each submenu. Otherwise,\r\n        // skip the first item. This is done by repeating the index adjustment.\r\n        if(menuFlipped) {\r\n          if(focusIndexInDropdown === dropdownLinksLength - 1) {\r\n            focusIndexInDropdown += (action.up ? -1 : 1);\r\n          }\r\n        } else {\r\n          if(focusIndexInDropdown === 0 || focusIndexInDropdown >= dropdownLinksLength) {\r\n            focusIndexInDropdown += (action.up ? -1 : 1);\r\n          }\r\n        }\r\n        // Wrap around if at the end of the submenu.\r\n        focusIndexInDropdown = ((focusIndexInDropdown % dropdownLinksLength) + dropdownLinksLength) % dropdownLinksLength;\r\n        $dropdownLinks[focusIndexInDropdown].focus();\r\n        return;\r\n      }\r\n\r\n      // Close menu and return focus to menubar\r\n      if(action.close || (menuFlipped && action.left)) {\r\n        hide($openContent);\r\n        $link.removeClass(openClass);\r\n        $topLevelLink.focus().attr('aria-expanded','false');\r\n        return;\r\n      }\r\n\r\n      // Navigate between submenus. This is needed for left/right actions in\r\n      // normal layout, or up/down actions in flipped layout (when nav is closed).\r\n      if(((action.left || action.right) && !menuFlipped) ||\r\n         ((action.up || action.down) && menuFlipped && !open)) {\r\n        let index = $topLevelLinks.index($topLevelLink),\r\n            prev = action.left || action.up,\r\n            linkCount = $topLevelLinks.length;\r\n\r\n        // hide content\r\n        // If menubar focus\r\n        //  - Change menubar item\r\n        //\r\n        // If dropdown focus\r\n        //  - Open previous pull down menu and select first item\r\n        hide($openContent);\r\n        $topLevelLink.attr('aria-expanded','false');\r\n        // Get previous item if left arrow, next item if right arrow.\r\n        index += (prev ? -1 : 1);\r\n        // Wrap around if at the end of the set of menus.\r\n        index = ((index % linkCount) + linkCount) % linkCount;\r\n        $topLevelLinks[index].focus();\r\n        return;\r\n      }\r\n\r\n    });\r\n    $mainNavItems.on('mouseenter', function(e) {\r\n      $(this).children('button').attr(\"aria-expanded\",\"true\");\r\n\r\n      if(windowWidth > breakpoint) {\r\n        let $openContent = $(this).find('.js-main-nav-content');\r\n        show($openContent);\r\n      }\r\n    });\r\n    $mainNavItems.on('mouseleave', function(e) {\r\n      $(this).children('button').attr(\"aria-expanded\",\"false\");\r\n\r\n      if(windowWidth > breakpoint) {\r\n        let $openContent = $(this).find('.js-main-nav-content');\r\n        hide($openContent);\r\n      }\r\n    });\r\n    $mainNavToggle.children('button, a').on('click', function(e) {\r\n      let $el = $(this),\r\n          $elParent = $el.parent(),\r\n          $content = $elParent.find('.js-main-nav-content'),\r\n          $openContent = $parent.find('.js-main-nav-content.' + openClass),\r\n          isOpen = $content.hasClass(openClass);\r\n\r\n      // mobile\r\n      if(windowWidth <= breakpoint) {\r\n        e.preventDefault();\r\n        // add open class to this item\r\n        $elParent.addClass(openClass);\r\n        show($content);\r\n        $el.attr('aria-expanded', 'true');\r\n      } else {\r\n        hide($openContent);\r\n        $el.attr('aria-expanded', 'false');\r\n\r\n        if(!isOpen) {\r\n          show($content);\r\n          $el.attr('aria-expanded', 'true');\r\n        }\r\n      }\r\n    });\r\n\r\n    $('.js-close-sub-nav').on('click', function(){\r\n      let $openContent = $parent.find('.js-main-nav-content.' + openClass);\r\n      hide($openContent);\r\n    });\r\n\r\n    // Hide any open submenu content when the sidebar menu is closed\r\n    $('.js-header-menu-button').click(function() {\r\n      let $openContent = $parent.find('.js-main-nav-content.' + openClass);\r\n      hide($openContent);\r\n    });\r\n\r\n    function hide($content) {\r\n      $('body').removeClass(submenuClass);\r\n      $parent.find(\".\" + openClass).removeClass(openClass);\r\n\r\n      if(windowWidth <= breakpoint) {\r\n        $content.addClass(closeClass);\r\n      } else {\r\n        $content\r\n        .stop( true, true )\r\n        .slideUp('fast',function() {\r\n          $content\r\n            .addClass(closeClass)\r\n            .slideDown(0);\r\n        });\r\n      }\r\n    }\r\n\r\n    function show($content) {\r\n      $('body').addClass(submenuClass);\r\n      if(windowWidth <= breakpoint) {\r\n        $content\r\n          .addClass(openClass)\r\n          .removeClass(closeClass);\r\n      } else {\r\n        $content\r\n          .stop( true, true )\r\n          .delay( 200 )\r\n          .slideUp(0,function() {\r\n            $content\r\n              .addClass(openClass)\r\n              .removeClass(closeClass)\r\n              .slideDown('fast');\r\n          });\r\n      }\r\n    }\r\n\r\n\r\n  });\r\n\r\n}(window,document,jQuery);\r\n","// ****** Menu button ******\r\nlet menuButton = document.querySelector(\".js-header-menu-button\");\r\n\r\nif(null !== menuButton){\r\n  menuButton.addEventListener(\"click\", function(event) {\r\n    event.preventDefault();\r\n    document.querySelector(\"body\").classList.toggle(\"show-menu\");\r\n  });\r\n}\r\n\r\n// ****** Main Header Search button on mobile should open the mobile menu  ******\r\nlet searchForm = document.querySelector(\".js-header-search-menu .js-header-search-form\");\r\n\r\nif(null !== searchForm){\r\n  searchForm.addEventListener(\"submit\", function(event) {\r\n    if(window.innerWidth > 620) {\r\n      return;\r\n    }\r\n    event.preventDefault();\r\n    document.querySelector(\"body\").classList.toggle(\"show-menu\");\r\n  });\r\n}\r\n\r\n\r\n","import getTemplate from \"../helpers/getHandlebarTemplate.js\";\r\n\r\nexport default function (window,document,$,undefined) {\r\n  \r\n  $('.js-org-selector').each(function(i){\r\n    let $el = $(this);\r\n    let data = orgSelector[i];\r\n    let compiledTemplate = getTemplate('orgInfo');\r\n    let $select = $el.find('select').first();\r\n    let $placeholder = $el.find('.js-org-info');\r\n\r\n    //render the template based on the current value\r\n    renderTemplate($select.val());\r\n\r\n    // When the select changes\r\n    $select.change(() => {\r\n      //render the template based on the new value\r\n      renderTemplate($select.val());\r\n    });\r\n\r\n    // Render the template based on value\r\n    function renderTemplate(value) {\r\n      if (typeof(data.organizations[value]) === \"undefined\") {\r\n        $placeholder.html(\"\");\r\n        return false;\r\n      }\r\n\r\n      $placeholder.html(compiledTemplate(data.organizations[value]));\r\n\r\n      return true;\r\n    }\r\n  });\r\n\r\n}(window,document,jQuery);\r\n","import getTemplate from \"../helpers/getHandlebarTemplate.js\";\nexport default function (window,document,$,undefined) {\n\n  if($('.js-pagination').length === 0) {\n    return;\n  }\n\n  // {{compare unicorns ponies operator=\"<\"}}\n  // \tI knew it, unicorns are just low-quality ponies!\n  // {{/compare}}\n  //\n  // (defaults to == if operator omitted)\n  //\n  // {{equal unicorns ponies }}\n  // \tThat's amazing, unicorns are actually undercover ponies\n  // {{/equal}}\n  // (from http://doginthehat.com.au/2012/02/comparison-block-helper-for-handlebars-templates/)\n  Handlebars.registerHelper('compare', function(lvalue, rvalue, options) {\n\n    if (arguments.length < 3)\n      throw new Error(\"Handlerbars Helper 'compare' needs 2 parameters\");\n\n    let operator = options.hash.operator || \"==\";\n\n    let operators = {\n      '==':\t\tfunction(l,r) { return l == r; },\n      '===':\tfunction(l,r) { return l === r; },\n      '!=':\t\tfunction(l,r) { return l != r; },\n      '<':\t\tfunction(l,r) { return l < r; },\n      '>':\t\tfunction(l,r) { return l > r; },\n      '<=':\t\tfunction(l,r) { return l <= r; },\n      '>=':\t\tfunction(l,r) { return l >= r; },\n      'typeof':\tfunction(l,r) { return typeof l == r; }\n    };\n\n    if (!operators[operator])\n      throw new Error(\"Handlerbars Helper 'compare' doesn't know the operator \"+operator);\n\n    let result = operators[operator](lvalue,rvalue);\n\n    if( result ) {\n      return options.fn(this);\n    } else {\n      return options.inverse(this);\n    }\n\n  });\n\n  // Set up global component config\n  let compiledTemplate = getTemplate('pagination'),\n    prevButton = '.js-pagination-prev',\n    nextButton = '.js-pagination-next',\n    pageButton = '.js-pagination-page';\n\n  $('.js-pagination').each(function(){\n    let $el = $(this);\n\n    // Listen for previous page button click and trigger pagination event.\n    $el.on('click', prevButton, function () {\n      $el.trigger('ma:Pagination:Pagination', ['previous']);\n    });\n    // Listen for next button click and trigger pagination event.\n    $el.on('click', nextButton, function () {\n      $el.trigger('ma:Pagination:Pagination', ['next']);\n    });\n    // Listen for page number button click and trigger pagination event;\n    $el.on('click', pageButton, function (e) {\n      let targetPageNumber = $(e.target).data('page');\n      $el.trigger('ma:Pagination:Pagination', [targetPageNumber]);\n    });\n\n    // Listen for new data, render new pagination.\n    $el.on('ma:Pagination:DataUpdated', function (e, data) {\n      renderPagination({data: data, $el: $el});\n    });\n  });\n\n  /**\n   * Renders the contents of a specific results pagination component.\n   *\n   * @param args\n   *   The arguments object, can contain the following properties:\n   *      data: data object from which to populate handlebars template variables (required),\n   *      context: the parent component selector\n   */\n  function renderPagination(args) {\n    // Don't attempt to render anything if we don't have new data.\n    if (!args.data) {\n      return;\n    }\n\n    // Create new markup using handlebars template, helper.\n    let markup = compiledTemplate(args.data);\n    args.$el.html(markup);\n  }\n\n}(window,document,jQuery);\n","export default function (window,document,$,undefined) {\r\n  \r\n  $('.js-input-date').each(function(){\r\n    let $el = $(this);\r\n    let restrict = $el.data('restrict');\r\n    let picker = new Pikaday({ \r\n      field: this,\r\n      format: 'MM/DD/YYYY',\r\n    });\r\n\r\n    switch(restrict) {\r\n      case 'max':\r\n        picker.setMaxDate(new Date());\r\n        break;\r\n      case 'min':\r\n        picker.setMinDate(new Date());\r\n        break;\r\n    }\r\n\r\n    $el.attr('type','text');\r\n  });\r\n\r\n}(window,document,jQuery);\r\n","export default function (window,document,$,undefined) {\n\n  $('.js-ma-responsive-video').fitVids();\n\n}(window,document,jQuery);","import getTemplate from \"../helpers/getHandlebarTemplate.js\";\n\nexport default function (window,document,$,undefined) {\n  // Set up global component config\n  let compiledTemplate = getTemplate('resultsHeading'),\n    clearAllButton = '.js-results-heading-clear', // events triggered on parent\n    filterButton = '.js-results-heading-tag'; // events triggered on parent\n\n  $(\".js-results-heading\").each(function() {\n    const $el = $(this);\n\n    // Listen for clear all button click + trigger interaction event on parent.\n    $el.on('click', clearAllButton, function () {\n      $el.trigger('ma:ResultsHeading:ActiveTagClicked', [{clearedFilter: 'all'}]);\n    });\n\n    // Listen for single filter button click and trigger interaction event on parent.\n    $el.on('click', filterButton, function (e) {\n      let clearedFilter = {\n        'type': $(e.target).data('ma-filter-type'),\n        'value': $(e.target).data('ma-filter-value'),\n        'text': $(e.target).text()\n      };\n\n      $el.trigger('ma:ResultsHeading:ActiveTagClicked', [{clearedFilter: clearedFilter}]);\n    });\n\n    // Listen for new results heading data, render new results heading.\n    $el.on('ma:ResultsHeading:DataUpdated', function (e, data) {\n      renderResultsHeading({data: data, $el: $el});\n    });\n  });\n\n  /**\n   * Renders the contents of a specific results heading component.\n   *\n   * @param args\n   *   The arguments object, can contain the following properties:\n   *      data: data object from which to populate handlebars template variables (required),\n   *      context: the parent component selector\n   */\n  function renderResultsHeading(args) {\n    // Don't attempt to render anything if we don't have new data.\n    if (!args.data) {\n      return;\n    }\n    // Create new markup using handlebars template, helper.\n    let markup = compiledTemplate(args.data);\n    args.$el.html(markup);\n  }\n\n}(window,document,jQuery);\n","import slugify from \"../helpers/slugify.js\";\r\nexport default function (window,document,$,undefined) {\r\n\r\n  $('.js-ma-rich-text').each(function(index){\r\n    let $el = $(this),\r\n      richTextIndex = index;\r\n\r\n    $el.find('table').wrap( \"<div class='ma__rich-text__table-wrapper'></div>\" );\r\n\r\n    // Provide css hooks to indent each child heading and its nested contents if js hook is present.\r\n    if ($el.hasClass('js-ma-outline-indent')) {\r\n      $el.find(':header').each(function(index,heading){\r\n        if ($(heading).prop(\"tagName\") !== 'H2') {\r\n          $(heading).addClass(\"ma__rich-text__indent\");\r\n        }\r\n        $(heading).nextUntil(':header')\r\n          .addClass(\"ma__rich-text__indent\")\r\n          .attr('data-ma-heading-parent', $(heading).prop('tagName'));\r\n      });\r\n    }\r\n\r\n    // Insert anchor tags prior to all child headings if js hook is present.\r\n    if ($el.hasClass('js-ma-insert-heading-anchors')) {\r\n      // Get all of the content headings.\r\n      let $headings = $el.find(\":header\");\r\n      $headings.each(function (index, heading) {\r\n        // For H3+\r\n        if ($(heading).prop(\"tagName\") !== 'H2') {\r\n          // Create an id based on the heading text.\r\n          let id = slugify($(heading).text());\r\n          // Insert an anchor tag before the heading.\r\n          $(heading).before(\"<a name='\" + id + \"-\" + richTextIndex + \"-\" + index + \"'></a>\");\r\n        }\r\n      });\r\n    }\r\n  });\r\n}\r\n(window,document,jQuery);\r\n","import checkMobile from \"../helpers/cssControlCode.js\";\r\n\r\nexport default function (window,document,$,undefined) {\r\n\r\n  $(\".js-scroll-anchors\").each(function() {\r\n    let $el = $(this),\r\n        $elParent = $el.parent().css('position') === 'relative' ? $el.parent() : $el.parent().offsetParent(),\r\n        $links = $el.find('.js-scroll-anchors-link'),\r\n        elHeight,\r\n        headerBuffer = 0,\r\n        lowerLimit,\r\n        upperLimit,\r\n        debounceTimer,\r\n        activeClass = \"is-active\",\r\n        activeAnchorIndex = 0,\r\n        anchors = [],\r\n        numAnchors = 0,\r\n        isMobile = false,\r\n        linkScrolling = false;\r\n\r\n    setVariables();\r\n\r\n    // default assumption as to where the screen will load\r\n    $el.attr('data-sticky','top');\r\n\r\n    // update variables one more time to catch any post page load changes\r\n    window.setTimeout(function(){\r\n      setVariables();\r\n    },1000);\r\n\r\n    $links.on('click',function(e) {\r\n      e.preventDefault();\r\n\r\n      let $link = $(this);\r\n\r\n      // is the menu closed on mobile\r\n      if(!$el.hasClass('is-open') && isMobile) {     \r\n        // just show the menu\r\n        $el.addClass('is-open');\r\n        return;\r\n      }\r\n       \r\n      activeAnchorIndex = $(this).data('index');\r\n      // find the location of the desired link and scroll the page\r\n      let position = anchors[activeAnchorIndex].position;\r\n      // close the menu\r\n      $el.removeClass('is-open');\r\n      // prevent the scroll event from updating active links\r\n      linkScrolling = true;\r\n\r\n      $(\"html,body\").stop(true,true).animate({scrollTop:position}, '750', function(){\r\n        linkScrolling = false;\r\n        // Get the link hash target so we can bring focus to it\r\n        let hash = anchors[activeAnchorIndex].hash;\r\n        // bring focus to the item we just scrolled to\r\n        $(hash).focus();\r\n        // timing issue with window.scroll event firing.\r\n        setTimeout(function(){\r\n          // set this link as active.\r\n          $el.find('.' + activeClass).removeClass(activeClass);\r\n          $link.addClass(activeClass);\r\n        },30);\r\n      });\r\n    });\r\n\r\n    // if the content contains accordions, \r\n    // readjust settings when there state changes.\r\n    $('.js-accordion-link').on('click',function() {\r\n      if(typeof debounceTimer === \"number\") {\r\n        window.clearTimeout(debounceTimer);\r\n      }\r\n      debounceTimer = window.setTimeout(function(){\r\n        setVariables();\r\n        setPosition();\r\n        activateLink();\r\n      },400);\r\n    })\r\n\r\n    $el.find(\".js-scroll-anchors-toggle\").on('click',function() {\r\n      $el.toggleClass('is-open');\r\n    });\r\n\r\n    // make the links sticky\r\n    $(window).resize(function() {\r\n      if(typeof debounceTimer === \"number\") {\r\n        window.clearTimeout(debounceTimer);\r\n      }\r\n      debounceTimer = window.setTimeout(function(){\r\n        setVariables();\r\n        setPosition();\r\n        activateLink();\r\n      },300);\r\n    });\r\n\r\n    $(window).scroll(function () {\r\n      setPosition();\r\n\r\n      if(!linkScrolling){\r\n        activateLink();\r\n      }\r\n    });\r\n\r\n    function setVariables() {\r\n      let topOffset = 0;\r\n\r\n      headerBuffer = 0;\r\n      elHeight = $el.outerHeight(true);\r\n      upperLimit = $elParent.offset().top;\r\n      isMobile = checkMobile($el);\r\n\r\n      if($elParent[0].hasAttribute(\"style\") && !isMobile) {\r\n        $elParent.removeAttr('style');\r\n      }\r\n \r\n      if(isMobile) {\r\n        headerBuffer = $('.js-sticky-header').height() || 0;\r\n        upperLimit -= headerBuffer;\r\n        topOffset = elHeight;\r\n      }\r\n\r\n      lowerLimit = upperLimit + $elParent.outerHeight(true) - $el.height();\r\n\r\n      // locate the position of all of the anchor targets\r\n      anchors = new Array;\r\n      $links.each(function(i,e){\r\n        let $el = $(this),\r\n          $link = $el.is('a') ? $el : $el.find('a'),\r\n          hash = $link[0].hash,\r\n          position = $(hash).offset() ? $(hash).offset().top - headerBuffer - topOffset : upperLimit;\r\n\r\n        anchors[i] = { hash, position };\r\n\r\n        $el.data('index',i);\r\n      });\r\n\r\n      // record the number of anchors for performance\r\n      numAnchors = anchors.length;\r\n    }\r\n\r\n    function setPosition() {\r\n      let windowTop = $(window).scrollTop(),\r\n          attr = $el.attr('data-sticky'),\r\n          top = attr !== 'top' && windowTop <= upperLimit, \r\n          middle = attr !== 'middle' && windowTop < lowerLimit && windowTop > upperLimit,\r\n          bottom = attr !== 'bottom' && windowTop >= lowerLimit;\r\n      \r\n      if($elParent[0].hasAttribute(\"style\") && !isMobile) {\r\n        $elParent.removeAttr('style');\r\n      }\r\n\r\n      if(!$elParent[0].hasAttribute(\"style\") && isMobile && attr === 'middle') {\r\n        $elParent.css({'paddingTop':elHeight});\r\n      }\r\n\r\n      if(top) {\r\n        $el.attr('data-sticky','top');\r\n\r\n        if(isMobile){\r\n          $elParent.removeAttr('style');\r\n        }\r\n      } \r\n      else if (middle) {\r\n        $el.attr('data-sticky','middle');\r\n\r\n        if(isMobile){\r\n          $elParent.css({'paddingTop':elHeight});\r\n        }\r\n      } \r\n      else if (bottom) {\r\n        $el.attr('data-sticky','bottom');\r\n\r\n        if(isMobile){\r\n          $elParent.removeAttr('style');\r\n        }\r\n      }\r\n    }\r\n\r\n    function activateLink() {\r\n      // do we have more than one anchor\r\n      if(numAnchors < 2 || linkScrolling) {\r\n        return;\r\n      }\r\n\r\n      // get the current scroll position and offset by half the view port\r\n      let windowTop = $(window).scrollTop() + (window.innerHeight/2),\r\n          currentAnchor = activeAnchorIndex;\r\n      \r\n      // is there a prev target\r\n      // and \r\n      // is the current scroll position above the current target\r\n      if(currentAnchor > 0 && windowTop < anchors[activeAnchorIndex].position) { \r\n        // make the prev link active\r\n        --activeAnchorIndex;\r\n      }\r\n\r\n      // is there a next target\r\n      // and\r\n      // is the current scroll position below the next target\r\n      else if(currentAnchor < numAnchors-1 && windowTop > anchors[activeAnchorIndex+1].position) { \r\n        // make the next link active\r\n        ++activeAnchorIndex;\r\n      }\r\n\r\n      if (currentAnchor !== activeAnchorIndex) {\r\n        // move the active flag\r\n        $el.find('.' + activeClass).removeClass(activeClass);\r\n        $links.eq(activeAnchorIndex).addClass(activeClass);\r\n      }\r\n    }\r\n  });\r\n}(window,document,jQuery);\r\n","export default function (window,document,$,undefined) {\n\n  $('.pre-content .ma__sticky-toc').each(function() {\n    const $toc = $('.ma__sticky-toc'),\n          $tocContent = $('.ma__sticky-toc__links'),\n          $tocSections = $('.ma__information-details .page-content').find('h2'),\n          lastHeading = $tocSections.last().text(),\n          tocSectionCount = $tocSections.length,\n          $tocColumn = $('.ma__sticky-toc__column'),\n          $mobileToggle = $('.ma__sticky-toc__toggle-link'),\n          $tocToggle = $('.stickyTOC-open'),\n          $tocFooter = $('.ma__sticky-toc__footer'),\n          $stickyToc = $('.ma__sticky-toc__current-section');\n\n    // // Remove wrapper if not enough links.\n    if (tocSectionCount < 3 ) {\n      $toc.remove();\n    }\n    else {\n      // To set an overflow rule for jumpy IE wrapping\n      $('html').addClass('stickyTOC');\n    }\n    // Show expander when more than 10 links.\n    if (tocSectionCount <= 10) {\n      if ($(window).width() > 480 ) {\n        $('.ma__sticky-toc__footer').toggle();\n      }\n    }\n\n    // Use headers to fill TOC.\n    $tocSections.each(function() {\n      let $section = $(this);\n      let sectionId = $section.attr('id');\n      let sectionTitle = $section.text();\n      if (!sectionId) {\n        sectionId = sectionTitle.replace(/\\s+/g, '-').toLowerCase();\n        $section.attr('id', sectionId);\n      }\n      let $tocLink = '<div class=\"ma__sticky-toc__link\"><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" aria-hidden=\\\"true\\\" width=\\\"35\\\" height=\\\"35\\\" viewBox=\\\"0 0 35 35\\\"><path class=\\\"st0\\\" d=\\\"M17.5 35C7.8 35 0 27.2 0 17.5 0 7.8 7.8 0 17.5 0 27.2 0 35 7.8 35 17.5 35 27.2 27.2 35 17.5 35zM16 9l-3 2.9 5.1 5.1L13 22.1l3 2.9 8-8L16 9z\\\"/></svg><a href=\"#'+sectionId+'\" >'+sectionTitle+'</a></div>';\n      let dest = '<span class=\"sticky-toc-jump-target\" id=\"' + sectionId + '\"></span>';\n\n      $section.removeAttr('id');\n      $section.parent().prepend(dest);\n      $('.ma__sticky-toc__column').append($tocLink);\n    });\n\n    // Toggle mobile TOC open.\n    $mobileToggle.on('click', function() {\n      $tocContent.toggleClass('is-open');\n    });\n\n    $tocFooter.on('click', function() {\n      let $button = $(this).find('button');\n      let $buttonText = $button.text();\n\n      // Toggle hidden links open.\n      $tocContent.toggleClass('open');\n      $button.toggleClass('open');\n\n      // Toggle button text.\n      $button.text($buttonText === \"show less\" ? \"show more\" : \"show less\");\n    });\n\n    $(window).resize(function () {\n      // Reset menu for each form factor on resize.\n      $('.ma__sticky-toc__link').removeAttr('style');\n      $tocContent.removeClass('open');\n      $tocFooter.find('button').removeClass('open').text('Show More');\n    });\n\n    // Set title bar to 'Related since the scroll never makes it that far'\n    $('body').on('click', '.ma__sticky-toc__link a[text=\"' + lastHeading + '\"]', function() {\n      $('.ma__sticky-toc__current-section').text(lastHeading);\n    });\n\n    $(window).scroll(function () {\n      const windowTop = $(window).scrollTop();\n      const windowBottom = window.innerHeight;\n      const docHeight = $(document).height();\n      const stickyNavActive  = $toc.offset().top + $toc.outerHeight() - 20;\n\n      // Active Sticky TOC when on page TOC scrolls past.\n      if (stickyNavActive > windowTop) {\n        $toc.removeClass('stuck');\n      } else {\n        $toc.addClass('stuck');\n\n        if (windowTop + windowBottom === docHeight) {\n          $stickyToc.text(lastHeading);\n        }\n        else {\n          // Identify the section to show for the heading.\n          const active = $tocSections.filter((index, section) => {\n            return $(section).siblings('.sticky-toc-jump-target').offset().top < 20;\n          });\n          $stickyToc.text($(active.last()).text());\n        }\n      }\n    });\n\n    // Back to top button\n    $(\".stickyTOC-top\").on('click',function(e) {\n      e.preventDefault();\n      try {\n        $(\"html, body\").stop(true,true).animate({scrollTop:0}, '750');\n      }\n      catch(e) {\n        $('body').scrollTop(0);\n      }\n      // Bring keyboard focus back to top as well.\n      $(\"#main-content\").focus();\n      return false;\n    });\n\n    function menuToggle() {\n      $('.ma__sticky-toc__stuck-menu').toggleClass('sticky-nav-open');\n      $('.ma__sticky-toc__overlay').toggle();\n      $('.ma__floating-action').toggle();\n    }\n\n    $tocToggle.on('click', function() {\n      // Append sticky menu when first called\n      if ($('.ma__sticky-toc__stuck-menu').length == 0) {\n        $tocColumn.clone(true).addClass('ma__sticky-toc__stuck-menu').appendTo('#main-content');\n      }\n      menuToggle();\n    });\n\n    // Close button\n    $('.secondary-label-close').on('click', function() {\n      menuToggle();\n    });\n\n    // Close sticky menu on click off, include tools buttons\n    $('body').on('click', function() {\n      if(!$(event.target).closest('.ma__sticky-toc__stuck-menu').length && !$(event.target).closest('.ma__sticky-toc__tools').length) {\n        if($('.ma__sticky-toc__stuck-menu').hasClass('sticky-nav-open')) {\n          menuToggle();\n        }\n      }\n    });\n\n    // close menu when link clicked\n    $('body').on('click', '.ma__sticky-toc__stuck-menu a', function() {\n      menuToggle();\n    });\n  });\n}\n(window,document,jQuery);\n","export default function (window,document,$,undefined) {\n\n  $('.ma__featured-item .ma__featured-item__title span').each(function() {\n    const $this = $(this);\n    const $thisParent = $this.parent();\n    const $thisWrapper = $thisParent.closest('.ma__featured-item');\n    let thisTitle = $this.text();\n\n    // Links are truncated to 60 characters\n    // The wrappers only accommodate 50 with ellipses and the icon\n    if (thisTitle.length > 50) {\n      // Add a class for styling.\n      $thisParent.addClass('truncated');\n      // Add the full title to the aria label to keep value\n      $thisWrapper.attr('aria-label', thisTitle);\n\n      // Truncate title at last full word before 50th character\n      var truncatedTitle = thisTitle.substring(0, 50);\n      truncatedTitle = truncatedTitle.substr(0, Math.min(truncatedTitle.length, truncatedTitle.lastIndexOf(\" \")));\n      thisTitle = truncatedTitle;\n    }\n    $this.text(thisTitle);\n  });\n\n}(window,document,jQuery);\n","export default function (window,document,$,undefined) {\r\n\r\n  $('.js-util-nav').each(function() {\r\n    let openClass = \"is-open\",\r\n        closeClass = \"is-closed\",\r\n        submenuClass = \"show-utilmenu\",\r\n        $parent = $(this),\r\n        waitForIt = null;\r\n\r\n    $('.js-close-sub-nav').on('click', function(){\r\n      let $openContent = $parent.find('.js-util-nav-content.' + openClass);\r\n      hide($openContent);\r\n    });\r\n\r\n    $parent.find('.js-util-nav-toggle > a').on('click', function(e) {\r\n      e.preventdefault;\r\n\r\n      let open = $(this).hasClass(openClass),\r\n        $content = $(this).next('.js-util-nav-content'),\r\n        $openContent = $parent.find('.js-util-nav-content.' + openClass);\r\n\r\n      // hide other content\r\n      hide($openContent);\r\n\r\n      if(open) {\r\n        return;\r\n      }\r\n      // add open class to this item\r\n      $(this).addClass(openClass);\r\n      // add open class to the correct content based on index\r\n      $content.attr(\"aria-hidden\",\"false\");\r\n\r\n      setTimeout(function(){\r\n        $content\r\n          .removeClass(closeClass)\r\n          .addClass(openClass);\r\n        $('body').addClass(submenuClass)\r\n      }, .1);\r\n    });\r\n\r\n    $parent.find('.js-close-util-nav').on('click', function(e){\r\n      e.preventDefault;\r\n\r\n      hide( $(this).closest('.js-util-nav-content') );\r\n    });\r\n\r\n    $('.js-header-menu-button, .js-close-sub-nav').on('click', function(){\r\n      let $openContent = $parent.find('.js-util-nav-content.' + openClass);\r\n      hide($openContent);\r\n    });\r\n\r\n    function hide($content) {\r\n      $('body').removeClass(submenuClass)\r\n      $parent.find(\".\" + openClass).removeClass(openClass);\r\n      $content\r\n        .removeClass(openClass)\r\n        .addClass(closeClass);\r\n\r\n      if(waitForIt) {\r\n        clearTimeout(waitForIt);\r\n      }\r\n      waitForIt = setTimeout(function(){\r\n        $content.attr(\"aria-hidden\",\"true\");\r\n      }, 1000);\r\n    }\r\n\r\n  });\r\n\r\n}(window,document,jQuery);\r\n"]}