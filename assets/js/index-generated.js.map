{"version":3,"sources":["node_modules/browser-pack/_prelude.js","index.js","source/assets/js/helpers/cookies.js","source/assets/js/helpers/cssControlCode.js","source/assets/js/helpers/getElementOuterHtml.js","source/assets/js/helpers/getHandlebarTemplate.js","source/assets/js/helpers/jQueryExtend.js","source/assets/js/helpers/jQueryExtend_ajaxPattern.js","source/assets/js/helpers/listing.js","source/assets/js/helpers/sticky.js","source/assets/js/helpers/truncateBodyText.js","source/assets/js/helpers/twiggy.js","source/assets/js/index.js","source/assets/js/modules/accordions.js","source/assets/js/modules/activateBodyTextTruncation.js","source/assets/js/modules/ajaxPattern.js","source/assets/js/modules/ajaxPatternOverride.js","source/assets/js/modules/back2top.js","source/assets/js/modules/clickable.js","source/assets/js/modules/contactAccordion.js","source/assets/js/modules/dropdown.js","source/assets/js/modules/emergencyAlerts.js","source/assets/js/modules/eventFilters.js","source/assets/js/modules/eventListingInteractive.js","source/assets/js/modules/expandClickableArea.js","source/assets/js/modules/feedbackForm.js","source/assets/js/modules/footnote.js","source/assets/js/modules/formInputs.js","source/assets/js/modules/formValidation.js","source/assets/js/modules/googleMap.js","source/assets/js/modules/headerTags.js","source/assets/js/modules/hideAlert.js","source/assets/js/modules/imageFill.js","source/assets/js/modules/inlineOverlay.js","source/assets/js/modules/inpageAlert.js","source/assets/js/modules/keywordSearch.js","source/assets/js/modules/linkListToggle.js","source/assets/js/modules/locationFilters.js","source/assets/js/modules/locationListing.js","source/assets/js/modules/mainNav.js","source/assets/js/modules/mainNavHamburger.js","source/assets/js/modules/mainNavMixed.js","source/assets/js/modules/mobileNav.js","source/assets/js/modules/orgSelector.js","source/assets/js/modules/organizationNavigation.js","source/assets/js/modules/pagination.js","source/assets/js/modules/pikaday.js","source/assets/js/modules/preventHorizontalListWidows.js","source/assets/js/modules/relatedOrgsAndTopics.js","source/assets/js/modules/responsiveTable.js","source/assets/js/modules/responsiveVideo.js","source/assets/js/modules/resultsHeading.js","source/assets/js/modules/scrollAnchors.js","source/assets/js/modules/stickyTOC.js","source/assets/js/modules/teaserListingGroup.js","source/assets/js/modules/truncateTitle.js","source/assets/js/modules/utilNav.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Object","defineProperty","value","default","window","document","undefined","setCookie","name","expires","d","Date","setTime","getTime","toUTCString","cookie","getCookie","parts","split","pop","shift","2","$el","getComputedStyle","getPropertyValue","replace","err","3","el","outerHTML","container","createElement","appendChild","cloneNode","innerHTML","4","Handlebars","templates","jQuery","ajax","url","ma","themePath","success","data","compile","async","5","$","extend","expr","focusable","index","selector","is","6","obj","_twiggy","_twiggy2","__esModule","ajaxCache","ajaxPattern","element","options","endpoint","pattern","renderPattern","patternTransform","transform","self","this","$element","updatePattern","getPatternData","then","patternData","isEmptyObject","console","error","fail","template","renderAsync","markup","html","trigger","getPatternPath","pathParts","namespace","patternPath","join","patternPaths","type","cache","dataType","jqXHR","textStatus","errorThrown","fn","MassAjaxPattern","each","defaults","./twiggy","7","_getHandlebarTemplate2","_interopRequireDefault","_sticky2","_getElementOuterHtml2","moment","transformTag","tag","label","svg","getSvgFromTag","id","find","siblings","hasFilter","filters","some","filter","hasOwnProperty","getFilterValues","map","transformActiveTagsData","args","filterData","clearedFilter","resultsHeading","tags","formData","paginateItems","items","max","page","pageTotal","item","isActive","totalPages","clearListingPage","listing","parent","makeAllActive","filterDataByTags","haystack","every","v","Boolean","keys","indexOf","filterDataByDateTags","filterStart","filterEnd","start","end","isSameOrAfter","isSameOrBefore","isSame","isEventInDateRange","paginated","maxItems","renderListingPage","warn","selectors","forEach","append","focus","row","first","eq","init","transformPaginationData","targetPage","pages","push","text","toString","active","pagination","prev","disabled","next","currentPage","transformResultsHeading","totalActive","firstItem","Number","lastItem","totalResults","numResults","filterListingData","sortDataAlphabetically","sort","b","nameA","title","toUpperCase","nameB","sortDataByDate","dateType","dateA","dateB","isBefore","isAfter","geocodeAddressString","address","callback","geocoder","geocode","results","status","google","maps","GeocoderStatus","OK","place","geocodePlaceId","place_id","placeId","calculateDistance","lat1","lon1","lat2","lon2","unit","radlat1","Math","PI","radlat2","theta","radtheta","dist","sin","cos","acos","transformListing","compiledTemplate","listingMarkup","itemData","val","tagsData","tagsFormatted","assign","itemTransform","makeMoment","startTimestamp","endTimestamp","../helpers/getElementOuterHtml.js","../helpers/getHandlebarTemplate.js","../helpers/sticky.js","8","_cssControlCode","_cssControlCode2","$elParent","elWidth","lowerLimit","upperLimit","runCode","updateData","newRunCode","removeAttr","height","width","offset","top","outerHeight","setPosition","attr","windowTop","scrollTop","middle","bottom","css","offsetParent","setTimeout","resize","scroll","../helpers/cssControlCode.js","9","calculateTruncation","get","getBoundingClientRect","$p","style","lineHeight","parseInt","paddingTop","lineLimit","matchMedia","matches","thresholdHeight","truncatedHeight","intrinsicHeight","children","$button","$fadeOverlay","$focusableEls","truncationPreviouslyCalculated","toggleText","toggleLabel","bind","toggleTabindexes","expanded","enableTruncation","addClass","$contents","prepend","on","toggleClass","hasClass","oldText","trim","oldLabel","one","wrapInner","initTruncation","resizeTimeout","truncateResize","removeClass","detach","off","removeTruncation","clearTimeout","10","Twig","resolveTwigPath","patternName","getIconPath","iconPath","extendFunction","twig","href","render","Promise","resolve","reject","allowInlineIncludes","namespaces","base","atoms","molecules","organisms","meta","load","11","./helpers/jQueryExtend.js","./helpers/jQueryExtend_ajaxPattern.js","./modules/accordions.js","./modules/activateBodyTextTruncation.js","./modules/ajaxPattern.js","./modules/ajaxPatternOverride.js","./modules/back2top.js","./modules/clickable.js","./modules/contactAccordion.js","./modules/dropdown.js","./modules/emergencyAlerts.js","./modules/eventFilters","./modules/eventListingInteractive","./modules/expandClickableArea","./modules/feedbackForm.js","./modules/footnote.js","./modules/formInputs.js","./modules/formValidation.js","./modules/googleMap.js","./modules/headerTags.js","./modules/hideAlert.js","./modules/imageFill.js","./modules/inlineOverlay.js","./modules/inpageAlert.js","./modules/keywordSearch.js","./modules/linkListToggle.js","./modules/locationFilters.js","./modules/locationListing.js","./modules/mainNav.js","./modules/mainNavHamburger.js","./modules/mainNavMixed.js","./modules/mobileNav.js","./modules/orgSelector.js","./modules/organizationNavigation.js","./modules/pagination.js","./modules/pikaday.js","./modules/preventHorizontalListWidows.js","./modules/relatedOrgsAndTopics.js","./modules/responsiveTable.js","./modules/responsiveVideo.js","./modules/resultsHeading.js","./modules/scrollAnchors.js","./modules/stickyTOC.js","./modules/teaserListingGroup","./modules/truncateTitle.js","./modules/utilNav.js","12","$link","$content","$status","open","stop","slideDown","preventDefault","slideUp","temp","apply","$context","offsetIndex","13","_truncateBodyText","_truncateBodyText2","../helpers/truncateBodyText","14","15","ajaxData","emergencyAlerts","alerts","these","are","16","animate","17","click","event","dest","location","18","$columns","$sets","19","dropdownMenu","querySelectorAll","_loop","parentEl","selectEl","querySelector","link","onchange","elem","selectedIndex","srcElement","innerText","20","_cookies","_cookies2","cookieName","cookieValue","../helpers/cookies.js","21","$locationFilterParent","$locationFilter","locationInput","getElementById","swLat","swLng","neLat","neLng","bounds","LatLngBounds","LatLng","strictBounds","types","componentRestrictions","country","fields","autocomplete","places","Autocomplete","$form","$place","$dateStart","$dateEnd","$tags","prop","clearForm","clearDeactivatedFilter","submit","$location","dateRange","startDate","endDate","useToday","format","getFormData","22","_listing","_listing2","transformData","transformation","promise","Deferred","transformReturn","filteredData","sortedData","autocompletePlace","getPlace","Geocoder","result","sortDataAroundPlace","lat","geometry","lng","key","distance","position","$resultsHeading","$pagination","$eventFilter","rawData","eventListingInteractive","masterData","handlePagination","target","nextPage","updateChildComponents","listArray","eventListing","events","masterListing","masterListingMarkup","date","endDay","ceil","getMasterListingWithMarkup","populateMasterDataSource","formValues","done","defaultPage","params","URLSearchParams","search","history","state","../helpers/listing.js","23","ready","24","$feedbackForm","$fields","$textArea","$contactForm","$loadRadios","$contactRadios","$Response","$noResponseLink","$alertToggle","foundIndicator","contactGroup","$submitButton","closest","25","$messageLink","clone","$rtelink","isMobile","getPosition","$target","pos","headerHeight","navHeight","scrollTo","26","maxlength","remaining","message","wrap","inArray","keyCode","ctrlKey","metaKey","shiftKey","$plus","$minus","27","validate","arguments","valid","match","requiredFields","$errorList","$field","submitForm","addError","28","_getHandlebarTemplate","googleMapData","mapsInitialized","checkForGoogleMaps","setInterval","clearInterval","stopChecking","markers","mapData","scrollwheel","Map","initializedMarkers","markerData","infoWindow","sanitizeText","marker","Marker","infoData","phoneFormatted","formatPhone","phone","faxFormatted","fax","infoTransform","InfoWindow","content","markerBouncing","addListener","hideInfo","showInfo","close","bounce","setAnimation","Animation","BOUNCE","initMarkers","addMarkersToMap","addListenerOnce","role","tabindex","aria-label","ev","which","markerIndex","_i","_i2","setMap","removeMarkersFromMap","dataMarkers","setZoom","updateMapByMarkers","potentialHTML","substring","fitBounds","29","$showHideButton","$dynamicItems","$focusItem","show","hide","$tagWrapper","$buttonCounter","$hiddenTag","tagCount","$tagState","toggle","$tagStateText","_","windowWidth","30","fadeIn","fadeOut","31","sidebarHeight","debounceTimer","mediaWidth","wrapperWidth","$thisMedia","32","feedbackButton","toggleOverlay","$containerEl","isOpen","parents","floor","random","initialize","keydown","33","$pageAlert","34","35","$thisList","$thisToggle","$thisToggleLabel","$listItem","listItems","showToggle","thisToggleText","$item","36","populateFormData","isFormSubmit","getParameterFromUrl","pageNum","set","delete","tagFilters","pushState","origin","pathname","pushFilterState","param","$resultHeading","37","reasonable_formatted_location","getActiveMarkers","spherical","computeDistanceBetween","$mapCol","$map","locationListing","promosArray","imagePromos","getMasterListingWithMarkupAndMarkers","getPage","stopImmediatePropagation","currentTarget","resetValues","38","innerWidth","$parent","$mainNavItem","delay","$otherLinks","not","$topLevelLinks","$openContent","$focusedElement","activeElement","menuFlipped","$topLevelItem","$topLevelLink","$dropdownLinks","dropdownLinksLength","focusIndexInDropdown","keycode","action","skip","left","right","up","down","space","enter","log","linkCount","39","body","clientWidth","menuButton","menuButtonText","hamburgerMenuContainer","menuItems","menuOverlay","utilNavWide","jumpToSearchButton","hamburgerMainNav","alertHeight","clientHeight","closeMenu","commonCloseMenuTasks","setAttribute","classList","remove","textContent","commonOpenMenuTasks","add","addEventListener","paddingBottom","MutationObserver","mutations","mutationRecord","observe","attributes","toggleAttribute","contains","removeAttribute","itemButton","subMenu","subItems","subMenuItems","opacity","pointerEvents","closeNarrowUtilContent","getElementsByTagName","parentElement","nextElementSibling","subItem","prevSib","previousElementSibling","nextSib","debouncer","onresize","utilWideButton","utilWideCloseButton","utilWideContent","closeUtilWideContent","thisWideButton","thisWideContent","utilNarrowButton","utilNarrowContent","thisButton","openSubMenu","openSubMenuButton","openSubMenuContent","openSubMenuContainer","40","documentElement","41","toggleFeedbackButton","42","orgSelector","$select","$placeholder","renderTemplate","organizations","change","43","$orgNav","$orgNavItems","$menuWrapper","$pageWrapper","$newsLink","$eventsLink","$locationsLink","$relatedOrgs","$mobileToggle","$orgNavSearchForm","$orgNavSearchInput","$searchToggle","$menuButton","$sectionButton","bannerBottom","menuHeight","orgWindowTop","$buttonLabel","searchAction","searchParams","$buttonParent","$thisMenu","$otherMenus","keyup","$buttonClone","prependTo","$seeAll","appendTo","$contactGroups","slice","wrapAll","unwrap","44","targetPageNumber","has","pushPaginationState","onpopstate","truncatedPagination","current","last","delta","range","rangeWithEllipsis","l","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","return","truncatePaginationDisplay","unwrapperMarkup","parseHTML","renderPagination","replaceState","../helpers/twiggy","45","restrict","picker","Pikaday","field","setMaxDate","setMinDate","46","preventWidows","$list","$items","Array","from","childNodes","node","nodeType","Node","ELEMENT_NODE","itemCount","itemStyle","itemWidth","parseFloat","marginLeft","paddingLeft","paddingRight","marginRight","listStyle","listWidth","borderLeft","borderRight","itemsPerRow","preventWidowsForever","timeout","$horizontalLists","47","$thisWrapper","$toggleButton","48","$window","responsiveTables","setWidths","rt","$table","$stickyHeader","initializeTable","reset","$thead","hasThead","theadHeight","isNestedThead","hasTh","canScroll","offsetHeight","after","tableLeft","getAdditionalOffset","scrollLeft","margin","$root","headerStuck","scrollStuck","recalcScrollbar","handleTableScroll","checkVisibility","tableWrapper","getElementsByClassName","scrollbar","scrollWidth","offsetWidth","additionalOffset","$jsStickyHeader","elementTop","windowBottom","elementBottom","tableBottom","stuckTop","stuckBottom","headerBottom","handleScrollerClick","$scrollContainer","posX","midpoint","clickpoint","pageX","abs","handleScrollerInteraction","initialPosition","pageY","handleMouseMove","newPosition","handleMouseUp","tableWidth","tableContainerWidth","scrollbarContainerWidth","scrollbarWidth","buttonWidth","$scrollbar","$scrollbarIndicator","_this","scrollPercent","scrollable","className","elements","currentScrollLeft","stopPropagation","49","fitvids","50","renderResultsHeading","51","$titleLink","$links","elHeight","headerBuffer","activeAnchorIndex","anchors","numAnchors","linkScrolling","setVariables","topOffset","hasAttribute","mobileTitleOn","mobileTitleOff","hash","activateLink","innerHeight","currentAnchor","52","toc","tocContent","tocParent","dataset","tocSections","headings","sections","links","tocSectionCount","additionalCount","totalSections","toLowerCase","tocColumn","stickyToc","minSectionsToShow","stuckOverlay","stuckNav","stuckMenu","pauseScroll","handleResize","heading","display","menuToggle","focusSwitch","section","sectionId","sectionTitle","tocLink","insertBefore","tocButton","popupLabel","getAttribute","button","pageYOffset","docHeight","scrollHeight","stickyNavDemensions","stickyNavActive","stuckNavDemensions","stuckNavBottom","lastHeading","reverse","behavior","menuCopy","lastChild","clicked","53","$toggle","$sections","hiddenClass","totalShown","teaserItems","$section","totalTeaserItems","hiddenItems","54","$this","$thisParent","thisTitle","truncatedTitle","substr","min","lastIndexOf","55","resize_timeout","$panels","$panel","$utilityButtons","$closeButton","$thisButton","$thisPanel","$closePanel"],"mappings":"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","file":"index-generated.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import \"./helpers/jQueryExtend.js\";\nimport \"./helpers/jQueryExtend_ajaxPattern.js\";\nimport ajaxPattern from \"./modules/ajaxPattern.js\";\nimport ajaxPatternOverride from \"./modules/ajaxPatternOverride.js\";\nimport accordions from \"./modules/accordions.js\";\nimport activateBodyTextTruncation from \"./modules/activateBodyTextTruncation.js\";\nimport googleMap from \"./modules/googleMap.js\";\nimport back2top from \"./modules/back2top.js\";\nimport clickable from \"./modules/clickable.js\";\nimport contactAccordion from \"./modules/contactAccordion.js\";\nimport dropdown from \"./modules/dropdown.js\";\nimport emergencyAlerts from \"./modules/emergencyAlerts.js\";\nimport eventFilters from \"./modules/eventFilters\";\nimport eventListingInteractive from \"./modules/eventListingInteractive\";\nimport expandClickableArea from \"./modules/expandClickableArea\";\nimport feedbackForm from \"./modules/feedbackForm.js\";\nimport footnote from \"./modules/footnote.js\";\nimport formValidation from \"./modules/formValidation.js\";\nimport headerTags from \"./modules/headerTags.js\";\nimport hideAlert from \"./modules/hideAlert.js\";\nimport inlineOverlay from \"./modules/inlineOverlay.js\";\nimport imageFill from \"./modules/imageFill.js\";\nimport inpageAlert from \"./modules/inpageAlert.js\";\nimport keywordSearch from \"./modules/keywordSearch.js\";\nimport linkListToggle from \"./modules/linkListToggle.js\";\nimport locationListing from \"./modules/locationListing.js\";\nimport locationFilters from \"./modules/locationFilters.js\";\nimport mainNav from \"./modules/mainNav.js\";\nimport mainNavHamburger from \"./modules/mainNavHamburger.js\";\nimport mainNavMIxed from \"./modules/mainNavMixed.js\";\nimport mobileNav from \"./modules/mobileNav.js\";\nimport orgSelector from \"./modules/orgSelector.js\";\nimport organizationNavigation from \"./modules/organizationNavigation.js\";\nimport pagination from \"./modules/pagination.js\";\nimport pikaday from \"./modules/pikaday.js\";\nimport preventHorizontalListWidows from \"./modules/preventHorizontalListWidows.js\";\n// `richText` and `stickTOC` are needed above offsets.\nimport stickyTOC from \"./modules/stickyTOC.js\";\nimport relatedOrgsAndTopics from \"./modules/relatedOrgsAndTopics.js\";\nimport responsiveTable from \"./modules/responsiveTable.js\";\nimport responsiveVideo from \"./modules/responsiveVideo.js\";\nimport resultsHeading from \"./modules/resultsHeading.js\";\nimport scrollAnchors from \"./modules/scrollAnchors.js\";\nimport teaserListingGroup from \"./modules/teaserListingGroup\";\nimport truncateTitle from \"./modules/truncateTitle.js\";\nimport formInputs from \"./modules/formInputs.js\";\nimport utilNav from \"./modules/utilNav.js\";\n","export default (function(window, document, undefined){\r\n  \"use strict\";\r\n\r\n  function setCookie(name, value, expires) {\r\n    if(typeof(expires) === 'number') {\r\n      var d = new Date();\r\n      d.setTime(d.getTime() + (expires*24*60*60*1000));\r\n      var expires = \"expires=\"+d.toUTCString();\r\n      document.cookie = name + \"=\" + value + \"; \" + expires + \"; path=/\";\r\n    } else {\r\n      document.cookie = name + \"=\" + value + \"; path=/\";\r\n    }\r\n\r\n  }\r\n\r\n  function getCookie(name) {\r\n    var value = \"; \" + document.cookie;\r\n    var parts = value.split(\"; \" + name + \"=\");\r\n    if (parts.length == 2) return parts.pop().split(\";\").shift();\r\n  }\r\n\r\n  return {\r\n    setCookie,\r\n    getCookie\r\n  };\r\n\r\n})(window, document);\r\n\r\n","// check the value of the css :before psuedo element\r\n// values look for \"true\" or \"false\"\r\n\r\nexport default ($el) => {\r\n  let value = \"true\";\r\n  try {\r\n    value = window.getComputedStyle($el[0], ':before').getPropertyValue('content').replace(/\\\"/g, '');\r\n  } catch(err) {}\r\n  return value === \"false\" ? false : true;\r\n};\r\n","/**\n  * Get outerHTML of elements, taking care\n  * of SVG elements in IE as well.\n  *\n  * @param {Element} DOM object\n  * @return {String}\n  */\n\nexport default function (el) {\n  if (el.outerHTML) {\n    return el.outerHTML\n  }\n  else {\n    let container = document.createElement('div');\n        container.appendChild(el.cloneNode(true));\n    return container.innerHTML;\n  }\n}\n","module.exports = function(name) {\r\n  if (Handlebars.templates === undefined || Handlebars.templates[name] === undefined) {\r\n      jQuery.ajax({\r\n          url : ma.themePath + '/js/templates/' + name + '.html',\r\n          success : function(data) {\r\n              if (Handlebars.templates === undefined) {\r\n                  Handlebars.templates = {};\r\n              }\r\n              Handlebars.templates[name] = Handlebars.compile(data);\r\n          },\r\n          async : false\r\n      });\r\n  }\r\n  return Handlebars.templates[name];\r\n};\r\n","export default (function (window,document,$,undefined) {\n  $.extend($.expr[':'], {\n    // jQuery find all focusable elements\n    // see: https://coderwall.com/p/jqsanw/jquery-find-every-focusable-elements\n    focusable: function(el, index, selector){\n      return $(el).is('a, button, :input, [tabindex]');\n    }\n  });\n})(window,document,jQuery);\n","import twiggy from './twiggy';\n\nexport default (function (window,document,$,undefined) {\n  'use strict';\n\n  // Plain old javascript object to hold cached alert data.\n  // This prevents duplicate calls to endpoints on pages that\n  // display alerts in both the header and the body.\n  let ajaxCache = {};\n\n  // Object-orientated approach to jQuery plugin building, so as to not\n  // pollute global namespace or a complicated switch based on passed params.\n  let ajaxPattern = function(element, options) {\n    let endpoint = options.endpoint;\n    const pattern = options.renderPattern;\n    let patternTransform = options.transform;\n    let self = this;\n    let $element = $(element);\n\n    /**\n     * Wrapper function to get and render data for a given pattern.\n     */\n    self.updatePattern = function() {\n      self.getPatternData()\n        .then(function (patternData) {\n          // If a custom transform function was passed in, invoke it.\n          if (patternTransform && typeof patternTransform === \"function\") {\n            patternData = patternTransform(patternData);\n          }\n\n          //@todo validate the data against a schema: https://github.com/tdegrunt/jsonschema\n\n          // Only attempt to render a pattern if there is data.\n          if ($.isEmptyObject(patternData)) {\n            return;\n          }\n          // Render the pattern with the data.\n          try {\n            self.renderPattern(pattern,patternData);\n          }\n          catch (e) {\n            console.error(e);\n          }\n        })\n        .fail(function () {\n          console.error('MA::AjaxPattern::Could not get data at endpoint:', endpoint);\n        });\n    };\n\n    /**\n     * Use TwigJS to render the pattern with its data from the twig template.\n     *\n     * @param pattern\n     *  A namespaced path to a twig template for the pattern we want to render (i.e. @atoms/decorative-link.twig)\n     * @param data\n     *  The data structure which the pattern expects in order to render.\n     */\n    self.renderPattern = function(pattern,data) {\n      return twiggy(pattern)\n          .then(template => template.renderAsync(data))\n          .then(markup => {\n            $element.html(markup)\n              $(document).trigger('ma:AjaxPattern:Render', [{'el': $element}]);\n          });\n    };\n\n    /**\n     * Returns the gettable path to a pattern based on its namespaced path.\n     *\n     * @param pattern\n     *   The namespaced path to a pattern (i.e. @atoms/decorative-link.twig)\n     *\n     * @returns {string}\n     *   The path to a pattern which can be used in a get request (i.e. /assets/patterns/atoms/decorative-link.twig )\n     */\n    self.getPatternPath = function(pattern) {\n      let pathParts = pattern.split(\"/\");\n      let namespace = pathParts.shift();\n      let patternPath = pathParts.join(\"/\");\n      // Set ma.patternPaths in your implementation's env.js file (see /source/_meta/_00-foot.twig)\n      return ma.patternPaths[namespace] + patternPath;\n    };\n\n    /**\n     * Asynchronous function which makes ajax request to passed in endpoint to get emergency alerts data.\n     *\n     * @returns {*}\n     *   A promise.\n     */\n    self.getPatternData = function() {\n      if (!endpoint) {\n        // throw an error\n        throw new Error('MA::AjaxPattern::An endpoint argument is required.');\n      }\n\n      // Check if we have a request already made or in-flight for this endpoint.\n      if (ajaxCache[endpoint]) {\n        return ajaxCache[endpoint];\n      }\n\n      // Make ajax request to endpoint (returns promise)\n      return ajaxCache[endpoint] = $.ajax({\n          type: 'GET',\n          url: endpoint,\n          cache: true,\n          dataType: 'json'\n      }).fail(function(jqXHR, textStatus, errorThrown) {\n          console.error('MA::AjaxPattern::Ajax Error: ', errorThrown);\n      });\n    };\n\n    self.updatePattern();\n    return true;\n  };\n\n\n  /**\n   * Create a custom Transform plugin.\n   */\n  $.fn.MassAjaxPattern = function(options) {\n\n    return this.each(function(i, el) {\n      let $element = $(el);\n      // Returns early if plugin is already there.\n      if ($element.data('mass-ajax-data')) {\n        return;\n      }\n      let data = new ajaxPattern(this, options);\n      $element.data('mass-ajax-data', data);\n    });\n\n  };\n\n  // Plugin defaults.\n  $.fn.MassAjaxPattern.defaults = {\n    endpoint: '',\n    pattern: '',\n    transform: undefined\n  };\n})(window,document,jQuery);\n","import getTemplate from \"../helpers/getHandlebarTemplate.js\";\nimport sticky from \"../helpers/sticky.js\";\nimport getOuterHtml from \"../helpers/getElementOuterHtml.js\";\n\nexport default (function(window, document, undefined, $, moment){\n  \"use strict\";\n\n  /**\n   * Common Helpers between event + location listings\n   */\n\n\n  /**\n   * Renders the new page of location listing image promos and broadcasts the rendered master data instance.\n   *\n   * @param args\n   *   Arguments object with the following structure:\n   *   {\n   *      page: (optional) the page to be rendered, defaults to 1\n   *      data: the instance of master data to render\n   *   }\n   */\n  function renderListingPage(args) {\n    if (args.data.hasOwnProperty('selectors')) {\n      clearListingPage(args.data.selectors.container, args.data.selectors.parent);\n      let $el = $(args.data.selectors.container).find(args.data.selectors.parent),\n          page = args.page ? args.page : 1;\n\n      args.data.items.forEach(function (item) {\n        if (item.isActive && item.page === page) {\n          $el.append(item.markup);\n        }\n      });\n\n      if (args.focus) {\n        // Focus on the first focusable element in the first listing\n        let $firstListing = $el.find(args.data.selectors.row).first();\n        // :focusable is possible with helpers/jQueryExtend.js\n        let $firstFocus = $firstListing.find(':focusable').eq(0);\n        $firstFocus.focus();\n      }\n\n      if (args.data.selectors.hasOwnProperty('map') && args.data.selectors.map) {\n        sticky.init($(args.data.selectors.map));\n      }\n    }\n    else {\n      console.warn(\"masterData.selectors must be set for this listing.\");\n      return false;\n    }\n  }\n\n\n  /**\n   * Returns the data structure necessary to render pagination component, reflecting current state.\n   *\n   * @param args\n   *   An object with the following structure:\n   *   {\n   *     data: [instance of filtered, sorted master data],\n   *     targetPage: (optional) the page which should be active\n   *   }\n   *\n   * @returns {*}\n   *   Data structure necessary to render pagination component\n   */\n  function transformPaginationData(args) {\n    let data = args.data;\n    let targetPage = args.targetPage ? args.targetPage : 1; // default to first page if none passed\n    let totalPages = data.totalPages;\n    let pages = [];\n\n    for (let i = 1; i <= totalPages; i++) {\n      pages.push({\n        text: i.toString(),\n        active: i === targetPage\n      });\n    }\n\n    data.pagination.prev = {\n      text: \"Previous\",\n      disabled: targetPage === 1\n    };\n\n    data.pagination.next = {\n      text: \"Next\",\n      disabled: targetPage === totalPages\n    };\n\n    data.pagination.pages = pages;\n    data.pagination.currentPage = targetPage;\n    data.pagination.totalPages = totalPages;\n\n    return data.pagination;\n  }\n\n  /**\n   * Updates the resultsHeading data structure to reflect the current component state.\n   *\n   * @param args\n   *    Arguments object with the following structure:\n   *    args: {\n   *      data: the current instance of master data,\n   *      page: (optional) the current page, defaults to 1\n   *    }\n   *\n   * @returns {resultsHeading|{numResults, totalResults}|*}\n   */\n  function transformResultsHeading(args) {\n    let pageTotal = 0,\n        totalActive = 0,\n        page = args.page ? args.page : 1,\n        data = args.data,\n        resultsHeading = data.resultsHeading; // preserve active resultsHeading.tags\n\n    // Tally the total active and page length.\n    data.items.map(function(item){\n      if (item.isActive) {\n        totalActive += 1;\n        if (item.page === page) {\n          pageTotal += 1;\n        }\n      }\n    });\n\n    // Get the index (from 1) of the first and last items on this page.\n    let firstItem = (Number(data.maxItems) * Number(page)) - (Number(data.maxItems) - 1),\n        lastItem = firstItem + (Number(pageTotal) - 1);\n\n    resultsHeading.totalResults = totalActive;\n    resultsHeading.numResults = firstItem + \" - \" + lastItem; // @todo add accessibility consideration here\n\n    return resultsHeading;\n  }\n\n  /**\n   * Creates an array with generated markup for location listing items, preserving original index.\n   *\n   * @param listing\n   *  The array of items\n   * @param template\n   *  The string name of the template\n   *\n   * @returns {Array}\n   *  An array of compiled markup\n   */\n  function transformListing(listing, template) {\n    // Get template for location listing (organisms > imagePromo)\n    let compiledTemplate = getTemplate(template);\n    let listingMarkup = [];\n    listing.forEach(function (data, index) {\n      let itemData = itemTransform(data);\n      listingMarkup[index] = compiledTemplate(itemData);\n    });\n    return listingMarkup;\n  }\n\n\n  /**\n   * Returns transformed item data object.\n   *\n   * @param item\n   *   The item.item[]{} being transformed.\n   *\n   * @returns {*}\n   *   The original item object with a formatted tag property.\n   */\n  function itemTransform(item) {\n    // Ensure tags are an array.\n    let tags = [];\n\n    $.map(item.tags, function(val, index) {\n      tags[index] = val;\n    });\n\n    item.tags = tags;\n\n    let tagsData = {\n      tagsFormatted: item.tags.map(transformTag)\n    };\n    return Object.assign({}, item, tagsData);\n  }\n\n  /**\n   * Returns a formatted item.tag object with a label and svg icon markup.\n   *\n   * @param tag\n   *   The tag being transformed.\n   *\n   * @returns {{label, svg: boolean}}\n   */\n  function transformTag(tag) {\n    return {\n      label: tag.label,\n      svg: getSvgFromTag(tag.id)\n    };\n  }\n\n  /**\n   * Returns the svg element markup from the corresponding tag filter checkbox label icon\n   *\n   * @param tag\n   *  The imagePromo tag.id whose icon we need\n   *\n   * @return string\n   *  The svg element for the matching filter form tag input.\n   */\n  function getSvgFromTag(tag) {\n    // Get the existing corresponding icon markup so we don't have to worry about outdated markup.\n    // return $('.js-filter-by-tags').find(\"#\" + tag).parent().siblings('svg').prop('outerHTML');\n    // Get outerHtml of svgElement shim for IE\n    // See: https://stackoverflow.com/questions/12592417/outerhtml-of-an-svg-element\n    return getOuterHtml($('.js-filter-by-tags').find(\"#\" + tag).siblings('svg')[0]);\n  }\n\n  /**\n   * Returns true if the passed filters array includes an item with the passed type.\n   *\n   * @param filters\n   *   Array of filters.\n   * @param type\n   *   The type of filter to search for.\n   *\n   * @returns {*|boolean}\n   */\n  function hasFilter(filters, type) {\n    return filters.some(function (filter) {\n      return filter.hasOwnProperty('type') && filter['type'] === type;\n    });\n  }\n\n  /**\n   * Returns the value(s) of the passed filters of the passed type.\n   *\n   * @param filters\n   *   Array of filters from which to abstract values.\n   * @param type\n   *   The type of filter to search for.\n   *\n   * @return array\n   *   An array of filter values of type.\n   */\n  function getFilterValues(filters, type) {\n    return filters.filter(function(data) {\n      return data.type === type;\n    }).map(function(data) {\n      return data.value;\n    })\n  }\n\n  /**\n   * Creates the active filter object based on either cleared or submitted filter data.\n   *\n   * @param args\n   *   An object with the following structure:\n   *   data {\n   *    [masterData current instance]\n   *   },\n   *   filterData: {\n   *     clearedFilter: (optional cleared filter data)\n   *     {\n   *       type: '[filter type]: location || tag',\n   *       text: '[filter text or label]',\n   *       value: '[filter value]'\n   *     }, || 'all' (if clear all button was pressed)\n   *     {\n   *       formData: (optional submitted form filter data)\n   *       [\n   *         {\n   *           type: '[filter type] location || tag',\n   *           text: '[filter label]',\n   *           value: '[filter value]'\n   *         }, ...\n   *       ]\n   *     }\n   *   }\n   *\n   * @returns {*}\n   */\n  function transformActiveTagsData(args) {\n    if (args.filterData.hasOwnProperty('clearedFilter')) {\n      return getActiveFilters(args.data, args.filterData); // This was an active tag interaction, get remaining filters.\n    }\n    else {\n      return args.filterData.formData; // This was a form submission, so just return the applied form data.\n    }\n  }\n\n  /**\n   * Returns an array of the currently active filters, based on passed filterData.\n   *\n   * @param data\n   *   The current instance of master data structure.\n   *\n   * @param filterData\n   *  An object representing the cleared filter:\n   *  {\n   *    clearedFilter: {\n   *       type: '[filter type]: location || tag',\n   *       text: '[filter text or label]',\n   *       value: '[filter value]'\n   *     } || 'all' (if clear all button was pressed)\n   *  }\n   *\n   * @returns {Array}\n   *   An array of the currently active filters:\n   *   [  {\n   *        type:\n   *        text:\n   *        value:\n   *      }, ... ]\n   */\n  function getActiveFilters(data, filterData) {\n    // Single filter button clicked, so remove that filter from the list.\n    if (filterData.clearedFilter !== \"all\") {\n      let filters = data.resultsHeading.tags;\n      // Remove the clicked tag from the tags array.\n      return filters.filter(function (tag) {\n        return tag.value !== filterData.clearedFilter.value;\n      });\n    }\n    else {\n      // Clear all button was clicked so remove all filters.\n      return [];\n    }\n  }\n\n\n  /**\n   * Assigns page values to masterData items, based on the provided max number.\n   *\n   * @param items\n   *   The master data items.\n   *\n   * @param max\n   *   The max number of items to show per page.\n   *\n   * @returns\n   *   The updated master data items.\n   */\n  function paginateItems(items, max) {\n    let page = 1,\n        pageTotal = 0;\n    let paginatedItems = items.map(function(item){\n      if (item.isActive) {\n        if (pageTotal < max){\n          item.page = page;\n        }\n        else {\n          page += 1;\n          pageTotal = 0;\n          item.page = page;\n        }\n        pageTotal += 1;\n      }\n      return item;\n    });\n\n    return {\n      items: paginatedItems,\n      totalPages: page\n    }\n  }\n\n  // Remove the listing content children on the current listing page.\n  function clearListingPage(listing, parent) {\n    $(listing).find(parent).html('');\n  }\n\n  /**\n   * Filters the listing data based on component filter state.\n   *\n   * @param data\n   *  An instance of masterData to start from.\n   * @param filterData\n   *  Data structure representing either the newly applied or cleared filters.\n   * @returns {*}\n   */\n  function filterListingData(data, filterData) {\n    // Get the currently active filters.\n    let filters = transformActiveTagsData({data: data, filterData: filterData});\n    // Update the results heading tags with the new active filters.\n    data.resultsHeading.tags = filters;\n\n    // If tag (checkbox) filter is present, filter based on current tag values.\n    if (hasFilter(filters, 'tag')) {\n      // Get just the tag values from the filters array.\n      let tags = getFilterValues(filters, 'tag');\n      // Identify active data based on filter.\n      return filterDataByTags(tags, data);\n    }\n\n    // If a date filter is present, filter based on the date filter values.\n    if (hasFilter(filters, 'dateRange')) {\n      return filterDataByDateTags(filters, data);\n    }\n\n\n    // Either there are no filters or the only active filter is location, make all items active\n    return makeAllActive(data);\n  }\n\n  /**\n   * Returns an instance of master data which is sorted alphabetically by item data.title.text\n   *\n   * @param data\n   *    The instance of master data being sorted.\n   *\n   * @returns {*}\n   *    Sorted instance of master data.\n   */\n  function sortDataAlphabetically(data) {\n    let items = data.items.sort(function(a, b) {\n      let nameA = a.data.title.text.toUpperCase();\n      let nameB = b.data.title.text.toUpperCase();\n\n      // Sort the items alphabetically\n      return (nameA < nameB) ? -1 : (nameA > nameB) ? 1 : 0;\n    });\n\n    let paginated = paginateItems(items, data.maxItems);\n    data.items = paginated.items;\n    data.totalPages = paginated.totalPages;\n    return data;\n  }\n\n  /**\n   * Geocodes an address string arg and executes callback upon successful return.\n   *\n   * @param address\n   *   Address string to be geocoded.\n   * @param callback\n   *   Callback function to call upon successful geocode return.\n   *\n   * @returns {*}\n   *   Upon success, the return value of the passed callback function.\n   */\n  function geocodeAddressString(address, callback) {\n    // Only attempt to execute if google's geocode library is loaded.\n    if (typeof ma.geocoder === \"undefined\") {\n      return;\n    }\n\n    // Geocode address string, then execute callback with argument upon success.\n    ma.geocoder.geocode({address: address}, function (results, status) {\n      if (status === google.maps.GeocoderStatus.OK) {\n        let place =  results[0];\n        return callback(place);\n      }\n      else {\n        console.warn('Geocode was not successful for the following reason: ' + status);\n      }\n    });\n  }\n\n  /**\n   * Geocodes an address string arg and executes callback upon successful return.\n   *\n   * @param address\n   *   Address string to be geocoded.\n   * @param callback\n   *   Callback function to call upon successful geocode return.\n   *\n   * @returns {*}\n   *   Upon success, the return value of the passed callback function.\n   */\n  function geocodePlaceId(place_id, callback) {\n    // Only attempt to execute if google's geocode library is loaded.\n    if (typeof ma.geocoder === \"undefined\") {\n      return;\n    }\n\n    // Geocode address string, then execute callback with argument upon success.\n    ma.geocoder.geocode({ 'placeId': place_id}, function(results, status) {\n      if (status === google.maps.GeocoderStatus.OK) {\n        let place =  results[0];\n        return callback(place);\n      }\n      else {\n        console.warn('Geocode was not successful for the following reason: ' + status);\n      }\n    });\n  }\n\n  /**\n   * Resets all items in a master data instance to active (i.e. not filtered out).\n   *\n   * @param data\n   *    The instance of master data whose items are being made active.\n   *\n   * @returns {*}\n   *    The master data instance with all active items.\n   */\n  function makeAllActive(data) {\n    data.items = data.items.map(function(item){\n      item.isActive = true;\n      return item;\n    });\n    return data;\n  }\n\n  /**\n   * Returns masterData with necessary filtered items flagged inactive.\n   *\n   * @param tags\n   *  The array of filters by which to filter.\n   *\n   * @param data\n   *   The current instance of master data being filtered.\n   *\n   * @returns {*}\n   *   The 'filtered' (flagged) instance of master data.\n   */\n  function filterDataByTags(tags, data){\n    // @todo use map similar to sortDataAlphabetically\n    data.items = data.items.map(function(item) {\n      item.isActive = doesItemContainTags(item.data.tags, tags);\n      return item;\n    });\n\n    return data;\n  }\n\n  /**\n   * Location Listing Specific\n   */\n\n  /**\n   * Determines if an masterData item contains the necessary tag(s).\n   *\n   * @param haystack\n   *  The data object in question.\n   *\n   * @param needle\n   *   The tag(s) being searched for.\n   *\n   * @returns {boolean|*}\n   */\n  function doesItemContainTags(haystack, needle) {\n    return needle.every(function(v) {\n      return Boolean(haystack.filter(function(item){\n        // return Object.values(item).indexOf(v) !== -1;\n        // return Object.values(item).indexOf(v) !== -1;\n        // Object.values shim for IE11\n        return Object.keys(item).map(function(i) { return item[i]; }).indexOf(v) !== -1;\n      }).length);\n    });\n  }\n\n  /**\n   * Event Listing specific helpers\n   */\n\n  /**\n   * Calculate distance from lat/lng.\n   *\n   * @param lat1\n   *    Latitude 1 input.\n   * @param lon1\n   *    Longitude 1 input.\n   * @param lat2\n   *    Latitude 2 input.\n   * @param lon2\n   *    Longitude 2 input.\n   * @param unit\n   *\n   * @returns {*}\n   *    Return the distance from points.\n   */\n  function calculateDistance(lat1, lon1, lat2, lon2, unit) {\n    let radlat1 = Math.PI * lat1/180;\n    let radlat2 = Math.PI * lat2/180;\n    let radlon1 = Math.PI * lon1/180;\n    let radlon2 = Math.PI * lon2/180;\n    let theta = lon1-lon2;\n    let radtheta = Math.PI * theta/180;\n    let dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n    dist = Math.acos(dist);\n    dist = dist * 180/Math.PI;\n    dist = dist * 60 * 1.1515;\n\n    if (unit === \"K\") {\n      dist = dist * 1.609344\n    }\n    if (unit === \"N\") {\n      dist = dist * 0.8684\n    }\n    return dist\n  }\n\n  /**\n   * Create a moment.js object for a passed eventTeaser date data\n   *\n   * @param args\n   *   Data structure for eventTeaser.date and a type (\"start\" || \"end\") property\n   * @returns\n   *   A moment.js object for the event start/end date in MM/D format.\n   *   See: https://momentjs.com/docs/#/parsing/string-format/\n   */\n  function makeMoment(args) {\n    /**\n     * args: {\n     *   data: {\n     *     summary: \"March 2, 2017 - April 25, 2017\",\n     *     startMonth: \"Mar\",\n     *     startDay: \"2\",\n     *     startTimestamp: \"3/2/2017 - 14:00\",\n     *     endMonth: \"Apr\",\n     *     endDay: \"25\",\n     *     endTimestamp: \"4/25/2017 - 15:00\"\n     *   },\n     *   type: 'start' || 'end'\n     * }\n     */\n    // Create moment.js object for start timestamp\n    if (args.hasOwnProperty('type') && args.type === 'start') {\n      return moment(args.data.startTimestamp, 'M/DD/YYYY')\n    }\n    // Create a moment.js object for end timestamp\n    if (args.hasOwnProperty('type') && args.type === 'end') {\n      return args.data.endTimestamp ? moment(args.data.endTimestamp, 'M/DD/YYYY') : \"\";\n    }\n    return false;\n  }\n\n  /**\n   * Returns an instance of master data which is sorted by start timestamp then alphabetically by item data.title.text\n   *\n   * @param data\n   *    The instance of master data being sorted.\n   * @param dateType\n   *    The type of date by which to sort: start || end\n   *\n   * @returns {*}\n   *    Sorted instance of master data.\n   */\n  function sortDataByDate(data, dateType) {\n    let type = dateType ? dateType : 'start';\n    let dateA = '';\n    let dateB = '';\n    let items = data.items.sort(function(a, b) {\n      if (type !== \"end\") {\n        dateA = a.start;\n        dateB = b.start;\n      }\n      else {\n        dateA = a.end;\n        dateB = b.end;\n      }\n\n      let nameA = a.data.title.text.toUpperCase();\n      let nameB = b.data.title.text.toUpperCase();\n\n      // Sort the items by start date timestamp, then alphabetically.\n      // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\n      return (dateA.isBefore(dateB, 'minute')) ? -1 : (dateA.isAfter(dateB, 'minute')) ? 1 : (nameA < nameB) ? -1 : (nameA > nameB) ? 1 : 0;\n    });\n\n    let paginated = paginateItems(items, data.maxItems);\n    data.items = paginated.items;\n    data.totalPages = paginated.totalPages;\n    return data;\n  }\n\n  /**\n   * Returns data with necessary items flagged inactive according to date/date range.\n   *\n   * @param tags\n   *  The array of filters by which to filter.\n   *\n   * @param data\n   *   The current instance of master data being filtered.\n   *\n   * @returns {*}\n   *   The 'filtered' instance of data after checking date(s).\n   */\n  function filterDataByDateTags(tags, data) {\n    data.items = data.items.map(function(item) {\n      item.isActive = isEventInDateRange(item, tags);\n      return item;\n    });\n    let paginated = paginateItems(data.items, data.maxItems);\n    data.items = paginated.items;\n    data.totalPages = paginated.totalPages;\n    return data;\n  }\n\n  /**\n   * Returns an item's isActive value depending on the date range from date filters.\n   *\n   * @param item\n   *   The item.item[]{} being transformed.\n   *\n   * @param tags\n   *  The array of filters by which to filter.\n   *\n   * @returns\n   *   The updated item.\n   */\n  function isEventInDateRange(item, tags) {\n    let filterStart = '';\n    let filterEnd = '';\n\n    tags.map(function(tag) {\n      if (tag.type == 'dateRange') { filterStart = moment(tag.start, 'M/DD/YYYY'); }\n      if (tag.type == 'dateRange') { filterEnd = moment(tag.end, 'M/DD/YYYY'); }\n    });\n\n    if (filterEnd && filterStart) {\n      return item.start.isSameOrAfter(filterStart, 'day') && item.start.isSameOrBefore(filterEnd, 'day') ? true : false;\n    }\n    else {\n      return item.start.isSame(filterStart, 'day') ? true : false;\n    }\n  }\n\n  return {\n    renderListingPage,\n    transformPaginationData,\n    transformResultsHeading,\n    filterListingData,\n    hasFilter,\n    getFilterValues,\n    filterDataByTags,\n    filterDataByDateTags,\n    transformActiveTagsData,\n    paginateItems,\n    clearListingPage,\n    sortDataAlphabetically,\n    sortDataByDate,\n    geocodeAddressString,\n    geocodePlaceId,\n    makeAllActive,\n    calculateDistance,\n    transformListing,\n    makeMoment\n  };\n\n})(window, document, undefined, jQuery, moment);\n","import checkActive from \"../helpers/cssControlCode.js\";\r\n\r\nexport default (function (window,document,$,undefined) {\r\n  let $el,\r\n    $elParent,\r\n    elHeight,\r\n    elWidth,\r\n    lowerLimit,\r\n    upperLimit,\r\n    debounceTimer,\r\n    runCode = false;\r\n\r\n  function init(element) {\r\n    $el = element;\r\n    $elParent = $el.parent().css('position') === 'relative' ? $el.parent() : $el.parent().offsetParent();\r\n\r\n    // default assumption as to where the screen will load\r\n    $el.attr('data-sticky','top');\r\n\r\n    updateData();\r\n\r\n    // update variables one more time to catch any post page load changes\r\n    window.setTimeout(function(){\r\n      updateData();\r\n    },1000);\r\n    \r\n    $(window).resize(function() {\r\n      updateData();\r\n      setPosition();\r\n    });\r\n\r\n    // toggle the sticky positioning\r\n    $(window).scroll(function () {\r\n      setPosition();\r\n    });\r\n  }\r\n\r\n  function updateData(){\r\n    let newRunCode = checkActive($el);\r\n\r\n    if(runCode && !newRunCode) {\r\n      $el.removeAttr('style');\r\n    }\r\n\r\n    runCode = newRunCode;\r\n\r\n    if(!runCode){\r\n      return;\r\n    }\r\n    \r\n    runCode = newRunCode;\r\n    elHeight = $el.height();\r\n    elWidth = $elParent.width();\r\n    upperLimit = $elParent.offset().top;\r\n    lowerLimit = upperLimit + $elParent.outerHeight(true) - $el.height();\r\n\r\n    $el.width(elWidth);      \r\n  }\r\n\r\n  function setPosition() {\r\n    if(!runCode){\r\n      $el.attr('data-sticky','top');\r\n      return false;\r\n    }\r\n\r\n    let windowTop = $(window).scrollTop(),\r\n        attr = $el.attr('data-sticky'),\r\n        top = attr !== 'top' && windowTop <= upperLimit, \r\n        middle = attr !== 'middle' && windowTop < lowerLimit && windowTop > upperLimit,\r\n        bottom = attr !== 'bottom' && windowTop >= lowerLimit;\r\n    \r\n    if(top) {\r\n      $el.attr('data-sticky','top');\r\n    } \r\n    else if (middle) {\r\n      $el.attr('data-sticky','middle');\r\n    } \r\n    else if (bottom) {\r\n      $el.attr('data-sticky','bottom');\r\n    }\r\n  }\r\n\r\n  return {init};\r\n\r\n})(window,document,jQuery);","/**\n * @file\n * Truncate body text elements to four lines if they are six lines long or more at page load, and provide skip links for unsighted users.\n */\n\n/**\n * Calculate and store elements and dimensions for later truncation.\n */\nvar calculateTruncation = (function($, $el) {\n  // Force reflow to correctly calculate height\n  $el.get(0).getBoundingClientRect();\n\n  // Find a paragraph whose line-height to gauge.\n  var $p = $el.find('p');\n  // If there are no paragraphs, gauge by the element itself.\n  $p = $p.length ? $p : $el;\n\n  // Calculate how tall the element should be when truncated.\n  const style = window.getComputedStyle($p.get(0));\n  const lineHeight = parseInt(style.lineHeight);\n  const paddingTop = parseInt(style.paddingTop);\n\n  // lineLimit represents the line count that *triggers* truncation, NOT\n  // the height *after* truncation.\n  const lineLimit = window.matchMedia('(max-width: 910px)').matches ? 7 : 9;\n\n  $el.data({\n    thresholdHeight: (lineHeight * lineLimit) + paddingTop,\n    truncatedHeight: (lineHeight * (lineLimit - 3)) + paddingTop,\n    intrinsicHeight: $el.children('div').height()\n  });\n\n  // Create new elements and gather focusable ones for later tabindex-ing.\n  if(!$el.data('truncationPreviouslyCalculated')) {\n    $el.data({\n      $button: $('<button class=\"ma-truncated-body-text__button\" aria-label=\"Show the overview.\">Show more</button>'),\n      $fadeOverlay: $('<div class=\"ma-truncated-body-text__fade-overlay\"></div>'),\n      $focusableEls: $el.find('[href], button, input:not([type=\"hidden\"]), textarea, select, [tabindex]:not([tabindex^=\"-\"])'),\n      truncationPreviouslyCalculated: true\n    });\n\n    $el.data('$button').data({\n      toggleText: 'Show less',\n      toggleLabel: 'Hide the overview.'\n    });\n  }\n}).bind(undefined, jQuery);\n\nvar removeTruncation = function($el) {\n    $el.removeClass('ma-truncated-body-text expanded');\n    $el.children('div').removeClass('ma-truncated-body-text__contents').css('height', 'auto');\n\n    if($el.data('truncationPreviouslyCalculated')) {\n      $el.data('$button').detach();\n      $el.data('$button').data({\n        toggleText: 'Show less',\n        toggleLabel: 'Hide the overview.'\n      });\n      $el.data('$button').text('Show more');\n      $el.data('$button').attr('aria-label', 'Show the overview.');\n      $el.data('$fadeOverlay').detach();\n      toggleTabindexes($el.data('$focusableEls'), true);\n    }\n\n    $el.data('$button').off('.truncateBodyText');\n};\n\n/**\n * Make elements focusable or not focusable based on expansion/collapse\n * of content area.\n */\nvar toggleTabindexes = function($focusableEls, expanded) {\n  if(expanded) {\n    $focusableEls.each(function(i, el) {\n      var $el = $(el);\n\n      // Restore tabindex to elements that had one;\n      // remove it alogether from ones that didn't.\n      if($el.data('originalTabIndex')) {\n        $el.attr('tabindex', $el.data('originalTabIndex'));\n      } else {\n        $el.removeAttr('tabindex');\n      }\n    });\n  } else {\n    $focusableEls.each(function(i, el) {\n      var $el = $(el);\n\n      // Save the old tabindex for later restoration.\n      if($el.attr('tabindex')) {\n        $el.data('originalTabIndex', $el.attr('tabindex'));\n      }\n      \n      $el.attr('tabindex', '-1');\n    });\n  }  \n};\n\n/**\n * Turn on truncation (if height requires it) based on previous calculations.\n */\nvar enableTruncation = function($el) {\n  calculateTruncation($el);\n\n  // Abort if truncation is unnecessary.\n  if($el.data('intrinsicHeight') < $el.data('thresholdHeight')) {\n    return;\n  }\n\n  // Restore BEM classes.  \n  $el.addClass('ma-truncated-body-text');\n  $el.children('div').addClass('ma-truncated-body-text__contents');\n\n  const $button = $el.data('$button');\n\n  // This is just the one .ma-truncated-body-text__contents div.\n  const $contents = $el.children('div');\n\n  // Add the button at the gradient.\n  $el.prepend($button);\n  $contents.append($el.data('$fadeOverlay'));\n\n\n  // Remove tabindex attributes from contents to prevent tabbing\n  // to hidden elements.\n  toggleTabindexes($el.data('$focusableEls'));\n \n  // The actual truncation happens here.\n  $contents.css('height', $el.data('truncatedHeight') + 'px');\n\n  $button.on('click.truncateBodyText', function() {\n    $el.toggleClass('expanded');\n\n    // Toggle height between truncated and expanded.\n    $contents.css('height', $el.data($el.hasClass('expanded') ? 'intrinsicHeight' :'truncatedHeight'));\n\n    // Change button text to the opposite option.\n    var oldText = $button.text().trim();\n    $button.text($button.data('toggleText'));\n    $button.data('toggleText', oldText);\n\n    var oldLabel = $button.attr('aria-label');\n    $button.attr('aria-label', $button.data('toggleLabel'));\n    $button.data('toggleLabel', oldLabel);\n\n    // Reset or unset focusable state of links/buttons.\n    toggleTabindexes($el.data('$focusableEls'), $el.hasClass('expanded'));\n\n    // After expansion, focus the first link or button in the content.\n    if($el.hasClass('expanded')) {\n      $contents.one('transitionend', function() {\n        $el.data('$focusableEls').eq(0).trigger('focus');\n        $contents.get(0).scrollTop = 0;\n      });\n    }\n  });\n};\n\n/**\n * Initialize truncation at page load.\n */\nvar initTruncation = function($el) {\n  $el.wrapInner('<div></div>');\n\n  enableTruncation($el);\n};\n\nexport default (function (window,document,$,$el) {\n  initTruncation($el);\n\n  var resizeTimeout = false;\n  var truncateResize = (function($el) {\n    removeTruncation($el);\n    enableTruncation($el);\n  }).bind(undefined, $el);\n\n  $(window).on('resize', function() {\n    window.clearTimeout(resizeTimeout);\n    resizeTimeout = window.setTimeout(truncateResize, 500);\n  });\n\n}).bind(undefined,window,document,jQuery);\n","\nexport default (function(Twig, ma) {\n    'use strict';\n\n    /**\n     * Returns the gettable path to a pattern based on its namespaced path.\n     *\n     * @param pattern\n     *   The namespaced path to a pattern (i.e. @atoms/decorative-link.twig)\n     *\n     * @returns {string}\n     *   The path to a pattern which can be used in a get request (i.e. /assets/patterns/atoms/decorative-link.twig )\n     */\n    function resolveTwigPath(patternName) {\n        let pathParts = patternName.split(\"/\");\n        let namespace = pathParts.shift();\n        let patternPath = pathParts.join(\"/\");\n        // Set ma.patternPaths in your implementation's env.js file (see /source/_meta/_00-foot.twig)\n        return ma.patternPaths[namespace] + patternPath;\n    }\n\n    /**\n     * Returns the gettable path to an icon based on its name.\n     *\n     * @param name\n     *   The name of an icon (i.e. arrow)\n     *\n     * @returns {string}\n     *   The path to an icon SVG file which can be used in a get request (i.e. /images/svg-icons/arrow.svg )\n     */\n    function getIconPath(name) {\n        return ma.iconPath + '/' + name + '.svg';\n    };\n\n    /**\n     * Extend Twig with an icon function that embeds an SVG directly.\n     */\n    Twig.extendFunction('icon', function(name) {\n        // Just use Twig to fetch the SVG and render it like a template.\n        var svg = Twig.twig({\n            href: getIconPath(name),\n            async: false,\n        });\n        // Don't choke here if we aren't able to load the SVG.\n        return svg ? svg.render() : '';\n    });\n\n    /**\n     * Asynchronously loads a Twig template based on the internal name.\n     *\n     * @param patternName\n     *   The namespaced path to a pattern (i.e. @atoms/decorative-link.twig)\n     *\n     * @return {Promise<Twig.Template>}\n     *   The loaded and compiled Twig template.\n     */\n    return function twiggy(patternName) {\n        return new Promise(function(resolve, reject) {\n            Twig.twig({\n                href: resolveTwigPath(patternName),\n                allowInlineIncludes: true,\n                namespaces: {\n                    'base': ma.patternPaths['@base'],\n                    'atoms': ma.patternPaths['@atoms'],\n                    'molecules': ma.patternPaths['@molecules'],\n                    'organisms': ma.patternPaths['@organisms'],\n                    'templates': ma.patternPaths['@templates'],\n                    'pages': ma.patternPaths['@pages'],\n                    'meta': ma.patternPaths['@meta']\n                },\n                async: true, // Included/extended patterns loaded synchronously: https://github.com/twigjs/twig.js/issues/426\n                load: resolve\n            })\n        })\n    };\n\n}(Twig, ma))","import \"./helpers/jQueryExtend.js\";\nimport \"./helpers/jQueryExtend_ajaxPattern.js\";\nimport ajaxPattern from \"./modules/ajaxPattern.js\";\nimport ajaxPatternOverride from \"./modules/ajaxPatternOverride.js\";\nimport accordions from \"./modules/accordions.js\";\nimport activateBodyTextTruncation from \"./modules/activateBodyTextTruncation.js\";\nimport googleMap from \"./modules/googleMap.js\";\nimport back2top from \"./modules/back2top.js\";\nimport clickable from \"./modules/clickable.js\";\nimport contactAccordion from \"./modules/contactAccordion.js\";\nimport dropdown from \"./modules/dropdown.js\";\nimport emergencyAlerts from \"./modules/emergencyAlerts.js\";\nimport eventFilters from \"./modules/eventFilters\";\nimport eventListingInteractive from \"./modules/eventListingInteractive\";\nimport expandClickableArea from \"./modules/expandClickableArea\";\nimport feedbackForm from \"./modules/feedbackForm.js\";\nimport footnote from \"./modules/footnote.js\";\nimport formValidation from \"./modules/formValidation.js\";\nimport headerTags from \"./modules/headerTags.js\";\nimport hideAlert from \"./modules/hideAlert.js\";\nimport inlineOverlay from \"./modules/inlineOverlay.js\";\nimport imageFill from \"./modules/imageFill.js\";\nimport inpageAlert from \"./modules/inpageAlert.js\";\nimport keywordSearch from \"./modules/keywordSearch.js\";\nimport linkListToggle from \"./modules/linkListToggle.js\";\nimport locationListing from \"./modules/locationListing.js\";\nimport locationFilters from \"./modules/locationFilters.js\";\nimport mainNav from \"./modules/mainNav.js\";\nimport mainNavHamburger from \"./modules/mainNavHamburger.js\";\nimport mainNavMIxed from \"./modules/mainNavMixed.js\";\nimport mobileNav from \"./modules/mobileNav.js\";\nimport orgSelector from \"./modules/orgSelector.js\";\nimport organizationNavigation from \"./modules/organizationNavigation.js\";\nimport pagination from \"./modules/pagination.js\";\nimport pikaday from \"./modules/pikaday.js\";\nimport preventHorizontalListWidows from \"./modules/preventHorizontalListWidows.js\";\n// `richText` and `stickTOC` are needed above offsets.\nimport stickyTOC from \"./modules/stickyTOC.js\";\nimport relatedOrgsAndTopics from \"./modules/relatedOrgsAndTopics.js\";\nimport responsiveTable from \"./modules/responsiveTable.js\";\nimport responsiveVideo from \"./modules/responsiveVideo.js\";\nimport resultsHeading from \"./modules/resultsHeading.js\";\nimport scrollAnchors from \"./modules/scrollAnchors.js\";\nimport teaserListingGroup from \"./modules/teaserListingGroup\";\nimport truncateTitle from \"./modules/truncateTitle.js\";\nimport formInputs from \"./modules/formInputs.js\";\nimport utilNav from \"./modules/utilNav.js\";\n","import checkActive from \"../helpers/cssControlCode.js\";\r\n\r\nexport default (function (window,document,$,undefined) {\r\n\r\n  $('.js-accordion').each(function(index){\r\n    init.apply(this, [index]);\r\n  });\r\n\r\n  $(document).on('ma:AjaxPattern:Render', function(e,data){\r\n    let $context = data.el;\r\n    if ($context.find('.js-accordion').length) {\r\n      $context.find('.js-accordion').each(function(index){\r\n        // Try to ensure we don't collide with the index values from DOM load.\r\n        let offset = 100;\r\n        let offsetIndex = offset + index;\r\n        init.apply(this, [offsetIndex]);\r\n      })\r\n    }\r\n  });\r\n\r\n  function init(index) {\r\n    let $el = $(this),\r\n        $link = $el.find('.js-accordion-link'),\r\n        $content = $el.find('.js-accordion-content'),\r\n        $status = $el.find('.js-accordion-status'),\r\n        id = $content.attr('id') || 'accordion' + (index + 1),\r\n        active = checkActive($el),\r\n        open = $el.hasClass('is-open');\r\n\r\n    $content.attr('id', id);\r\n    $link.attr('aria-expanded',open).attr('aria-controls', id);\r\n\r\n    if(open) {\r\n      // setup the inline display block\r\n      $content.stop(true,true).slideDown();\r\n    }\r\n\r\n    $link.on('click',function(e){\r\n      if(active) {\r\n        e.preventDefault();\r\n        open = $el.hasClass('is-open');\r\n        if(open){\r\n          $content.stop(true,true).slideUp();\r\n          $status.attr('aria-label', 'click to show info');\r\n        } else {\r\n          $content.stop(true,true).slideDown();\r\n          $status.attr('aria-label', 'click to hide info');\r\n        }\r\n        $link.attr('aria-expanded',!open);\r\n        $el.toggleClass('is-open');\r\n      }\r\n    });\r\n\r\n    $(window).resize(function () {\r\n      let temp = checkActive($el);\r\n\r\n      if(temp !== active && !temp) {\r\n        $content.removeAttr('style');\r\n        $el.removeClass('is-open');\r\n        $link.attr('aria-expanded','false');\r\n      }\r\n\r\n      active = temp;\r\n    }).resize();\r\n  }\r\n\r\n})(window,document,jQuery);\r\n","import truncateBodyText from \"../helpers/truncateBodyText\";\n\n/**\n * @file\n * Initiate truncateBodyText wherever it is needed.\n */\n\nexport default (function (window,document,$) {\n  $('.ma__services-flexible-link-groups .page-content--intro .ma__rich-text').each(function(i, el) {\n    truncateBodyText($(el));\n  });\n})(window,document,jQuery);\n  ","/**\n * @file\n * Ajax Alert js has to execute prior to its dependent accordion and emergency alert js modules.\n */\n\nexport default (function (window,document,$,undefined) {\n\n  $('.js-ajax-pattern').each(function(){\n    // Get the endpoint which is passed in as ajaxAlerts.endpoint to organism data attribute.\n    let endpoint = $(this).data('ma-ajax-endpoint');\n    if (!endpoint) {\n      console.error(\"MA::AjaxPattern::This pattern requires an endpoint to be passed in as an argument.\");\n      return false;\n    }\n\n    let renderPattern = $(this).data('ma-ajax-render-pattern');\n    if (!renderPattern) {\n      console.error(\"MA::AjaxPattern::This pattern requires a child pattern to be passed as an argument.\");\n      return false;\n    }\n    try {\n      $(this).MassAjaxPattern({\"endpoint\": endpoint, \"renderPattern\": renderPattern});\n    }\n    catch (e) {\n      console.error(e);\n    }\n  });\n\n})(window,document,jQuery);\n","/**\n * @file\n * This demonstrates how to pass a transform function to MassAjaxPattern.\n */\n\nexport default (function (window,document,$,undefined) {\n\n  // Note that this selector is passed into the template so that this is run instead of the\n  // default 'js-ajax-pattern'.  See the ajaxPattern.customSelector in guide.json page object.\n  // In an implementation of this you would want to create your own selector and avoid\n  // js-ajax-pattern and js-ajax-pattern-override since Mayflower will attach to these.\n  $('.js-ajax-pattern-override').each(function(){\n    // Get the endpoint which is passed in as ajaxAlerts.endpoint to organism data attribute.\n    let endpoint = $(this).data('ma-ajax-endpoint');\n    if (!endpoint) {\n      console.error(\"MA::AjaxPattern::This pattern requires an endpoint to be passed in as an argument.\");\n      return false;\n    }\n\n    let renderPattern = $(this).data('ma-ajax-render-pattern');\n    if (!renderPattern) {\n      console.error(\"MA::AjaxPattern::This pattern requires a child pattern to be passed as an argument.\");\n      return false;\n    }\n    try {\n      $(this).MassAjaxPattern({\n        \"endpoint\": endpoint,\n        \"renderPattern\": renderPattern,\n        \"transform\": function(ajaxData) {\n          // Example of some custom data transformation being done to the data according to implementation needs.  This will often include restructuring of data.\n          // If business logic indicates that the pattern should not render (for example, if the endpoint returns no emergency alert data) then this function should return an empty js object {}.\n          var data = ajaxData;\n          data.emergencyAlerts.alerts = data.emergencyAlerts.these.are.alerts;\n          return data;\n        }\n      });\n    }\n    catch (e) {\n      console.error(e);\n    }\n  });\n\n})(window,document,jQuery);\n","export default (function (window,document,$,undefined) {\r\n  let $footer = $('.js-footer'),\r\n      visibleThreshold = 250,\r\n      staticThreshold = 50;\r\n\r\n  $(\".js-back2top\").each(function() {\r\n    let $el = $(this);\r\n\r\n    $el.on('click',function(e) {\r\n      e.preventDefault();\r\n      try {\r\n        $(\"html, body\").stop(true,true).animate({scrollTop:0}, '750');\r\n      } \r\n      catch(e) {\r\n        $('body').scrollTop(0);\r\n      }\r\n      // Bring keyboard focus back to top as well.\r\n      $(\"#main-content\").focus();\r\n      return false;\r\n    });\r\n\r\n    $(window).on('scroll', function() {\r\n      // if we've exceeded the threshold of scrolling\r\n      // from the top, show control\r\n      let scrollTop = $(window).scrollTop();\r\n\r\n      if (scrollTop > visibleThreshold) {\r\n          $el.removeClass('is-hidden');\r\n      } else {\r\n          $el.addClass('is-hidden');\r\n      }\r\n    });\r\n  });\r\n\r\n})(window,document,jQuery);","export default (function (window,document,$,undefined) {\r\n  $('.js-clickable').each(function(){\r\n    // if the this is clicked\r\n    $(this).click(function(event){\r\n      event.preventDefault();\r\n      var $el = $(this).find('.js-clickable-link').first();\r\n\r\n      // find the destination\r\n      var dest = $el.attr(\"href\");\r\n      // if the target attribute exists\r\n      if(\"_blank\" === $el.attr(\"target\")) {\r\n        // launch new tab/window\r\n        window.open(dest);\r\n      } else {\r\n        // otherwise redirect to a new page\r\n        window.location = dest;\r\n      }\r\n    });\r\n  });\r\n})(window,document,jQuery);","export default (function (window, document, $, undefined) {\n\n  $('.ma__contact-row__columns').each(function () {\n\n    let $columns = $(this);\n    let $sets = $columns.find('.ma__contact-set');\n    let $button = $columns.siblings('.ma__contact-row__expand');\n\n    if ($sets.length > 2) {\n      $columns.addClass('has-many');\n      $button.addClass('toggle-sets');\n    }\n\n    $button.on('click', function () {\n      $columns.toggleClass('is-open');\n      $button.toggleClass('is-open');\n    });\n\n  });\n\n})(window, document, jQuery);\n","// ****** basic custom select that uses mobile select keyboard ******\r\nlet dropdownMenu = document.querySelectorAll(\".js-dropdown\");\r\n\r\nif(null !== dropdownMenu){\r\n\r\n  let length = dropdownMenu.length;\r\n\r\n  for (let i = 0; i < length; i++ ) {\r\n    let parentEl = dropdownMenu[i],\r\n        selectEl = parentEl.querySelector(\".js-dropdown-select\"),\r\n        link = parentEl.querySelector(\".js-dropdown-link\")\r\n\r\n    if(null === selectEl || null === link) {\r\n      break;\r\n    }\r\n\r\n    selectEl.onchange = function() {\r\n      let elem = (typeof this.selectedIndex === \"undefined\" ? window.event.srcElement : this);\r\n      link.innerText = elem.text || elem.options[elem.selectedIndex].text;\r\n    }\r\n  }\r\n}\r\n","import cookie   from \"../helpers/cookies.js\";\r\n\r\nexport default (function (window,document,$,undefined) {\r\n  // Emergency Alerts start close on page load\r\n  // the default behavior is to expand the alerts\r\n  // Emergency Alerts should stay closed if the cookie is set to false\r\n\r\n  /* ********* NOTE:\r\n    This component is dependent on the\r\n    accordion.js component runing before it.\r\n  ********* */\r\n\r\n  $('.js-emergency-alerts').each(function(){\r\n      init.apply(this);\r\n  });\r\n\r\n  $(document).on('ma:AjaxPattern:Render', function(e,data){\r\n    let $context = data.el;\r\n    if ($context.find('.js-emergency-alerts').length) {\r\n      $context.find('.js-emergency-alerts').each(function(){\r\n        init.apply(this);\r\n      })\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Initialize the emergency alert.\r\n   */\r\n  function init() {\r\n    let open = true,\r\n        id = $(this).data('id'),\r\n        cookieName = 'emergency-alerts' + id,\r\n        cookieValue = cookie.getCookie(cookieName),\r\n        $button = $(this).find('.js-accordion-link');\r\n\r\n    $button.on('click', function() {\r\n      // clicking this link also triggers the accordion click\r\n      // toggle the current state\r\n      open = !open;\r\n      // update open/close state cookie\r\n      // leave off third argument to make it expire on session\r\n      cookie.setCookie(cookieName,open);\r\n    });\r\n\r\n    // if the user has closed the alerts on a previous page\r\n    if(typeof(cookieValue) !== 'undefined' && cookieValue === 'false') {\r\n      open = false;\r\n      // set the state of aria-expanded\r\n      $button.attr('aria-expanded', open);\r\n    }\r\n\r\n    // Emergency Alerts loads closed so expand it.\r\n    if(open) {\r\n      open = false; // clicking the link swaps the value\r\n      $button.first().trigger('click');\r\n    }\r\n  }\r\n})(window,document,jQuery);\r\n","export default (function (window,document,$,undefined) {\n  $('.js-event-filters').each(function(){\n    let $el = $(this);\n\n    // When google map libraries are loaded, initialize places.autocomplete on the location input, if it exists.\n    $(document).on('ma:LibrariesLoaded:GoogleMaps', function() {\n      let $locationFilterParent = $('.js-event-filter-by-location', $el);\n      let $locationFilter = $locationFilterParent.find('input');\n      if ($locationFilter.length) {\n        // Create the google places autocomplete object and associate it with the zip code text input.\n        let locationInput = document.getElementById($locationFilter.attr('id'));\n        let swLat = $locationFilterParent.data('maPlaceBoundsSwLat');\n        let swLng = $locationFilterParent.data('maPlaceBoundsSwLng');\n        let neLat = $locationFilterParent.data('maPlaceBoundsNeLat');\n        let neLng = $locationFilterParent.data('maPlaceBoundsNeLng');\n\n        let defaultBounds = new google.maps.LatLngBounds(new google.maps.LatLng(swLat,swLng), new google.maps.LatLng(neLat,neLng));\n\n        // See options: https://developers.google.com/maps/documentation/javascript/places-autocomplete#add_autocomplete\n        let options = {\n          bounds: defaultBounds,\n          strictBounds: true,\n          types: ['geocode'],\n          componentRestrictions: {country: 'us'},\n          fields: ['place_id']\n        };\n        ma.autocomplete = new google.maps.places.Autocomplete(locationInput, options);\n      }\n    });\n\n    // Listen for new data from another component interaction (i.e. results heading), update form.\n    $el.on('ma:FormFilter:DataUpdated', function(e, data){\n      renderForm({clearedFilter: data.clearedFilter, $form: $el});\n    });\n\n    // Handle global form submission.\n    $el.submit(function(e){\n      e.preventDefault();\n      // Update master data with the various filter values.\n      let formData = getFormData({$form: $(this)});\n\n      // Trigger location listing filter event with current filter values.\n      $el.trigger('ma:EventFilter:FormSubmitted', [{formData: formData}]);\n    });\n\n  });\n\n  function renderForm(args) {\n    let clearedFilter = args.clearedFilter;\n    // The clear all button was pressed.\n    if (clearedFilter === \"all\") {\n      clearForm(args);\n    }\n    // Single filter button was pressed.\n    else {\n      clearDeactivatedFilter(args);\n    }\n  }\n\n  function getFormData(args) {\n    let $form = $(args.$form),\n      $location = $form.find('.js-event-filter-by-location'),\n      $tags = $form.find('.js-filter-by-tags'),\n      $dateStart = $form.find('.js-filter-by-date-range__start'),\n      $dateEnd = $form.find('.js-filter-by-date-range__end'),\n      formData = [];\n\n    // Get location\n    if ($location.find('input').length) {\n      let place = $location.find('input').val();\n      if (place) {\n        formData.push({\n          type: 'location',\n          text: place,\n          value: place\n        });\n      }\n    }\n\n    let dateRange = '',\n        startDate = '',\n        endDate = '',\n        useToday = false;\n\n    // Get start date.\n    if ($dateStart.find('input').length) {\n      startDate = $dateStart.find('input').val();\n      if (startDate) {\n        dateRange += startDate;\n      }\n      else {\n        startDate = moment().format('M/DD/YYYY');\n        useToday = true;\n      }\n    }\n\n    // Get end date.\n    if ($dateEnd.find('input').length) {\n      endDate = $dateEnd.find('input').val();\n      if (endDate) {\n        if (startDate && !useToday) {\n          dateRange += ' - ' + endDate;\n        }\n        else {\n          dateRange = 'Today - ' + endDate;\n        }\n      }\n    }\n\n    if (dateRange) {\n      formData.push({\n        type: 'dateRange',\n        text: dateRange,\n        value: dateRange,\n        start: startDate,\n        end: endDate,\n      });\n    }\n\n    // Get checkboxes/tags.\n    $tags.find('input:checked').each(function() {\n      formData.push({\n        'type': 'tag',\n        'text': $(this).next(\"label\").text(),\n        'value': $(this).val()\n\n      });\n    });\n\n    return formData;\n  }\n\n  function clearDeactivatedFilter(args) {\n    let $form = $(args.$form),\n      $place = $form.find('.js-event-filter-by-location'),\n      $dateStart = $form.find('.js-filter-by-date-range__start'),\n      $dateEnd = $form.find('.js-filter-by-date-range__end'),\n      $tags = $form.find('.js-filter-by-tags'),\n      clearedFilter = args.clearedFilter;\n\n    // If the cleared filter button was for a location filter.\n    if (clearedFilter.type === 'location') {\n      $place.find('input').val(\"\");\n      return;\n    }\n    // Clear dates text inputs.\n    if (clearedFilter.type === 'dateRange') {\n      $dateStart.find('input').val(\"\");\n      $dateEnd.find('input').val(\"\");\n      return;\n    }\n    // If the cleared filter button was for a tag filter.\n    if (clearedFilter.type === 'tag') {\n      $tags.find('input[type=checkbox][value=' + clearedFilter.value + ']').prop('checked', false);\n    }\n  }\n\n  function clearForm(args) {\n    let $form = $(args.$form),\n      $place = $('.js-event-filter-by-location', $form).find('input'),\n      $dateStart = $('.js-filter-by-date-range__start', $form).find('input'),\n      $dateEnd = $('.js-filter-by-date-range__end', $form).find('input');\n\n    // Clear location text input.\n    if ($place.length) {\n      $place.val(\"\");\n    }\n\n    // Clear start date text input.\n    if ($dateStart.length) {\n      $dateStart.val(\"\");\n    }\n\n    // Clear end date text input.\n    if ($dateEnd.length) {\n      $dateEnd.val(\"\");\n    }\n\n    // Check for tags and uncheck all checked tags inputs.\n    if (typeof $tags != \"undefined\") {\n      $tags.find('input:checked').prop('checked', false);\n    }\n  }\n\n})(window,document,jQuery);\n","import listings from \"../helpers/listing.js\";\n\nexport default (function (window,document,$,undefined) {\n  let container = '.js-event-listing-interactive',\n      parent = '.js-event-listing-items',\n      row = '.js-event-listing-item';\n\n  $('.js-event-listing-interactive').each(function(i) {\n    let $el = $(this),\n        $resultsHeading = $el.find('.js-results-heading'),\n        $pagination = $el.find('.js-pagination'),\n        $eventFilter = $el.find('.js-event-filters');\n\n    // Get the location listing component data (this could be replaced with an api)\n    const rawData = ma.eventListingInteractive[i]; // Data object created in @organisms/by-author/event-listing-interactive.twig\n\n    let masterData = []; // master data structure to preserve state\n\n    masterData = populateMasterDataSource(rawData); // to preserve state\n\n    // Handle location listings form interaction (triggered by locationFilters.js).\n    $eventFilter.on('ma:EventFilter:FormSubmitted', function (e, formValues) {\n      // transformData() returns a jQuery deferred object which allows us to wait for any asynchronous js execution to return before executing the .done(callback).\n      // @see: https://api.jquery.com/deferred.done/\n      transformData(masterData, formValues).done(function (transformation) {\n        masterData = transformation.data; // preserve state\n        // Update the results heading based on the current items state.\n        transformation.data.resultsHeading = listings.transformResultsHeading({data: transformation.data});\n        // Update pagination data structure, reset to first page\n        transformation.data.pagination = listings.transformPaginationData({data: transformation.data});\n        // Render the listing page.\n        listings.renderListingPage({data: transformation.data});\n        // Trigger child components render with updated data\n        updateChildComponents(transformation);\n      });\n    });\n\n\n    // Handle active filter/tag button interactions (triggered by resultsHeading.js).\n    $resultsHeading.on('ma:ResultsHeading:ActiveTagClicked', function (e, clearedFilter) {\n      // transformData() returns a jQuery deferred object which allows us to wait for any asynchronous js execution to return before executing the .done(callback).\n      // @see: https://api.jquery.com/deferred.done/\n      transformData(masterData, clearedFilter).done(function (transformation) {\n        masterData = transformation.data; // preserve state\n        transformation.clearedFilter = clearedFilter;\n\n        masterData = transformation.data; // preserve state\n        // Update the results heading based on the current items state.\n        transformation.data.resultsHeading = listings.transformResultsHeading({data: transformation.data});\n        // Update pagination data structure, reset to first page\n        transformation.data.pagination = listings.transformPaginationData({data: transformation.data});\n        // Render the listing page.\n        listings.renderListingPage({data: transformation.data});\n        // Trigger child components render with updated data\n        updateChildComponents(transformation);\n      });\n    });\n\n    // Handle pagination click events\n    function handlePagination (e, target) {\n      \"use strict\";\n      let nextPage = parseInt(target, 10);\n\n      masterData.pagination = listings.transformPaginationData({ data: masterData, targetPage: nextPage });\n      masterData.resultsHeading = listings.transformResultsHeading({ data: masterData, page: nextPage });\n      listings.renderListingPage({ data: masterData, page: nextPage });\n\n      // Trigger child components render with updated data\n      updateChildComponents({ data: masterData });\n    }\n    $pagination.on('ma:Pagination:Pagination', handlePagination);\n    let defaultPage = 1;\n    let params = new URLSearchParams(window.location.search);\n    if (history.state) {\n      defaultPage = history.state.page;\n    }\n    if (params) {\n      defaultPage = params.get(\"page\");\n    }\n    handlePagination(null, defaultPage);\n\n\n    // Trigger events to update child components with new data.\n    function updateChildComponents(args) {\n      $resultsHeading.trigger('ma:ResultsHeading:DataUpdated', [args.data.resultsHeading]);\n\n      $pagination.trigger('ma:Pagination:DataUpdated', [args.data.pagination]);\n      if (args.clearedFilter) {\n        $eventFilter.trigger('ma:FormFilter:DataUpdated', [args.clearedFilter]);\n      }\n    }\n\n    /**\n     * Returns a master data structure with page level / listing item level data and markup, to reflect component state.\n     *\n     * @param listing\n     *   The listing data structure to use as a source\n     * @returns {Array}\n     *   An array with the following structure:\n     *    [\n     *      maxItems: the max number of items to show per listing \"page\" if provided, defaults to all\n     *      totalPages: the number of pages of items that should render, given the current filters\n     *      resultsHeading: the data structure necessary to render a resultsHeading component\n     *      items: an array of listing items [\n     *        isActive: whether or not the listing should be shown, given current filters state\n     *        page: the page that the listing, if active, will appear on, given the current sort order\n     *        data: the data structure for the eventTeaser component\n     *        markup: the compiled eventTeaser markup\n     *        start: the momentjs object for the start timestamp\n     *      ]\n     *      pagination: the data structure necessary to render a pagination component,\n     *      selectors: the necessary $selectors for rendering the listing\n     *    ]\n     */\n    function populateMasterDataSource(listing) {\n      // Populate master data structure\n      let masterData = [];\n\n      // Ensure eventListing.events.items is an array (the twig template json_encode()'s a php array)\n      let listArray = [];\n      $.map(listing.eventListing.events, function(val, index) {\n        listArray[index] = val;\n      });\n\n      listing.eventListing.events = listArray;\n\n      // Ensure eventListing.pagination.pages is an array (the twig template json_encode()'s a php array)\n      let pages = [];\n      $.map(listing.pagination.pages, function(val, index) { pages[index] = val; });\n      listing.pagination.pages = pages;\n\n      // Get the listing events, generate markup for each\n      let masterListing = listing.eventListing.events,\n\n      // Pass in listing and template name.\n      masterListingMarkup = listings.transformListing(masterListing, 'eventListingRow');\n\n      // The max number of items per page, if designated in eventListing data structure, else all\n      masterData.maxItems = listing.maxItems ? listing.maxItems : masterListing.length;\n\n      // The initial results heading data structure\n      masterData.resultsHeading = listing.resultsHeading;\n\n      // Create items with listing and markup.\n      masterData.items = getMasterListingWithMarkup(masterListing, masterListingMarkup, masterData.maxItems);\n\n      // The initial pagination data structure;\n      masterData.pagination = listing.pagination;\n\n      // The total number of pages, given the number of items and the maxItems variable\n      masterData.totalPages = Math.ceil(masterData.items.length / masterData.maxItems);\n\n      // Set the selector properties necessary to render\n      masterData.selectors = {};\n      masterData.selectors.container = container;\n      masterData.selectors.parent = parent;\n      masterData.selectors.row = row;\n\n      return masterData;\n    }\n\n    /**\n     * Creates the master data structure items array\n     *\n     * @param listing\n     *   The eventListing data structure\n     * @param markup\n     *   The generated array of item markup\n     * @param max\n     *   The maximum number of items per page\n     * @returns {Array}\n     *  An array of listing items with the following structure:\n     *  [\n     *      isActive: whether or not the listing should be shown, given current filters state\n     *      page: the page that the listing, if active, will appear on, given the current sort order\n     *      data: the data structure for the eventListing component\n     *      markup: the compiled event markup\n     *      start: a momentjs object for this event's start timestamp\n     *   ]\n     */\n    function getMasterListingWithMarkup(listing, markup, max) {\n      let items = [];\n      listing.forEach(function (item, index) {\n        // determine if there is an end date to this event\n        let endDate = listing[index].date.endDay.length;\n\n        items[index] = {\n          isActive: true, // @todo consider checking for this in case of server side preprocessing of state\n          page: Math.ceil((index+1) / max),\n          markup: markup[index],\n          data: listing[index],\n          start: listings.makeMoment({data: listing[index].date, type: 'start'}),\n          end: (endDate) ? listings.makeMoment({data: listing[index].date, type: 'end'}) : endDate\n        };\n      });\n      return items;\n    }\n\n  });\n\n  /**\n   * The main data transformation wrapper, returns an instance of masterData which reflects the component state.\n   *\n   * @param data\n   *  An instance of masterData to start from.\n   * @param transformation\n   *  An object representing the change in state (locationFilter form data, resultsHeading tag interaction, etc.)\n   *\n   * @returns {{data: *, place: *}}\n   *  An object with the current state masterData instance and an array of their related sorted markers to send to map.\n   */\n  function transformData(data, transformation) {\n    // This data transformation potentially involves asynchronous google geocoding.\n    // This jQuery deferered object allows us to wait for a return before moving on inside of the parent function (which invokes this function).\n    // @see https://api.jquery.com/jquery.deferred/\n    let promise = $.Deferred();\n    let transformReturn = {};\n\n    // First filter the data based on component state, then sort alphabetically by default.\n    let filteredData = listings.filterListingData(data, transformation),\n        tags = filteredData.resultsHeading.tags,\n        sortedData = listings.sortDataByDate(filteredData),\n        place = '';\n\n    // Sort data by location, if that filter is present.\n    if (listings.hasFilter(tags, 'location')) {\n      place = listings.getFilterValues(tags, 'location')[0]; // returns array\n      // If place argument was selected from the locationFilter autocomplete (initiated on the zipcode text input).\n      let autocompletePlace = ma.autocomplete.getPlace();\n      // Geocode the address, then sort the markers and instance of locationListing masterData.\n      ma.geocoder = ma.geocoder ? ma.geocoder : new google.maps.Geocoder();\n      if (typeof autocompletePlace !== \"undefined\" && autocompletePlace.hasOwnProperty('place_id')) {\n        // This is an asynchronous function\n        listings.geocodePlaceId(autocompletePlace.place_id, function(result) {\n          transformReturn.data = sortDataAroundPlace(result, filteredData);\n          transformReturn.geocode = result;\n          // Return the data sorted by location and the geocoded place object\n          promise.resolve(transformReturn);\n        });\n      }\n      // If place argument was populated from locationFilter (zipcode text input) but not from Place autocomplete.\n      else {\n        // This is an asynchronous function\n        listings.geocodeAddressString(place, function(result) {\n          transformReturn.data = sortDataAroundPlace(result, filteredData);\n          transformReturn.geocode = result;\n          // Return the data sorted by location and the geocoded place object\n          promise.resolve(transformReturn);\n        });\n      }\n    }\n    else {\n      // Return the data sorted by alphabet and the empty place object\n      promise.resolve({data: sortedData, place: place});\n    }\n\n    return promise;\n  }\n\n  /**\n   * Returns instance of location listing masterData, sorted proximity to place.\n   *\n   * @param place\n   *   The geocode information by which to sort.\n   * @param data\n   *   The instance of location listing masterData.\n   * @returns {*}\n   *   Sorted instance of location listing masterData.\n   */\n  function sortDataAroundPlace(place, data) {\n    let lat = place.geometry.location.lat(),\n        lng = place.geometry.location.lng();\n\n    // Get all existing marker distance from place, assign as marker property.\n    for (let key in data.items) {\n      if (data.items.hasOwnProperty(key)) {\n        data.items[key].distance = listings.calculateDistance(data.items[key].data.position.lat, data.items[key].data.position.lng, lat, lng, \"K\");\n      }\n    }\n\n    // Sort existing markers by closest to the place.\n    data.items.sort(function (a, b) {\n      return a.distance - b.distance;\n    });\n\n    // Update each location listing item's page number based on new marker sort order.\n    let paginated = listings.paginateItems(data.items, data.maxItems);\n    data.items = paginated.items;\n    data.totalPages = paginated.totalPages;\n\n    // Return the newly sorted instance of location listing masterData.\n    return data;\n  }\n\n})(window,document,jQuery);","export default (function (window, document, $) {\n// ****** Make the whole TOC link's parent container a hotspot ******\n// Currently used with:\n// - patternlab/styleguide/source/_patterns/03-organisms/by-template/table-of-contents-hierarchy.twig\n// - patternlab/styleguide/source/_patterns/03-organisms/by-template/sticky-toc.twig\n  $(document).ready(function() {\n    $(\"[data-link]\").click(function() {\n      event.preventDefault();\n      window.location = $(this).data(\"link\");\n    });\n  });\n// eslint-disable-next-line no-undef\n})(window,document,jQuery);\n","export default (function(window, document, $) {\n  const $feedbackForm = $(\".ma__mass-feedback-form__form\");\n  const $fields = $(\".ma__mass-feedback-form__fields\");\n  const $textArea = $fields.find(\"textarea\");\n  const $contactForm = $feedbackForm.find(\n    \".ma__mass-feedback-form__contact-form\"\n  );\n  const $loadRadios = $feedbackForm.find('.feedback-load input[type=\"radio\"]');\n  const $contactRadios = $feedbackForm.find(\n    '.user-response__contact input[type=\"radio\"]'\n  );\n  const $Response = $(\".ma__mass-feedback-form__form--user-response\");\n  const $noResponseLink = $Response.find(\".form--no-response\");\n  const $alertToggle = $(\".ma__in-page-alert__hide\");\n\n  // Open no reponse answer accordion.\n  $noResponseLink.on(\"click\", function() {\n    $Response.toggleClass(\"is-open\");\n  });\n\n  // Auto size the text boxes\n  $textArea.each(function() {\n    let $el = $(this);\n\n    $el.on(\"keyup\", function() {\n      if ($el.prop(\"scrollHeight\") > $el.prop(\"clientHeight\")) {\n        $el.css(\"height\", $el.prop(\"scrollHeight\") + \"px\");\n      } else {\n        $el.css(\"height\", \"100%\");\n      }\n    });\n  });\n\n  // Open feedback form on radio button selection.\n  $loadRadios.on(\"change\", function() {\n    let foundIndicator = $loadRadios.filter(\":checked\").val();\n\n    if (foundIndicator === \"Yes\") {\n      $fields.addClass(\"is-open positive\");\n      $fields.removeClass(\"negative\");\n    } else if (foundIndicator === \"No\") {\n      $fields.addClass(\"is-open negative\");\n      $fields.removeClass(\"positive\");\n    }\n  });\n\n  // Open contact form on radio selection.\n  $contactRadios.on(\"change\", function() {\n    let contactGroup = $contactRadios.filter(\":checked\").val();\n    let $submitButton = $(this)\n      .closest(\"form\")\n      .find(\".submitButton\");\n\n    if (contactGroup === \"Yes\") {\n      $contactForm.addClass(\"is-open\");\n      $submitButton.val(\"Send\");\n    } else if (contactGroup === \"No\") {\n      $contactForm.removeClass(\"is-open\");\n      $submitButton.val(\"Send Feedback\");\n    }\n  });\n\n  // Close alert.\n  $alertToggle.on(\"click\", function(e) {\n    e.preventDefault();\n  });\n})(window, document, jQuery);\n","import checkMobile from \"../helpers/cssControlCode.js\";\r\n\r\nexport default (function (window,document,$,undefined) {\r\n\r\n  $('.js-footnote').each(function(){\r\n    let $el = $(this),\r\n        $link = $el.find(\".js-footnote-link\"),\r\n        $messageLink = $link.clone(),\r\n        $rtelink = null,\r\n        isMobile = checkMobile($el);\r\n\r\n    if ($link.attr('href') === \"#\") {\r\n      return;\r\n    } else {\r\n      $rtelink = $($link.attr('href'));\r\n    }\r\n\r\n    $messageLink.text('');\r\n\r\n    $el.find(\".js-footnote-message p:last-child\").append($messageLink);\r\n\r\n    $(window).resize(function() {\r\n      isMobile = checkMobile($el);\r\n    });\r\n\r\n    $el.on('click','.js-footnote-link', function(e) {\r\n      e.preventDefault();\r\n\r\n      let target = $(this).attr('href');\r\n      let position = getPosition($(target).parent());\r\n      \r\n      scrollTo(position.top, target);\r\n    });\r\n\r\n    $rtelink.click(function(e) {\r\n      e.preventDefault();\r\n\r\n      let target = $(this).attr('href');\r\n      let position = getPosition($(target));\r\n      \r\n      scrollTo(position.top, target);\r\n    });\r\n\r\n    function getPosition($target) {\r\n      let pos = $target.offset() || 0;\r\n\r\n      if(isMobile) {\r\n        let headerHeight = $('.js-sticky-header').height() || 0;\r\n        let navHeight = $(\".js-scroll-anchors\").height() || 0;\r\n\r\n        pos.top = pos.top - headerHeight - navHeight;\r\n      }\r\n\r\n      return pos;\r\n    }\r\n\r\n    function scrollTo(position, focus) {\r\n      $(\"html,body\").stop(true,true).animate({scrollTop:position}, '750', function(){\r\n        if(focus) {\r\n          $(focus).focus();\r\n        }\r\n      });\r\n    }\r\n  });\r\n})(window,document,jQuery);\r\n","export default (function (window,document,$,undefined) {\r\n\r\n  $('textarea[maxlength]').each(function(){\r\n    const $el = $(this);\r\n    const maxlength = $el.attr('maxlength');\r\n\r\n    let remaining = maxlength - $el.val().length;\r\n    let message = `${remaining}/${maxlength}`;\r\n\r\n    $el.wrap('<div class=\"ma__textarea__wrapper\"></div>');\r\n\r\n    $el.parent().attr('data-char-left',message);\r\n\r\n    $el.on('keyup mouseup blur', function(){\r\n      remaining = maxlength - $el.val().length;\r\n      message = `${remaining}/${maxlength}`;\r\n      $el.parent().attr('data-char-left',message);\r\n    });\r\n  });\r\n\r\n  // number restricted input based on it's pattern (this must run prior to type=\"number\")\r\n  $('input[type=\"text\"][pattern=\"[0-9]*\"]').on('keydown', function(e){\r\n    // Allow: delte(46), backspace(8), tab(9), escape(27), enter(13) and space(32))\r\n    if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 32]) !== -1 ||\r\n         // Allow: Ctrl/cmd+A\r\n        (e.keyCode == 65 && (e.ctrlKey === true || e.metaKey === true)) ||\r\n         // Allow: Ctrl/cmd+C\r\n        (e.keyCode == 67 && (e.ctrlKey === true || e.metaKey === true)) ||\r\n         // Allow: Ctrl/cmd+X\r\n        (e.keyCode == 88 && (e.ctrlKey === true || e.metaKey === true)) ||\r\n         // Allow: home, end, left, right\r\n        (e.keyCode >= 35 && e.keyCode <= 39)) {\r\n             // let it happen, don't do anything\r\n             return;\r\n    }\r\n    // Ensure that it is a number and stop the keypress\r\n    if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {\r\n        e.preventDefault();\r\n    }\r\n  });\r\n\r\n  // number input type\r\n  $('input[type=\"number\"], .js-input-number').each(function(){\r\n    const $el = $(this);\r\n    const $plus = $('<button type=\"button\" aria-label=\"increase value\" class=\"ma__input-number__plus\"></button>');\r\n    const $minus = $('<button type=\"button\" aria-label=\"decrease value\" class=\"ma__input-number__minus\"></button>');\r\n\r\n    let value = $el.val();\r\n\r\n    // if the input is not an html input and key restrictions\r\n    if($el.attr('type') !== \"number\") {\r\n      $el.on('keydown', function(e){\r\n        // Allow: delte(46), backspace(8), tab(9), escape(27), enter(13) and .(110 & 190))\r\n        if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||\r\n             // Allow: Ctrl/cmd+A\r\n            (e.keyCode == 65 && (e.ctrlKey === true || e.metaKey === true)) ||\r\n             // Allow: Ctrl/cmd+C\r\n            (e.keyCode == 67 && (e.ctrlKey === true || e.metaKey === true)) ||\r\n             // Allow: Ctrl/cmd+X\r\n            (e.keyCode == 88 && (e.ctrlKey === true || e.metaKey === true)) ||\r\n             // Allow: home, end, left, right\r\n            (e.keyCode >= 35 && e.keyCode <= 39)) {\r\n                 // let it happen, don't do anything\r\n                 return;\r\n        }\r\n        // Ensure that it is a number and stop the keypress\r\n        if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {\r\n            e.preventDefault();\r\n        }\r\n      });\r\n    }\r\n\r\n    $plus.on('click', function(){\r\n      let value = parseInt($el.val().trim(),10);\r\n\r\n      if(value !== value) {\r\n        value = 0;\r\n      }\r\n\r\n      $el.val(value + 1);\r\n    });\r\n\r\n    $minus.on('click', function(){\r\n      let value = parseInt($el.val(),10);\r\n      \r\n      if(value !== value) {\r\n        value = 0;\r\n      }\r\n           \r\n      $el.val(value - 1);\r\n    });\r\n\r\n    $el.wrap('<div class=\"ma__input-number\"></div>');\r\n\r\n    $el.parent().append($plus,$minus);\r\n  });\r\n\r\n\r\n})(window,document,jQuery);\r\n","export default (function (window,document,$,undefined) {\r\n\r\n  $('form').each(function(){\r\n    let $form = $(this),\r\n        requiredFields = [],\r\n        $errorList = $form.find('.js-error-list');\r\n\r\n    // find all required fields\r\n    $('.js-is-required').each(function(){\r\n      let $field = $(this),\r\n          type = $field.data('type'),\r\n          value = $field.val(),\r\n          valid = validate(value,type);\r\n\r\n      requiredFields.push({type,valid,$el:$field});\r\n\r\n      $(this).data('index',requiredFields.length);\r\n    });\r\n\r\n    // if there aren't any required fields, don't do anything\r\n    if(requiredFields.length === 0) {\r\n      return;\r\n    }\r\n\r\n    // $form.on('submit', function(e){\r\n    //   e.preventDefault();\r\n    // });\r\n\r\n    $form.find('button[type=\"submit\"], input[type=\"submit\"]').on('click',function(e){\r\n      let submitForm = true;\r\n\r\n      // validate each required field\r\n      requiredFields.forEach(function(item) {\r\n        let value = item.$el.val();\r\n\r\n        item.valid = validate(value,item.type);\r\n\r\n        if(item.valid) {\r\n          clearError(item.$el);\r\n        } else {\r\n          submitForm = false;\r\n          addError(item.$el);\r\n        }\r\n      });\r\n\r\n      if(!submitForm) {\r\n        // prevent the form from submitting\r\n        e.preventDefault();\r\n        // show the form error message \r\n        $form.addClass('has-error');\r\n        // scroll up to the error message\r\n        let position = $form.offset();\r\n        \r\n        // scroll to the top of the form where the list of errors should be\r\n        // using 100px offset to compenstate for possible sticky headers\r\n        $(\"html,body\").stop(true,true).animate({scrollTop:position.top - 100}, '750', function(){\r\n          // bring focus to the item we just scrolled to\r\n          $errorList.focus();\r\n        });\r\n      }\r\n    });\r\n  });\r\n\r\n  // receives the jquery object of the input\r\n  function clearError($el){\r\n    $el.removeClass('has-error');\r\n    $el.prev('.ma__error-msg').removeClass('has-error');\r\n  }\r\n\r\n  // receives the jquery object of the input\r\n  function addError($el) {\r\n    $el.addClass('has-error');\r\n    $el.prev('.ma__error-msg').addClass('has-error');\r\n  }\r\n\r\n  function validate(value,type='text'){\r\n    let valid = false;\r\n\r\n    switch(type) {\r\n      case 'email':\r\n        valid = !!(value.match(/[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]+/i));\r\n        break;\r\n      default:\r\n        valid = value.length !== 0;\r\n    }\r\n\r\n    return valid;\r\n  }\r\n\r\n})(window,document,jQuery);\r\n","import getTemplate from \"../helpers/getHandlebarTemplate.js\";\r\n\r\nexport default (function (window,document,$,undefined) {\r\n  // Only run this code if there is a google map component on the page.\r\n  if(!$('.js-google-map').length || typeof ma.googleMapData === 'undefined'){\r\n    return;\r\n  }\r\n\r\n  // Initialize global (at component scope) map properties\r\n  let max = false, // Maximum number of map markers per map, can be updated instance\r\n    mapsInitialized = false; // Flag to set to trigger clearInterval(checkForGoogleMaps)\r\n\r\n  /**\r\n   * Test for presence of google maps default library (without geocode, places, etc.) until we find it.\r\n   * Loaded in _meta/_01.foot.twig with static api key\r\n   * @todo set up config to pull in dynamic api key\r\n   */\r\n  let checkForGoogleMaps = setInterval(function() {\r\n    if (window.google && window.google.maps && !mapsInitialized) {\r\n      initMaps();\r\n    }\r\n  }, 100);\r\n\r\n  // Stop checking for google maps library after 2 minutes.\r\n  let stopChecking = setTimeout(function() {\r\n    clearInterval(checkForGoogleMaps);\r\n  }, 2 * 60 * 1000);\r\n\r\n  // Clear out any potential HTML tags in text\r\n  function sanitizeText (potentialHTML) {\r\n    let d = document.createElement(\"div\");\r\n    d.innerHTML = potentialHTML;\r\n    return d.innerText;\r\n  }\r\n\r\n  // Initialize the map\r\n  function initMaps () {\r\n    // Stop checking for google maps library.\r\n    mapsInitialized = true;\r\n    clearInterval(checkForGoogleMaps);\r\n    clearTimeout(stopChecking);\r\n\r\n    $(\".js-google-map\").each(function(i) {\r\n      const $el = $(this);\r\n      max = ma.googleMapData[i].maxItems ? ma.googleMapData[i].maxItems : ma.googleMapData[i].markers.length;\r\n\r\n      // Get the maps data (this could be replaced with an api)\r\n      const rawData = ma.googleMapData[i]; // Data object created in @molecules/google-map.twig\r\n\r\n      // *** Create the Map *** //\r\n      // Map default config.\r\n      const initMapData = {\r\n        scrollwheel: false\r\n      };\r\n      // Create map data by combining the rawData with the defaults.\r\n      const mapData = Object.assign({}, rawData.map, initMapData);\r\n      // Create google map object assigned to this component instance with map data.\r\n      const map = new google.maps.Map(this, mapData);\r\n      // Initialize global markers, map bounds.\r\n      let bounds = new google.maps.LatLngBounds();\r\n      // Initialize all markers\r\n      let markers = initMarkers(map, rawData.markers);\r\n      // Add up to max markers to the map, zoom map to fit all bounds\r\n      addMarkersToMap(markers, map, bounds);\r\n\r\n      // Trigger map initialized event, broadcast master markers.\r\n      $el.trigger('ma:GoogleMap:MapInitialized', [markers]);\r\n\r\n      // Add keyboard navigation only after the map is rendered (becoming idle).\r\n      google.maps.event.addListenerOnce(map, 'idle', function() {\r\n        let $mapItems = $(\".js-google-map\").find(\r\n          'div[title=\"Show street map\"],' +\r\n          'div[title=\"Show street map with terrain\"],' +\r\n          'div[title=\"Show satellite imagery\"],' +\r\n          'div[title=\"Zoom in to show 45 degree view\"],' +\r\n          'div[title=\"Show imagery with street names\"],' +\r\n          'div[title=\"Pan up\"],' +\r\n          'div[title=\"Pan down\"],' +\r\n          'div[title=\"Pan left\"],' +\r\n          'div[title=\"Pan right\"],' +\r\n          'div[title=\"Return to the last result\"],' +\r\n          'div[title=\"Zoom in\"],' +\r\n          'div[title=\"Zoom out\"],' +\r\n          'img[title=\"Rotate map 90 degrees\"],' +\r\n          '.gmnoprint area'\r\n        );\r\n        $mapItems.each(function(i, o){\r\n          $(o).attr({\r\n            role: 'button',\r\n            tabindex: '0',\r\n            'aria-label': o.title\r\n          }).bind('keydown', function(ev){\r\n            // If enter is pressed on one of these elements, trigger a click of the element.\r\n            if (ev.which == 13){\r\n              ev.preventDefault();\r\n              $(o).trigger('click');\r\n            }\r\n          });\r\n        });\r\n      });\r\n\r\n      // Listen for map recenter event.\r\n      $el.on(\"ma:GoogleMap:MapRecenter\", function (event, markerIndex) {\r\n        if (typeof markers[markerIndex] === \"undefined\") {\r\n          return false;\r\n        }\r\n        let marker = markers[markerIndex];\r\n        // Close all open infoWindows.\r\n        for (let i in markers) {\r\n          if (markers[i].open) {\r\n            markers[i].hideInfo();\r\n          }\r\n        }\r\n        // Show the infoWindow for this marker.\r\n        marker.showInfo();\r\n      });\r\n\r\n      // Listen for map marker bounce event.\r\n      $el.on(\"ma:GoogleMap:MarkerBounce\", function( event, markerIndex ) {\r\n        if(typeof markers[markerIndex] === \"undefined\") {\r\n          return false;\r\n        }\r\n        let marker = markers[markerIndex];\r\n        // Make the marker bounce three times.\r\n        marker.bounce();\r\n      });\r\n\r\n      // Listen for data change event to update markers by filters.\r\n      $el.on(\"ma:GoogleMap:MarkersUpdated\", function (e, args) {\r\n        // Update map based on pre-sorted markers order\r\n        markers = updateMapByMarkers({\r\n          dataMarkers: args.markers,\r\n          map: map,\r\n          markers: markers,\r\n          place: args.place ? args.place : false\r\n        });\r\n\r\n        // Hide all info windows.\r\n        for (let i in markers) {\r\n          if(markers[i].open) {\r\n            markers[i].hideInfo();\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Returns the array of initialized current map markers.\r\n   *\r\n   * @param map\r\n   *  The current map object.\r\n   *\r\n   * @param markers\r\n   *  The markers to be initialized.\r\n   *\r\n   * @return {Array}\r\n   */\r\n  function initMarkers(map, markers) {\r\n    let initializedMarkers = [];\r\n    markers.forEach(function(data) {\r\n      let markerData = {\r\n        position: new google.maps.LatLng({\r\n          lat: data.position.lat,\r\n          lng: data.position.lng\r\n        }),\r\n        label: data.label,\r\n        infoWindow: data.infoWindow,\r\n        title: 'Marker: ' + sanitizeText(data.infoWindow.name)\r\n      };\r\n      let marker =  new google.maps.Marker(markerData);\r\n      let infoData = infoTransform(markerData.infoWindow);\r\n      let compiledTemplate = getTemplate('googleMapInfo');\r\n      let template = compiledTemplate(infoData);\r\n      let infoWindow = new google.maps.InfoWindow({\r\n        content: template\r\n      });\r\n      let markerBouncing = null;\r\n\r\n      marker.addListener('click', function(){\r\n        // hide all info windows\r\n        for (let i in initializedMarkers) {\r\n          if(initializedMarkers[i].open) {\r\n            initializedMarkers[i].hideInfo();\r\n          }\r\n        }\r\n\r\n        // show this info window\r\n        marker.showInfo();\r\n      });\r\n\r\n      marker.showInfo = () => {\r\n        infoWindow.open(map, marker);\r\n        marker.open = true;\r\n      };\r\n\r\n      marker.hideInfo = () => {\r\n        infoWindow.close(map, marker);\r\n        marker.open = false;\r\n      };\r\n\r\n      marker.bounce = () => {\r\n        clearTimeout(markerBouncing);\r\n        marker.setAnimation(null);\r\n        marker.setAnimation(google.maps.Animation.BOUNCE);\r\n        markerBouncing = setTimeout(() => {\r\n          marker.setAnimation(null);\r\n        }, 1500);\r\n      };\r\n\r\n      initializedMarkers.push(marker);\r\n    });\r\n\r\n    return initializedMarkers;\r\n  }\r\n\r\n  /**\r\n   * Return formatted marker infowindow data.\r\n   *\r\n   * @param data\r\n   *   Infowindow data object:\r\n   *   \"infoWindow\": {\r\n   *      \"name\": \"Attleboro District Court\",\r\n   *      \"phone\": \"15082225900\",\r\n   *      \"fax\": \"15082233706\",\r\n   *      \"email\": \"courts@state.ma.us\",\r\n   *      \"address\": \"88 North Main Street\\nAttleboro, MA 02703\"\r\n   *   }\r\n   *\r\n   * @returns {*}\r\n   *   Object with passed data and new infoData property.\r\n   */\r\n  function infoTransform(data) {\r\n    let infoData = {\r\n      phoneFormatted: formatPhone(data.phone),\r\n      faxFormatted: formatPhone(data.fax)\r\n    };\r\n    return Object.assign({},data,infoData);\r\n  }\r\n\r\n  /**\r\n   * Return phone number data formatted for map marker.\r\n   *\r\n   * @param phone\r\n   *   \"15082225900\",\r\n   * @returns {string}\r\n   *    (508) 222-5900\r\n   */\r\n  function formatPhone(phone) {\r\n    let phoneTemp = phone[0] === '1' ? phone.substring(1) : phone;\r\n    return phoneTemp.replace(/(\\d{3})(\\d{3})(\\d{4})/, '($1) $2-$3');\r\n  }\r\n\r\n  /**\r\n   * Location listing specific map helper functions\r\n   */\r\n\r\n\r\n  /**\r\n   * Renders a new map, with markers  reference to passed marker order and length.\r\n   *\r\n   * @param args\r\n   *  arguments object:\r\n   *    {\r\n   *      dataMarkers: args.markers, // sorted array of markers by witch to sort and filter master markers\r\n   *      map: map, // initialized map instance\r\n   *      markers: markers, // master list of current map markers\r\n   *      place: args.place, // optional location filter place input\r\n\r\n   *    }\r\n   */\r\n  function updateMapByMarkers(args) {\r\n    removeMarkersFromMap(args.markers);\r\n\r\n    // Reset bounds to remove previous search locations.\r\n    let bounds = new google.maps.LatLngBounds();\r\n    if (args.place && ma.autocomplete.getPlace()) {\r\n      // Ensure the map includes the provided location based on the place value.\r\n      bounds.extend(args.place.geometry.location);\r\n    }\r\n\r\n    // Add the new markers to the map and set new bounds based on filtered markers.\r\n    addMarkersToMap(args.dataMarkers, args.map, bounds);\r\n\r\n    // If there is only one marker, zoom out to provide some context.\r\n    if (args.dataMarkers.length === 1) {\r\n      args.map.setZoom(16);\r\n    }\r\n\r\n    return args.dataMarkers;\r\n  }\r\n\r\n  /**\r\n   * Removes passed marker objects from a given map.\r\n   *\r\n   * @param markers\r\n   *   Array of map marker objects.\r\n   */\r\n  function removeMarkersFromMap(markers) {\r\n    for(let i = 0; i < markers.length; i++){\r\n      markers[i].setMap(null);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Adds markers to a given map and sets bounds based on those markers.\r\n   *\r\n   * @param markers\r\n   *   Initialized map marker objects to be added.\r\n   * @param map\r\n   *   Initialized map object.\r\n   * @param bounds\r\n   *   Initialized map bounds object.\r\n   */\r\n  function addMarkersToMap(markers, map, bounds) {\r\n    // Set max number of markers to whichever is smaller: max or the number of markers sent.\r\n    let maxItems = markers.length < max ? markers.length : max;\r\n\r\n    markers.forEach(function(marker, index) {\r\n      if (index < maxItems) {\r\n        marker.setMap(map);\r\n        // Extend the bounds to include each marker's position.\r\n        bounds.extend(marker.position);\r\n      }\r\n    });\r\n\r\n    // Google Maps default behavior with a single marker when calling\r\n    // fitBounds() is to maximize zoom. This can be undesirable behavior.\r\n    // If only a single marker, let mapData define center and zoom.\r\n    if (markers.length > 1) {\r\n      // Make the map zoom to fit the bounds, showing all locations.\r\n      map.fitBounds(bounds);\r\n    }\r\n  }\r\n\r\n})(window,document,jQuery);\r\n","export default (function (window,document,$,undefined) {\n  \"use strict\";\n\n  $('.js-header-tag-link').each(function(index) {\n\n    let $el = $(this),\n        $showHideButton = $('.js-header-tag-button', $el),\n        $dynamicItems = $('a:nth-child(n+4)', $el),\n        $focusItem = $('a:nth-child(4)', $el),\n        id = $el.attr('id') || 'headerTags' + (index + 1),\n        open = $el.hasClass('is-open');\n\n      // Set the id attribute (respects default if set).\n      $el.attr('id', id);\n\n      if ($dynamicItems.length) {\n        // Show our see button if we have more than three items.\n        $showHideButton.attr('aria-expanded',open).attr('aria-controls', id);\n        $showHideButton.show();\n      }\n\n      $showHideButton.on('click', function(e) {\n        e.preventDefault();\n        $el.toggleClass('is-open');\n\n        if ($el.hasClass('is-open')) {\n          $showHideButton.attr('aria-expanded', 'true');\n          $dynamicItems.show();\n          $focusItem.focus();\n        }\n        else {\n          $showHideButton.attr('aria-expanded', 'false');\n          $dynamicItems.hide();\n        }\n      });\n  });\n\n  $('.ma__relationship-indicators--terms').each(function() {\n\n    let $tagWrapper = $(this);\n    let $button = $tagWrapper.find('.js-relationship-indicator-button');\n    let $buttonCounter = $button.find('.tag-count');\n    let $hiddenTag = $tagWrapper.find('.js-term:hidden');\n    let $focusTag = $hiddenTag.first().find('a');\n    let tagCount = $hiddenTag.length;\n    let $tagState = $button.find('.tag-state');\n\n    // If hidden  tags exist, show button.\n    if (tagCount) {\n      $button.toggle();\n    }\n\n    // Use hidden tags to populate button label.\n    $buttonCounter.text(tagCount);\n\n    $button.on('click', function() {\n      let $tagStateText = $tagState.text();\n\n      // Open hidden tags.\n      $tagWrapper.parent().toggleClass('tags-open');\n      $button.toggleClass('is-open');\n      $hiddenTag.toggle();\n\n      // Change button text.\n      $tagState.text($tagStateText === 'fewer' ? 'more' : 'fewer');\n\n      $button.attr('aria-pressed', function(_, attr) { return !(attr == 'true') });\n\n    });\n\n    $(window).resize(function () {\n      // Remove all the screen width specific styles.\n      $buttonCounter.removeAttr('style');\n      $hiddenTag.removeAttr('style');\n\n      setTimeout(function(){\n        let windowWidth = $(window).width();\n\n        // recount the hidden tags.\n        $hiddenTag = $tagWrapper.find('.ma__relationship-indicators--term:hidden');\n        tagCount = $hiddenTag.length;\n\n        // Update button text.\n        $buttonCounter.text(tagCount);\n        $tagState.text('more');\n\n        // Reset the button visibility.\n        if(tagCount >= 1 && windowWidth < 910) {\n          $button.show();\n        }\n        else if (tagCount == 0) {\n          $button.hide();\n        }\n\n      }, 500);\n\n    });\n\n  });\n\n})(window,document,jQuery);\n","import cookies from \"../helpers/cookies.js\";\r\n\r\nexport default (function (window,document,$,undefined) {\r\n\r\n  $('.js-header-alert').each(function(){\r\n    init.apply(this);\r\n  });\r\n\r\n  $(document).on('ma:AjaxPattern:Render', function(e,data){\r\n    let $context = data.el;\r\n    if ($context.find('.js-header-alert').length) {\r\n      $context.find('.js-header-alert').each(function(){\r\n        init.apply(this);\r\n      })\r\n    }\r\n  });\r\n\r\n  function init(){\r\n    let $el = $(this),\r\n        $link = $el.find('.js-header-alert-link'),\r\n        id = $el.data('id'),\r\n        cookieName = \"Alert\" + id,\r\n        cookieExpires = 365,\r\n        cookieValue = cookies.getCookie(cookieName);\r\n\r\n    // show alert if cookie doesn't exist\r\n    if(cookieValue !== \"hide\") {\r\n      $el.fadeIn().fadeOut('fast').fadeIn('slow');\r\n    }\r\n\r\n    // hide the alert\r\n    $link.on('click',function(){\r\n      cookies.setCookie(cookieName,\"hide\",cookieExpires);\r\n      $el.stop(true,true).fadeOut();\r\n    })\r\n  }\r\n})(window,document,jQuery);\r\n\r\n","export default (function (window, document, $, undefined) {\n\n  // Set height of sidebar plus 100 pixels so full width images\n  // don't sit too tight under under the sidebar content.\n  const sidebarHeight = $(\".sidebar\").length > 0 ? $(\".sidebar\").outerHeight(true) + 100 : 0;\n\n  let debounceTimer;\n\n  function mediaWidth() {\n    // Define wrapper width for use.\n    var wrapperWidth = $(\".main-content\").width();\n\n    $(\".ma__figure--full, .ma__iframe--full\").each(function () {\n      var $thisMedia = $(this);\n\n      // Get position of image relative to container.\n      var thisPosition = $thisMedia.position().top;\n\n      // If this image is below the sidebar.\n      if (thisPosition > sidebarHeight) {\n\n        // Make the image the full width of the wrapper.\n        $thisMedia.css(\"width\", wrapperWidth);\n      }\n    });\n\n    // Force Tableau iframe to reload when figure size is x-large when the page has a side column.\n    if(!$(\".page-content\").hasClass(\".no-sidebar\")) {\n      $(\".ma__figure--x-large\").find(\"iframe\").width(\"100%\");\n    }\n  }\n\n  $(window).on(\"load\", function () {\n    mediaWidth();\n  });\n\n  $(window).resize(function () {\n    if (typeof debounceTimer === \"number\") {\n      window.clearTimeout(debounceTimer);\n    }\n    debounceTimer = window.setTimeout(function () {\n      mediaWidth();\n    }, 250);\n  });\n\n})(window, document, jQuery);","\nexport default (function (window,document,$,undefined) {\n  let tocContainerClass = '.js-toc-container';\n  let containerClass = '.js-inline-overlay';\n  let contentClass = '.js-inline-overlay-content';\n  let toggleClass = '.js-inline-overlay-toggle';\n  let titleClass  = '.js-inline-overlay-title';\n  let feedbackButton = $('body').find('.ma__fixed-feedback-button');\n\n  function initialize () {\n    // Add random ID if no ID present.\n    let contentID = $(contentClass).attr('id');\n    if(!contentID) {\n      let id = `overlay-${Math.floor(Math.random()*100000)}`;\n       $(containerClass).attr('id', id);\n       $(toggleClass).attr('aria-controls, id');\n    }\n  }\n\n  function toggleOverlay() {\n    let $containerEl = $(this).closest(tocContainerClass).find(containerClass);\n    let isOpen = $containerEl.hasClass('is-open');\n    $('body').toggleClass('scroll-disabled', !isOpen);\n    $containerEl.toggleClass('is-open', !isOpen);\n\n    $(`${toggleClass}[aria-expanded=${!isOpen}]`).parents(titleClass).focus();\n\n    feedbackButton.toggleClass('hide-button');\n  }\n\n  initialize();\n  $(document).on('click', toggleClass, toggleOverlay);\n  // allow esc key to dismiss overlay\n  $(document).keydown(function(e) {\n    // ESCAPE key pressed\n    if (e.keyCode === 27 && $(containerClass).hasClass('is-open')) {\n      toggleOverlay();\n    }\n  });\n\n\n})(window,document,jQuery);\n","export default (function (window, document, $, undefined) {\n\n  const $pageAlert = $('.js-in-page-alert');\n  const $alertClose = $pageAlert.find('.js-in-page-alert-link');\n\n  $alertClose.on('click', function () {\n    $pageAlert.addClass('is-closed');\n  });\n\n})(window, document, jQuery);\n\n","export default (function (window,document,$,undefined) {\r\n\r\n  $('.js-keyword-search').each(function(){\r\n    let $el = $(this),\r\n        $form = $el.find('form');\r\n\r\n    $form.on('submit',function(e){\r\n      e.preventDefault();\r\n      $el.addClass('is-dirty')\r\n    });\r\n\r\n    $form.on('reset',function(){\r\n      $el.removeClass('is-dirty')\r\n    });\r\n  });\r\n\r\n})(window,document,jQuery);\r\n","export default (function (window,document,$,undefined) {\n\n  $('.ma__link-list--image-blocks, .ma__link-list--image-links').each(function() {\n\n    const $thisList = $(this).find('.ma__link-list__items'),\n    $thisToggle = $(this).find('.ma__link-list__toggle'),\n    $thisToggleLabel = $thisToggle.find('span'),\n    $listItem = $thisList.children(),\n    listItems = $listItem.length;\n\n    let debounceTimer;\n\n    function showToggle() {\n      let width = $(window).width();\n\n      if ((listItems > 3) && (width < 780) || (listItems > 6) && (width < 1201)) {\n        // Show More button only when there are enough to toggle.\n        $thisToggle.addClass('show-toggle');\n      }\n      else {\n        $thisToggle.removeClass('show-toggle');\n      }\n    }\n    showToggle();\n\n    $thisToggle.on('click', function() {\n\n      let thisToggleText = $thisToggleLabel.text();\n      $thisToggle.toggleClass('toggle-open');\n      $thisToggleLabel.text(thisToggleText === \"fewer\" ? \"more\" : \"fewer\");\n\n      $listItem.each(function() {\n        let $item = $(this);\n\n        if ($item.is(':hidden')) {\n          $item.slideDown().addClass('toggle-open');\n        }\n        else if ($item.is(':visible') && $item.hasClass('toggle-open')) {\n          $item.slideUp().removeClass('toggle-open');\n        }\n      });\n    });\n\n    $(window).resize(function () {\n\n      if(typeof debounceTimer === \"number\") {\n        window.clearTimeout(debounceTimer);\n      }\n      debounceTimer = window.setTimeout(function(){\n        showToggle();\n\n        // Remove added attributes at desktop width.\n        if ($(window).width() < 1201) {\n          $thisToggle.removeAttr('style');\n          $listItem.removeAttr('style');\n        }\n      },150);\n    });\n  });\n\n})(window,document,jQuery);\n","export default (function (window,document,$,undefined) {\n  $('.js-location-filters').each(function() {\n    let $el = $(this);\n\n    let $resultHeading = $('.js-results-heading'),\n      $clearAllButton = '.js-results-heading-clear', // events triggered on parent\n      $filterButton = '.js-results-heading-tag'; // events triggered on parent\n\n    // When google map libraries are loaded, initialize places.autocomplete on the location input, if it exists.\n    $(document).on('ma:LibrariesLoaded:GoogleMaps', function() {\n      let $locationFilterParent = $('.js-filter-by-location', $el);\n      let $locationFilter = $locationFilterParent.find('input');\n      if ($locationFilter.length) {\n        // Create the google places autocomplete object and associate it with the zip code text input.\n        let locationInput = document.getElementById($locationFilter.attr('id'));\n        let swLat = $locationFilterParent.data('maPlaceBoundsSwLat');\n        let swLng = $locationFilterParent.data('maPlaceBoundsSwLng');\n        let neLat = $locationFilterParent.data('maPlaceBoundsNeLat');\n        let neLng = $locationFilterParent.data('maPlaceBoundsNeLng');\n\n        let defaultBounds = new google.maps.LatLngBounds(new google.maps.LatLng(swLat,swLng), new google.maps.LatLng(neLat,neLng));\n\n        // See options: https://developers.google.com/maps/documentation/javascript/places-autocomplete#add_autocomplete\n        let options = {\n          bounds: defaultBounds,\n          strictBounds: true,\n          types: ['geocode'],\n          componentRestrictions: {country: 'us'},\n          fields: ['place_id'],\n        };\n        ma.autocomplete = new google.maps.places.Autocomplete(locationInput, options);\n      }\n\n      populateFormData($el, false);\n    });\n\n    // Listen for clear all button click + trigger interaction event on parent.\n    $resultHeading.on('click', $clearAllButton, function () {\n      $resultHeading.trigger('ma:ResultsHeading:ActiveTagClicked', [{clearedFilter: 'all'}]);\n      $el.trigger('ma:FormFilter:DataUpdated', {$form: $el, clearedFilter: 'all'});\n      populateFormData($el, true);\n    });\n\n    // Listen for single filter button click and trigger interaction event on parent.\n    $resultHeading.on('click', $filterButton, function (e) {\n      let clearedFilter = {\n        'type': $(e.target).data('ma-filter-type'),\n        'value': $(e.target).data('ma-filter-value'),\n        'text': $(e.target).text()\n      };\n\n      $resultHeading.trigger('ma:ResultsHeading:ActiveTagClicked', [{clearedFilter: clearedFilter}]);\n      $el.trigger('ma:FormFilter:DataUpdated', {$form: $el, clearedFilter: clearedFilter});\n      populateFormData($el, true);\n    });\n\n    // Listen for new data from another component interaction (i.e. results heading), update form.\n    $el.on('ma:FormFilter:DataUpdated', function(e, data) {\n      renderForm({clearedFilter: data.clearedFilter, $form: $el});\n    });\n\n    // Handle global form submission.\n    $el.submit(function(e) {\n      e.preventDefault();\n\n      // Update master data with the various filter values.\n      populateFormData($el, true);\n    });\n\n  });\n\n  function populateFormData($el, isFormSubmit) {\n    let formData = getFormData({$form: $el});\n\n    if (!isFormSubmit) {\n      let location = getParameterFromUrl('location');\n      let $location = $el.find('.js-filter-by-location');\n\n      // Set the location from the URL.\n      $location.find('input').val(location);\n\n      // Build the form data from the URL params.\n      formData = [];\n\n      // Get location data from URL.\n      if (location) {\n        formData.push({\n          type: 'location',\n          text: location,\n          value: location\n        });\n      }\n\n      let $tags = $el.find('.js-filter-by-tags');\n      let tags = getParameterFromUrl('tags');\n      if (tags) {\n        let splitTags = tags.split(',');\n        splitTags.forEach((tag) => {\n          if (tag) {\n            tag = tag.split(':');\n            formData.push({\n              type: 'tag',\n              text: tag[1],\n              value: tag[0]\n            });\n            $tags.find('input[type=checkbox][value=' + tag[0] + ']').prop('checked', true);\n          }\n        });\n      }\n    }\n\n    pushFilterState(formData, isFormSubmit);\n\n    // Trigger location listing filter event with current filter values.\n    $el.trigger('ma:LocationFilter:FiltersUpdated', [{formData: formData}, isFormSubmit]);\n  }\n\n  function renderForm(args) {\n    let clearedFilter = args.clearedFilter;\n    // The clear all button was pressed.\n    if (clearedFilter === \"all\") {\n      clearForm(args);\n    }\n    // Single filter button was pressed.\n    else {\n      clearDeactivatedFilter(args);\n    }\n  }\n\n  function getParameterFromUrl(param) {\n    let params = new URLSearchParams(window.location.search);\n    return params.get(param);\n  }\n\n  function getFormData(args) {\n    let $form = $(args.$form),\n      $location = $form.find('.js-filter-by-location'),\n      $tags = $form.find('.js-filter-by-tags'),\n      formData = [];\n\n    // Get location\n    if ($location.find('input').length) {\n      let place = $location.find('input').val();\n      if (place) {\n        formData.push({\n          type: 'location',\n          text: place,\n          value: place\n        });\n      }\n    }\n\n    $tags.find('input:checked').each(function() {\n      formData.push({'type': 'tag', 'value': $(this).val(), 'text': $(this).siblings(\"label\").text()});\n    });\n\n    return formData;\n  }\n\n  function clearDeactivatedFilter(args) {\n    let $form = $(args.$form),\n      $place = $form.find('.js-filter-by-location'),\n      $tags = $form.find('.js-filter-by-tags'),\n      clearedFilter = args.clearedFilter;\n\n    // If the cleared filter button was for a location filter.\n    if (clearedFilter.type === 'location') {\n      $place.find('input').val(\"\");\n      return;\n    }\n\n    // If the cleared filter button was for a tag filter.\n    if (clearedFilter.type === 'tag') {\n      $tags.find('input[type=checkbox][value=' + clearedFilter.value + ']').prop('checked', false);\n    }\n  }\n\n  function clearForm(args) {\n    let $form = $(args.$form),\n      $tags = $('.js-filter-by-tags', $form),\n      $place = $('.js-filter-by-location', $form).find('input');\n\n    // Clear location text input.\n    if ($place.length) {\n      $place.val(\"\");\n    }\n    // Uncheck all checked tags inputs.\n    $tags.find('input:checked').prop('checked', false);\n  }\n\n  function pushFilterState(filters, isFormSubmit) {\n    let params = new URLSearchParams(window.location.search);\n    let pageNum = params.get('page');\n\n    if (isFormSubmit) {\n      pageNum = 1;\n      params.set('page', pageNum);\n    }\n\n    params.delete('location');\n    params.delete('tags');\n\n    if (filters.length) {\n      let tagFilters = [];\n      filters.forEach((filter) => {\n        if (filter.type === 'location') {\n          params.set('location', filter.value);\n        }\n        if (filter.type === 'tag') {\n          tagFilters.push(filter.value + ':' + filter.text);\n        }\n      });\n\n      params.set('tags', tagFilters.join(','));\n    }\n\n    history.pushState(\n      { page: pageNum },\n      `${document.title} | page ${pageNum}`, `${window.location.origin}${window.location.pathname}?${params.toString()}`\n    );\n  }\n\n})(window,document,jQuery);\n","import sticky from \"../helpers/sticky.js\";\nimport listings from \"../helpers/listing.js\";\n\nexport default (function (window, document, $) {\n  // Active state classes for location listing rows.\n  let activeClass = \"is-active\",\n    markerActiveClass = \"is-marker-bounce\",\n    // Selectors for event listeners on dynamic content.\n    row = \".js-location-listing-link\",\n    activeLocationListingRow = row + \".\" + activeClass,\n    markerActiveLocationListingRow = row + \".\" + markerActiveClass,\n    // Parent component selectors.\n    container = \".js-location-listing-results\",\n    parent = \".js-image-promos\",\n    mapCol = \".js-location-listing-map\";\n\n  $(\".js-location-listing\").each(function (i) {\n    let $el = $(this),\n      $mapCol = $el.find(\".js-location-listing-map\"),\n      $map = $el.find(\".js-google-map\"),\n      $resultsHeading = $el.find(\".js-results-heading\"),\n      $pagination = $el.find(\".js-pagination\"),\n      $locationFilter = $el.find(\".js-location-filters\");\n\n    sticky.init($mapCol);\n\n    // Get the location listing component data (this could be replaced with an api)\n    const rawData = ma.locationListing[i]; // Data object created in @organisms/by-author/location-listing.twig\n\n    let masterData = []; // master data structure to preserve state\n    // Listen for map initialization, populate master data structure using locationListing, map markers.\n    $map.on(\"ma:GoogleMap:MapInitialized\", function (e, markers) {\n      masterData = populateMasterDataSource(rawData, markers); // to preserve state\n    });\n\n    // Listen for Google Map api library load completion, with geocode, geometry, and places libraries\n    $(document).on(\"ma:LibrariesLoaded:GoogleMaps\", function () {\n      // Set up click handler for location listing rows.\n      $el.on(\"click\", row, function (e) {\n        // If the link has an href, allow the normal link functionality\n        // and exit event handler.\n        if (e.target.href) {\n          e.stopImmediatePropagation();\n          return;\n        }\n\n        let index = $(e.currentTarget).index();\n\n        // Trigger map to recenter on this item based on it's index.\n        $map.trigger(\"ma:GoogleMap:MapRecenter\", index);\n\n        // Mark this link as active.\n        $el.find(activeLocationListingRow).removeClass(activeClass);\n        // In case the event is triggered on a child element.\n        $(e.currentTarget).addClass(activeClass);\n      });\n\n      // Set up hover / focus event for listing rows.\n      $el.on(\"mouseenter focusin\", row, function (e) {\n        // Remove active state from previously selected list item.\n        $el.find(activeLocationListingRow).removeClass(activeClass);\n\n        // Remove \"focus\" class from any \"focused\" location listing row.\n        // (\"focus\" vs focus because hover doesn't bring focus to element.)\n        $el.find(markerActiveLocationListingRow).removeClass(markerActiveClass);\n\n        // Focus moved into listing for first time, so flag with class, recenter + bounce marker.\n        $(e.currentTarget).addClass(markerActiveClass);\n        let index = $(e.currentTarget).index();\n\n        // Trigger map to recenter on this item and make the marker bounce\n        $map.trigger(\"ma:GoogleMap:MarkerBounce\", index);\n      });\n\n      // Remove \"focus\" class from any \"focused\" location listing row.\n      $el.on(\"mouseleave\", row, function (e) {\n        $el.find(markerActiveLocationListingRow).removeClass(markerActiveClass);\n      });\n\n      // Handle location listings form interaction (triggered by locationFilters.js).\n      $locationFilter.on(\"ma:LocationFilter:FiltersUpdated\", function (e, formValues, resetValues) {\n        // Only update things if masterData contains data.\n        if (masterData.items && masterData.items.length > 0) {\n          // transformData() returns a jQuery deferred object which allows us to wait for any asynchronous js execution to return before executing the .done(callback).\n          // @see: https://api.jquery.com/deferred.done/\n          transformData(masterData, formValues).done(function (transformation) {\n            let page = 1;\n            if (!resetValues) {\n              page = parseInt(getPage(), 10);\n            }\n            masterData = transformation.data; // preserve state\n            // Update the results heading based on the current items state.\n            transformation.data.resultsHeading = listings.transformResultsHeading({\n              data: transformation.data,\n              page: page\n            });\n            // Update pagination data structure, reset to first page\n            transformation.data.pagination = listings.transformPaginationData({\n              data: transformation.data,\n              targetPage: page\n            });\n            // Render the listing page.\n            listings.renderListingPage({data: transformation.data, page: page});\n            // Get the associated markers based on the listing items.\n            transformation.markers = getActiveMarkers({data: transformation.data, page: page});\n            // Trigger child components render with updated data\n            updateChildComponents(transformation);\n          });\n        }\n      });\n\n      // Handle active filter/tag button interactions (triggered by resultsHeading.js).\n      $resultsHeading.on(\"ma:ResultsHeading:ActiveTagClicked\", function (e, clearedFilter) {\n        // transformData() returns a jQuery deferred object which allows us to wait for any asynchronous js execution to return before executing the .done(callback).\n        // @see: https://api.jquery.com/deferred.done/\n        transformData(masterData, clearedFilter).done(function (transformation) {\n          masterData = transformation.data; // preserve state\n          transformation.clearedFilter = clearedFilter;\n\n          masterData = transformation.data; // preserve state\n          // Update the results heading based on the current items state.\n          transformation.data.resultsHeading = listings.transformResultsHeading({ data: transformation.data });\n          // Update pagination data structure, reset to first page\n          transformation.data.pagination = listings.transformPaginationData({ data: transformation.data });\n          // Render the listing page.\n          listings.renderListingPage({ data: transformation.data });\n          // Get the associated markers based on the listing items.\n          transformation.markers = getActiveMarkers({ data: transformation.data });\n          // Trigger child components render with updated data\n          updateChildComponents(transformation);\n        });\n      });\n\n      function handlePagination(e, target) {\n        let nextPage = parseInt(target, 10);\n        // If this is happening during page load, e will be null, and focus should not be updated.\n        let focus = !!e;\n\n        masterData.pagination = listings.transformPaginationData({ data: masterData, targetPage: nextPage });\n        masterData.resultsHeading = listings.transformResultsHeading({ data: masterData, page: nextPage });\n        listings.renderListingPage({ data: masterData, page: nextPage, focus });\n\n        let markers = getActiveMarkers({ data: masterData, page: nextPage });\n        // Trigger child components render with updated data\n        updateChildComponents({ data: masterData, markers: markers });\n      }\n\n      function getPage() {\n        let defaultPage = 1;\n        let params = new URLSearchParams(window.location.search);\n        if (history.state) {\n          defaultPage = history.state.page;\n        }\n        if (params) {\n          defaultPage = params.get(\"_page\");\n        }\n        return defaultPage;\n      }\n\n      // Handle pagination event (triggered by pagination.js), render targetPage.\n      $pagination.on(\"ma:Pagination:Pagination\", handlePagination);\n      let defaultPage = getPage();\n\n      handlePagination(null, defaultPage);\n    });\n\n    // Trigger events to update child components with new data.\n    function updateChildComponents(args) {\n      $resultsHeading.trigger(\"ma:ResultsHeading:DataUpdated\", [args.data.resultsHeading]);\n      $map.trigger(\"ma:GoogleMap:MarkersUpdated\", [{ markers: args.markers, place: args.place }]);\n      $pagination.trigger(\"ma:Pagination:DataUpdated\", [args.data.pagination]);\n      if (args.clearedFilter) {\n        $locationFilter.trigger(\"ma:FormFilter:DataUpdated\", [args.clearedFilter]);\n      }\n    }\n  });\n\n  /**\n   * Data initialization.\n   */\n\n  /**\n   * Returns a master data structure with page level / listing item level data and markup, to reflect component state.\n   *\n   * @param listing\n   *   The locationListing data structure to use as a source\n   * @param markers\n   *   The array of map markers created by component google map (googleMaps.js module)\n   * @returns {Array}\n   *   An array with the following structure:\n   *    [\n   *      maxItems: the max number of items to show per listing \"page\" if provided, defaults to all\n   *      totalPages: the number of pages of items that should render, given the current filters\n   *      resultsHeading: the data structure necessary to render a resultsHeading component\n   *      items: an array of listing items [\n   *        isActive: whether or not the listing should be shown, given current filters state\n   *        page: the page that the listing, if active, will appear on, given the current sort order\n   *        promo: the data structure for the imagePromo component\n   *        markup: the compiled imagePromo markup\n   *        marker: the related map marker data structure for the listing item\n   *      ]\n   *      pagination: the data structure necessary to render a pagination component\n   *      selectors: the selectors for the listing, listing items, listing row, and map\n   *    ]\n   */\n  function populateMasterDataSource(listing, markers) {\n    // Populate master data structure\n    let masterData = [];\n\n    // Ensure locationListing.imagePromos.items is an array (the twig template json_encode()'s a php array)\n    let promosArray = [];\n    $.map(listing.imagePromos.items, function (val, index) { promosArray[index] = val; });\n    listing.imagePromos.items = promosArray;\n\n    // Ensure locationListing.pagination.pages is an array (the twig template json_encode()'s a php array)\n    let pages = [];\n    $.map(listing.pagination.pages, function (val, index) { pages[index] = val; });\n    listing.pagination.pages = pages;\n\n\n    let masterListing = listing.imagePromos.items;\n\n    let masterListingMarkup = listings.transformListing(masterListing, \"locationListingRow\");\n    // The max number of items per page, if designated in locationListing data structure, else all\n    masterData.maxItems = listing.maxItems ? listing.maxItems : listing.imagePromos.items.length;\n    // The initial results heading data structure\n    masterData.resultsHeading = listing.resultsHeading;\n    // The array of items and their respective page, in/active status, marker data, imagePromo data, and markup\n    masterData.items = getMasterListingWithMarkupAndMarkers(masterListing, masterListingMarkup, markers, masterData.maxItems);\n    // The initial pagination data structure;\n    masterData.pagination = listing.pagination;\n    // The total number of pages, given the number of items and the maxItems variable\n    masterData.totalPages = Math.ceil(masterData.items.length / masterData.maxItems);\n    // Set the selector properties necessary to render\n    masterData.selectors = {};\n    masterData.selectors.container = container;\n    masterData.selectors.parent = parent;\n    masterData.selectors.row = row;\n    masterData.selectors.map = mapCol;\n\n    return masterData;\n  }\n\n  /**\n   * Creates the master data structure items array\n   *\n   * @param listing\n   *   The locationListing data structure\n   * @param markup\n   *   The generated array of item markup\n   * @param markers\n   *   The associated map markers for each item\n   * @param max\n   *   The maximum number of items per page\n   * @returns {Array}\n   *  An array of listing items with the following structure:\n   *  [\n   *      isActive: whether or not the listing should be shown, given current filters state\n   *      page: the page that the listing, if active, will appear on, given the current sort order\n   *      promo: the data structure for the imagePromo component\n   *      markup: the compiled imagePromo markup\n   *      marker: the related map marker data structure for the listing item\n   *   ]\n   */\n  function getMasterListingWithMarkupAndMarkers(listing, markup, markers, max) {\n    let items = [];\n    markers.forEach(function (item, index) {\n      items[index] = {\n        isActive: true, // @todo consider checking for this in case of server side preprocessing of state\n        page: Math.ceil((index + 1) / max),\n        marker: item,\n        markup: markup[index],\n        data: listing[index]\n      };\n    });\n    return items;\n  }\n\n  /**\n   * Data transformation.\n   */\n\n  /**\n   * The main data transformation wrapper, returns an instance of masterData which reflects the component state.\n   *\n   * @param data\n   *  An instance of masterData to start from.\n   * @param transformation\n   *  An object representing the change in state (locationFilter form data, resultsHeading tag interaction, etc.)\n   *\n   * @returns {{data: *, markers: *}}\n   *  An object with the current state masterData instance and an array of their related sorted markers to send to map.\n   */\n  function transformData(data, transformation) {\n    // This data transformation potentially involves asynchronous google geocoding.\n    // This jQuery deferered object allows us to wait for a return before moving on inside of the parent function (which invokes this function).\n    // @see https://api.jquery.com/jquery.deferred/\n    let promise = $.Deferred();\n    let transformReturn = {};\n\n    // First filter the data based on component state, then sort alphabetically by default.\n    let filteredData = listings.filterListingData(data, transformation),\n      sortedData = listings.sortDataAlphabetically(filteredData),\n      place = \"\";\n\n    // Sort data by location, if that filter is present.\n    if (listings.hasFilter(filteredData.resultsHeading.tags, \"location\")) {\n      place = listings.getFilterValues(filteredData.resultsHeading.tags, \"location\")[0]; // returns array\n      // If place argument was selected from the locationFilter autocomplete (initiated on the zipcode text input).\n      if (typeof ma.autocomplete !== \"undefined\") {\n        let autocompletePlace = ma.autocomplete.getPlace();\n      }\n      // Geocode the address, then sort the markers and instance of locationListing masterData.\n      ma.geocoder = ma.geocoder ? ma.geocoder : new google.maps.Geocoder();\n      if (typeof autocompletePlace !== \"undefined\" && autocompletePlace.hasOwnProperty(\"place_id\")) {\n        // This is an asynchronous function\n        listings.geocodePlaceId(autocompletePlace.place_id, function (result) {\n          transformReturn.data = sortDataAroundPlace(result, filteredData);\n          transformReturn.geocode = result;\n          // Return the data sorted by location and the geocoded place object\n          promise.resolve(transformReturn);\n        });\n      }\n      // If place argument was populated from locationFilter (zipcode text input) but not from Place autocomplete.\n      else {\n        // This is an asynchronous function\n        var reasonable_formatted_location = place + \" MA, USA\";\n        listings.geocodeAddressString(reasonable_formatted_location, function (result) {\n          transformReturn.data = sortDataAroundPlace(result, filteredData);\n          transformReturn.geocode = result;\n          // Return the data sorted by location and the geocoded place object\n          promise.resolve(transformReturn);\n        });\n      }\n    }\n    else {\n      // Return the data sorted by alphabet and the empty place object\n      promise.resolve({ data: sortedData, place: place });\n    }\n\n    return promise;\n  }\n\n  /**\n   * Returns the markers which correspond to a given \"page\" of location listing data.\n   *\n   * @param args\n   *  An object with the following structure:\n   *    {\n   *      data: instance of filtered, sorted masterData off of which to base markers\n   *      page: the target page of items/markers to render\n   *    }\n   *\n   * @returns\n   *   An array of corresponding map marker objects which should be rendered\n   */\n  function getActiveMarkers(args) {\n    let data = args.data,\n      page = args.page ? args.page : 1; // default to first page if non provided\n\n    // Get just the markers from our active sorted/filtered data listing.\n    return data.items.filter(function (item) {\n      return item.isActive && item.page === page;\n    }).map(function (item) {\n      return item.marker;\n    });\n  }\n\n  /**\n   * Returns instance of location listing masterData, sorted proximity to place.\n   *\n   * @param geocode\n   *   The geocode information by which to sort.\n   * @param data\n   *   The instance of location listing masterData.\n   * @returns {*}\n   *   Sorted instance of location listing masterData.\n   */\n  function sortDataAroundPlace(geocode, data) {\n    // Get all existing marker distance from place, assign as marker property.\n    for (let key in data.items) {\n      if (data.items.hasOwnProperty(key)) {\n        data.items[key].marker.distance = google.maps.geometry.spherical.computeDistanceBetween(geocode.geometry.location, data.items[key].marker.getPosition());\n      }\n    }\n\n    // Sort existing markers by closest to the place.\n    data.items.sort(function (a, b) {\n      return a.marker.distance - b.marker.distance;\n    });\n\n    // Update each location listing item's page number based on new marker sort order.\n    let paginated = listings.paginateItems(data.items, data.maxItems);\n    data.items = paginated.items;\n    data.totalPages = paginated.totalPages;\n    data.place = geocode;\n\n    // Return the newly sorted instance of location listing masterData.\n    return data;\n  }\n}) (window, document, jQuery);\n","export default (function (window, document, $, undefined) {\r\n\r\n  let windowWidth = window.innerWidth;\r\n\r\n  $(window).resize(function () {\r\n    windowWidth = window.innerWidth;\r\n  });\r\n\r\n  $('.js-main-nav').each(function () {\r\n    let openClass = \"is-open\",\r\n      hasFocus = \"has-focus\",\r\n      closeClass = \"is-closed\",\r\n      submenuClass = \"show-submenu\",\r\n      $parent = $(this),\r\n      $mainNavItem = $parent.find('.js-main-nav-toggle'),\r\n      breakpoint = 840; // matches CSS breakpoint for Main Nav\r\n\r\n    $mainNavItem.on('keydown', function (e) {\r\n      // Grab all the DOM info we need...\r\n      let $link = $(this),\r\n        $otherLinks = $mainNavItem.not($link),\r\n        $topLevelLinks = $parent.find('.ma__main-nav__top-link'),\r\n        open = $link.hasClass(openClass),\r\n        $openContent = $parent.find('.js-main-nav-content.' + openClass),\r\n        $focusedElement = $(document.activeElement),\r\n        menuFlipped = (windowWidth < breakpoint),\r\n        // relevant if open..\r\n        $topLevelItem = $focusedElement.parents('.ma__main-nav__item'),\r\n        $topLevelLink = $topLevelItem.find('.ma__main-nav__top-link'),\r\n        $dropdownLinks = $link.find('.ma__main-nav__subitem .ma__main-nav__link'),\r\n        dropdownLinksLength = $dropdownLinks.length,\r\n        focusIndexInDropdown = $dropdownLinks.index($focusedElement),\r\n        // Easy access to the key that was pressed.\r\n        keycode = e.keyCode,\r\n        action = {\r\n          'skip': keycode === 9, // tab\r\n          'close': keycode === 27, // esc\r\n          'left': keycode === 37, // left arrow\r\n          'right': keycode === 39, // right arrow\r\n          'up': keycode === 38, // up arrow\r\n          'down': keycode === 40, // down arrow\r\n          'space': keycode === 32, //space\r\n          'enter': keycode === 13 // enter\r\n        };\r\n\r\n      // Default behavior is prevented for all actions except 'skip'.\r\n      if (action.close || action.left || action.right || action.up || action.down) {\r\n        e.preventDefault();\r\n      }\r\n\r\n      if (action.enter || action.space) {\r\n        $link.addClass(hasFocus);\r\n        $otherLinks.removeClass(hasFocus);\r\n      }\r\n\r\n      if (action.skip) {\r\n        console.log(focusIndexInDropdown);\r\n      }\r\n\r\n      if (action.skip && dropdownLinksLength === (focusIndexInDropdown + 1)) {\r\n        console.log(focusIndexInDropdown);\r\n        hide($openContent);\r\n        $topLevelLink.attr('aria-expanded', 'false');\r\n        $link.removeClass(hasFocus);\r\n        return;\r\n      }\r\n\r\n      // if (action.skip && focusIndexInDropdown === -1) {\r\n      //   console.log('back');\r\n      // }\r\n\r\n      // Navigate into or within a submenu. This is needed on up/down actions\r\n      // (unless the menu is flipped and closed) and when using the right arrow\r\n      // while the menu is flipped and submenu is closed.\r\n      if (((action.up || action.down) && !(menuFlipped && !open))\r\n        || (action.right && menuFlipped && !open)) {\r\n        // Open pull down menu if necessary.\r\n        if (!open && !$link.hasClass(hasFocus)) {\r\n          show($topLevelItem.find('.js-main-nav-content'));\r\n          $topLevelLink.attr('aria-expanded', 'true');\r\n          $link.addClass(openClass);\r\n        }\r\n\r\n        // Adjust index of active menu item based on performed action.\r\n        focusIndexInDropdown += (action.up ? -1 : 1);\r\n        // If the menu is flipped, skip the last item in each submenu. Otherwise,\r\n        // skip the first item. This is done by repeating the index adjustment.\r\n        if (menuFlipped) {\r\n          if (focusIndexInDropdown === dropdownLinksLength - 1) {\r\n            focusIndexInDropdown += (action.up ? -1 : 1);\r\n          }\r\n        } else {\r\n          if (focusIndexInDropdown === 0 || focusIndexInDropdown >= dropdownLinksLength) {\r\n\r\n            focusIndexInDropdown += (action.up ? -1 : 1);\r\n          }\r\n        }\r\n        // Wrap around if at the end of the submenu.\r\n        focusIndexInDropdown = ((focusIndexInDropdown % dropdownLinksLength) + dropdownLinksLength) % dropdownLinksLength;\r\n        $dropdownLinks[focusIndexInDropdown].focus();\r\n        return;\r\n      }\r\n\r\n      // Close menu and return focus to menubar\r\n      if (action.close || (menuFlipped && action.left)) {\r\n        hide($openContent);\r\n        $link.removeClass(openClass);\r\n        $link.removeClass(hasFocus);\r\n        $topLevelLink.focus().attr('aria-expanded', 'false');\r\n        return;\r\n      }\r\n\r\n      // Navigate between submenus. This is needed for left/right actions in\r\n      // normal layout, or up/down actions in flipped layout (when nav is closed).\r\n      if (((action.left || action.right) && !menuFlipped) ||\r\n        ((action.up || action.down) && menuFlipped && !open)) {\r\n        let index = $topLevelLinks.index($topLevelLink),\r\n          prev = action.left || action.up,\r\n          linkCount = $topLevelLinks.length;\r\n\r\n        // hide content\r\n        // If menubar focus\r\n        //  - Change menubar item\r\n        //\r\n        // If dropdown focus\r\n        //  - Open previous pull down menu and select first item\r\n        hide($openContent);\r\n        $topLevelLink.attr('aria-expanded', 'false');\r\n        $link.removeClass(hasFocus);\r\n        // Get previous item if left arrow, next item if right arrow.\r\n        index += (prev ? -1 : 1);\r\n        // Wrap around if at the end of the set of menus.\r\n        index = ((index % linkCount) + linkCount) % linkCount;\r\n        $topLevelLinks[index].focus();\r\n        return;\r\n      }\r\n\r\n    })\r\n      .on('mouseenter', function (e) {\r\n        $(this).children('button').attr(\"aria-expanded\", \"true\");\r\n        $('.has-focus').removeClass('has-focus');\r\n\r\n        if (windowWidth > breakpoint) {\r\n          let $openContent = $(this).find('.js-main-nav-content');\r\n          show($openContent);\r\n        }\r\n      })\r\n      .on('mouseleave', function (e) {\r\n        $(this).children('button').attr(\"aria-expanded\", \"false\");\r\n\r\n        if (windowWidth > breakpoint) {\r\n          let $openContent = $(this).find('.js-main-nav-content');\r\n          hide($openContent);\r\n        }\r\n      });\r\n\r\n    $mainNavItem.children('button, a').on('click', function (e) {\r\n      let $el = $(this),\r\n        $elParent = $el.parent(),\r\n        $content = $elParent.find('.js-main-nav-content'),\r\n        $openContent = $parent.find('.js-main-nav-content.' + openClass),\r\n        isOpen = $content.hasClass(openClass);\r\n\r\n      // mobile\r\n      if (windowWidth <= breakpoint) {\r\n        e.preventDefault();\r\n        // add open class to this item\r\n        $elParent.addClass(openClass);\r\n        show($content);\r\n        $el.attr('aria-expanded', 'true');\r\n      } else {\r\n        hide($openContent);\r\n        $el.attr('aria-expanded', 'false');\r\n\r\n        if (!isOpen) {\r\n          show($content);\r\n          $el.attr('aria-expanded', 'true');\r\n        }\r\n      }\r\n    });\r\n\r\n    $('.js-close-sub-nav').on('click', function () {\r\n      let $openContent = $parent.find('.js-main-nav-content.' + openClass);\r\n      hide($openContent);\r\n    });\r\n\r\n    // Hide any open submenu content when the sidebar menu is closed\r\n    $('.js-header-menu-button').click(function () {\r\n      let $openContent = $parent.find('.js-main-nav-content.' + openClass);\r\n      hide($openContent);\r\n\r\n      $('.ma__utility-nav__content').addClass('is-closed');\r\n    });\r\n\r\n    function hide($content) {\r\n      $('body').removeClass(submenuClass);\r\n      $parent.find(\".\" + openClass).removeClass(openClass);\r\n\r\n      if (windowWidth <= breakpoint) {\r\n        $content.addClass(closeClass);\r\n      } else {\r\n        $content\r\n          .stop(true, true)\r\n          .slideUp('fast', function () {\r\n            $content\r\n              .addClass(closeClass)\r\n              .slideDown(0);\r\n          });\r\n      }\r\n    }\r\n\r\n    function show($content) {\r\n      $('body').addClass(submenuClass);\r\n      if (windowWidth <= breakpoint) {\r\n        $content\r\n          .addClass(openClass)\r\n          .removeClass(closeClass);\r\n      } else {\r\n        $content\r\n          .stop(true, true)\r\n          .delay(200)\r\n          .slideUp(0, function () {\r\n            $content\r\n              .addClass(openClass)\r\n              .removeClass(closeClass)\r\n              .slideDown('fast');\r\n          });\r\n      }\r\n    }\r\n\r\n\r\n  });\r\n\r\n})(window, document, jQuery);\r\n","const body = document.querySelector(\"body\");\nlet width = body.clientWidth;\nconst menuButton = document.querySelector(\".js-header-menu-button\");\nlet menuButtonText = document.querySelectorAll(\".js-header__menu-text\");\nlet buttonLabel;\nconst hamburgerMenuContainer = document.querySelector(\".ma__header__hamburger__nav-container\");\nconst feedbackButton = document.querySelector(\".ma__fixed-feedback-button\");\nlet menuItems = document.querySelectorAll(\".js-main-nav-hamburger-toggle\");\nconst menuOverlay = document.querySelector(\".menu-overlay\");\nlet utilNavWide = document.querySelector(\".js-utility-nav--wide\");\nconst jumpToSearchButton = document.querySelector(\".js-header-search-access-button\");\nconst hamburgerSearchInput = document.getElementById(\"nav-search\");\nconst hamburgerMainNav = document.querySelector('.ma__header__hamburger__main-nav');\nlet emergencyAlerts = document.querySelector('.ma__emergency-alerts');\nlet alertHeight = document.querySelector('.ma__emergency-alerts').clientHeight;\n\nwindow.addEventListener(\"DOMContentLoaded\", function() {\n  console.log('loaded!:');\n  if (hamburgerMainNav !== null && alertHeight !== null) {\n    console.log('loaded height: ' + alertHeight);\n    hamburgerMainNav.style.paddingBottom = alertHeight + 'px';\n  }\n});\n\nconst alertObserver = new MutationObserver(function(mutations) {\n  mutations.forEach(function(mutationRecord) {\n    alertHeight = document.querySelector('.ma__emergency-alerts').clientHeight;\n    console.log('observed height: ' + alertHeight);\n    if (hamburgerMainNav !== null && alertHeight !== null) {\n      hamburgerMainNav.style.paddingBottom = alertHeight + 'px';\n    }\n  });\n});\n\nalertObserver.observe(emergencyAlerts, { attributes : true });\n\nif (null !== menuButtonText) {\n  buttonLabel = menuButtonText.textContent;\n}\n\n// Open and close the menu\nif (null !== menuButton) {\n  menuButton.addEventListener(\"click\", function (event) {\n    event.preventDefault();\n\n    // This control the visibility of the dropdown to keyboard and screen reader users while maintaining the show/hide animation effect.\n    hamburgerMenuContainer.toggleAttribute(\"aria-hidden\");\n\n    if (body.classList.contains(\"show-menu\")) {\n      closeMenu();\n      document.querySelector(\".js-utility-nav--wide .ma__utility-nav__item  .goog-te-menu-value\").removeAttribute(\"tabindex\");\n      document.querySelector(\".js-utility-nav--wide .ma__utility-nav__item  .direct-link\").removeAttribute(\"tabindex\");\n      document.querySelector(\".js-utility-nav--wide .ma__utility-nav__item  .js-util-nav-toggle\").removeAttribute(\"tabindex\");\n\n      setTimeout(function timeoutFunction() {\n        document.querySelector(\".js-header-menu-button\").focus();\n      }, 100);\n    } else {\n      openMenu();\n\n      // Set focus on hamburger menu container.\n      // Then, next tabbing takes a user to the first focusable element in the menu container.\n      // setTimeout(function timeoutFunction() {\n      //   hamburgerMenuContainer.focus();\n      // }, 90);\n\n      // These don't work:\n      // document.querySelectorAll(\".js-utility-nav--wide .ma__utility-nav__item a\").setAttribute(\"tabindex\", \"-1\");;\n      // document.querySelectorAll(\".js-utility-nav--wide .ma__utility-nav__item button\").setAttribute(\"tabindex\", \"-1\");\n\n      // alternalte above 2 lines.\n      document.querySelector(\".js-utility-nav--wide .ma__utility-nav__item  .goog-te-menu-value\").setAttribute(\"tabindex\", \"-1\");\n      document.querySelector(\".js-utility-nav--wide .ma__utility-nav__item  .direct-link\").setAttribute(\"tabindex\", \"-1\");\n      document.querySelector(\".js-utility-nav--wide .ma__utility-nav__item  .js-util-nav-toggle\").setAttribute(\"tabindex\", \"-1\");\n    }\n  });\n\n  // menuButton.addEventListener(\"keydown\", function (e) {\n  //   if (e.key === \"Enter\" || e.which === \"13\") {\n\n  //     console.log(menuButton.getAttribute(\"aria-expanded\"));\n\n  //     if (menuButton.getAttribute(\"aria-expanded\") === \"false\") {\n  //       // openMenu();\n\n  //       // Opening menu button with enter is set somewhere else. Cannot find where.\n  //       // Set focus on hamburger menu container.\n  //       // Then, next tabbing takes a user to the first focusable element in the menu container.\n  //       setTimeout(function timeoutFunction() {\n  //         // hamburgerMenuContainer.focus();\n  //         document.querySelector(\".ma__header__hamburger__nav-container\").focus();\n\n  //         console.log(document.activeElement);\n  //       }, 1000);\n  //     } else {\n  //       closeMenu();\n  //       menuButton.focus();\n  //     }\n  //   }\n  // });\n\n  // =============== exisiting code below\n  // menuButton.addEventListener(\"keydown\", function (e) {\n\n    // if (e.code == 'ArrowDown') {\n    //   event.preventDefault();\n    //   openMenu();\n\n    //   if (window.innerWidth > 620) {\n    //     setTimeout(function timeoutFunction() {\n    //       menuItems[0].querySelector(\".js-main-nav-hamburger__top-link\").focus();\n    //     }, 500);\n    //   } else {\n    //     setTimeout(function timeoutFunction() {\n    //       document.querySelector('.js-header__nav-search input').focus();\n    //     }, 500);\n    //   }\n    // }\n\n    // NOTE: This causes a keyboard trap at the menu open/close button.\n    // if (e.code == 'Tab') {\n    //   e.preventDefault();\n    //   document.querySelector('.ma__header__hamburger-search__input').focus();\n    // }\n\n    // if (e.shiftKey && e.code == \"Tab\") {\n    //   closeMenu();\n    // }\n\n    // if (e.code == \"Escape\" || e.which == \"27\") {\n    //   closeMenu();\n    // }\n  // });\n}\n\n[].forEach.call(menuItems, function (item) {\n\n  const itemButton = item.querySelector(\".js-main-nav-hamburger__top-link\");\n  const subMenu = item.querySelector(\".js-main-nav-hamburger-content\");\n  const subItems = subMenu.querySelector(\".js-main-nav-hamburger__container\");\n  let subMenuItems = subMenu.querySelectorAll(\".js-main-nav-hamburger__subitem\");\n\n  subItems.style.opacity = \"0\";\n\n  itemButton.addEventListener(\"click\", function (e) {\n    if (item.classList.contains(\"submenu-open\")) {\n      item.classList.remove(\"submenu-open\");\n      itemButton.setAttribute(\"aria-expanded\", \"false\");\n      item.style.pointerEvents = \"none\";\n\n      setTimeout(function timeoutFunction() {\n        item.removeAttribute(\"style\");\n      }, 700);\n    } else {\n      item.classList.add(\"submenu-open\");\n      itemButton.setAttribute(\"aria-expanded\", \"true\");\n      item.style.pointerEvents = \"none\";\n      setTimeout(function timeoutFunction() {\n        item.removeAttribute(\"style\");\n      }, 700);\n    }\n\n\n    if (subMenu.classList.contains(\"is-closed\")) {\n\n      /** Show the subMenu. */\n\n      subMenu.classList.remove(\"is-closed\");\n      subMenu.style.height = \"auto\";\n\n      /** Get the computed height of the subMenu. */\n      var height = subMenu.clientHeight + \"px\";\n\n\n      /** Set the height of the submenu as 0px, */\n      /** so we can trigger the slide down animation. */\n      subMenu.style.height = \"0\";\n\n      setTimeout(function timeoutFunction() {\n        subMenu.style.height = height;\n        subItems.style.opacity = \"1\";\n      }, 50);\n\n      /** Close Utility menu content when a sub menu is open. */\n      closeNarrowUtilContent();\n\n      /** Slide up. */\n    } else {\n      subMenu.style.height = \"0\";\n      subItems.style.opacity = \"0\";\n\n      setTimeout(function timeoutFunction() {\n        subMenu.classList.add(\"is-closed\");\n\n      }, 500);\n    }\n  });\n\n  itemButton.addEventListener(\"keydown\", function (e) {\n\n    if (e.code == \"ArrowDown\") {\n      let first = subItems.getElementsByTagName(\"li\")[0];\n      first.querySelector(\".js-main-nav-hamburger__link\").focus();\n    }\n\n    if (e.code == \"Escape\" || e.which == \"27\") {\n      if (item.classList.contains(\"submenu-open\")) {\n        subItems.style.opacity = \"0\";\n        subMenu.style.height = \"0\";\n        itemButton.parentElement.classList.remove(\"submenu-open\");\n        itemButton.setAttribute(\"aria-expanded\", \"false\");\n\n        setTimeout(function timeoutFunction() {\n          subMenu.classList.add(\"is-closed\");\n        }, 500);\n\n      }\n      else {\n        closeMenu();\n      }\n    }\n\n    if (e.shiftKey && e.code == \"Tab\") {\n      subItems.style.opacity = \"0\";\n      subMenu.style.height = \"0\";\n      item.classList.remove(\"submenu-open\");\n      itemButton.setAttribute(\"aria-expanded\", \"false\");\n\n      setTimeout(function timeoutFunction() {\n        subMenu.classList.add(\"is-closed\");\n      }, 500);\n    }\n\n    if (width > 840 && e.key == \"Tab\") {\n      if (!itemButton.parentElement.nextElementSibling\n      && !itemButton.parentElement.classList.contains(\"submenu-open\")) {\n        closeMenu();\n      }\n    }\n  });\n\n  [].forEach.call(subMenuItems, function (subItem) {\n    const prevSib = subItem.previousElementSibling;\n    const nextSib = subItem.nextElementSibling;\n\n    subItem.addEventListener(\"keydown\", function (e) {\n\n      switch (e.code) {\n        case \"ArrowUp\":\n        case \"ArrowLeft\":\n          if (subItem === prevSib) {\n            prevSib.querySelector(\".js-main-nav-hamburger__link\").focus();\n          }\n          break;\n        case \"ArrowDown\":\n        case \"ArrowRight\":\n          if (subItem === nextSib) {\n            nextSib.querySelector(\".js-main-nav-hamburger__link\").focus();\n          }\n          break;\n        case \"Escape\":\n          itemButton.focus();\n\n           break;\n      }\n    });\n  });\n});\n\nif (null !== jumpToSearchButton) {\n  jumpToSearchButton.addEventListener(\"click\", function(e) {\n    // This control the visibility of the dropdown to keyboard and screen reader users while maintaining the show/hide animation effect.\n    hamburgerMenuContainer.toggleAttribute(\"aria-hidden\");\n\n    if (body.classList.contains(\"show-menu\")) {\n      closeMenuJumpToSearch();\n      // Set focus back on the jumpToSearchButton button since the input gets hidden by closing the menu.\n      jumpToSearchButton.focus();\n    } else {\n      openMenuJumpToSearch();\n      // Set focus on the search input field.\n      setTimeout(function timeoutFunction() {\n        document.getElementById(\"nav-search\").focus();\n      }, 90);\n    }\n  });\n}\n\nfunction closeMenu() {\n  commonCloseMenuTasks();\n  menuButton.setAttribute(\"aria-pressed\", \"false\");\n}\n\nfunction closeMenuJumpToSearch() {\n  commonCloseMenuTasks();\n  jumpToSearchButton.setAttribute(\"aria-pressed\", \"false\");\n}\n\nfunction commonCloseMenuTasks() {\n  body.classList.remove(\"show-menu\");\n\n  menuButtonText[0].textContent = \"Menu\";\n  menuButtonText[1].textContent = \"Mass.gov\";\n\n  menuButton.setAttribute(\"aria-expanded\", \"false\");\n  menuButton.setAttribute(\"aria-label\", \"Open the main menu for mass.gov\");\n\n  if (feedbackButton) {\n    feedbackButton.classList.remove(\"hide-button\");\n  }\n  jumpToSearchButton.setAttribute(\"aria-expanded\", \"false\");\n  if (menuOverlay) {\n    menuOverlay.classList.remove(\"overlay-open\");\n  }\n}\n\nfunction openMenu() {\n  commonOpenMenuTasks();\n  menuButton.setAttribute(\"aria-pressed\", \"true\");\n}\n\nfunction openMenuJumpToSearch() {\n  commonOpenMenuTasks();\n  jumpToSearchButton.setAttribute(\"aria-pressed\", \"true\");\n}\n\nfunction commonOpenMenuTasks() {\n  body.classList.add(\"show-menu\");\n\n  for (let i = 0; i < menuButtonText.length; i++) {\n    menuButtonText[i].textContent = \"Close\";\n  }\n\n  menuButton.setAttribute(\"aria-expanded\", \"true\");\n  menuButton.setAttribute(\"aria-label\", \"Close the main menu for mass.gov\");\n  if (feedbackButton) {\n    feedbackButton.classList.add(\"hide-button\");\n\n  }\n  jumpToSearchButton.setAttribute(\"aria-expanded\", \"true\");\n  if (menuOverlay) {\n    menuOverlay.classList.add(\"overlay-open\");\n  }\n}\n\n// Close menu when utility nav is clicked\nif (null !== utilNavWide) {\n    closeMenu();\n}\n\n// Close and reset menu on overlay click\nif (null !== menuOverlay) {\n  menuOverlay.addEventListener(\"click\", function () {\n    closeMenu();\n  });\n}\n\nlet debouncer;\nwindow.onresize = function () {\n  clearTimeout(debouncer);\n  debouncer = setTimeout(function () {\n    width = body.clientWidth;\n  }, 100);\n};\n\n\n// ** Utility nav\n\n// Wide/utility nav bar\nconst utilWideButton = document.querySelector(\".js-utility-nav--wide .js-util-nav-toggle\");\nconst utilWideCloseButton = document.querySelector(\".js-utility-nav--wide .js-close-util-nav\");\nconst utilWideContent = document.querySelector(\".js-utility-nav--wide .js-util-nav-content\");\nif (null !== utilWideButton && null !== utilWideCloseButton && null !== utilWideContent) {\n// Open\n  utilWideButton.addEventListener(\"click\", function (e) {\n\n    const thisWideButton = e.target.closest(\".js-util-nav-toggle\");\n    const thisWideContent = thisWideButton.nextElementSibling;\n\n    if (thisWideContent.classList.contains(\"is-closed\")) {//  To open\n      thisWideButton.closest(\".ma__header__hamburger__nav\").classList.add(\"util-nav-content-open\");\n\n      thisWideContent.classList.remove(\"is-closed\");\n      thisWideContent.removeAttribute(\"aria-hidden\");\n      thisWideContent.removeAttribute(\"style\");\n      thisWideContent.style.height = \"auto\";\n      thisWideContent.style.opacity = \"1\";\n\n      // Button State\n      thisWideButton.setAttribute(\"aria-expanded\", \"true\");\n      thisWideButton.setAttribute(\"aria-pressed\", \"true\");\n    }\n\n    setTimeout(function() {\n      thisWideButton.setAttribute(\"aria-expanded\", \"true\");\n      thisWideButton.setAttribute(\"aria-pressed\", \"true\");\n    }, 200);\n  });\n\n// Close - Utility nav dropdown on the utility nav bar overwaps the button to open it once it's open. To close the dropdown, use the close button within the dropdown container. This is the control for that inside button.\n// TODO: esc key to close the content.\n  utilWideCloseButton.addEventListener(\"click\", function (e) {\n    closeUtilWideContent();\n  });\n}\n\nfunction closeUtilWideContent()  {\n  // Content state\n  utilWideContent.style.height = \"0\";\n  utilWideContent.style.opacity = \"0\";\n  utilWideContent.classList.add(\"is-closed\");\n  utilWideContent.setAttribute(\"aria-hidden\", \"true\");\n\n  // Close button state\n  utilWideCloseButton.setAttribute(\"aria-expanded\", \"false\");\n\n  // Utility button state\n  utilWideButton.setAttribute(\"aria-expanded\", \"false\");\n  utilWideButton.setAttribute(\"aria-pressed\", \"false\");\n\n  e.target.closest(\".ma__header__hamburger__nav\").classList.toggle(\"util-nav-content-open\");\n}\n\n// Narrow/in hamburger menu\nconst utilNarrowButton = document.querySelector(\".ma__header__hamburger__utility-nav--narrow button.js-util-nav-toggle\");\nlet utilNarrowContent;\nif (null !== utilNarrowButton) {\n  utilNarrowContent = utilNarrowButton.nextElementSibling;\n\n  utilNarrowContent.style.opacity = \"0\";\n  utilNarrowContent.style.height = \"0\";\n\n  utilNarrowButton.addEventListener(\"click\", function(e) {\n\n    const thisButton = e.target.closest(\".js-util-nav-toggle\");\n    utilNarrowContent = thisButton.nextElementSibling;\n\n    if (utilNarrowContent.classList.contains(\"is-closed\")) {// Open\n\n      utilNarrowContent.classList.remove(\"is-closed\");\n      utilNarrowContent.removeAttribute(\"aria-hidden\");\n      utilNarrowContent.style.pointerEvents = \"none\";\n\n      // Button state\n      thisButton.setAttribute(\"aria-expanded\", \"true\");\n      thisButton.setAttribute(\"aria-pressed\", \"true\");\n\n      /** Slide down. */\n      setTimeout(function timeoutFunction() {\n        utilNarrowContent.style.opacity = \"1\";\n        utilNarrowContent.style.height = \"auto\";\n      }, 700);\n\n      // Close open sub menu.\n      closeSubMenu();\n    } else {// Close\n      closeNarrowUtilContent();\n      utilNarrowContent.style.pointerEvents = \"none\";\n    }\n  });\n}\n\nfunction closeNarrowUtilContent() {\n  if (utilNarrowContent) {\n    utilNarrowContent.setAttribute(\"aria-hidden\", \"true\");\n\n    // Button state\n    utilNarrowButton.setAttribute(\"aria-expanded\", \"false\");\n    utilNarrowButton.setAttribute(\"aria-pressed\", \"false\");\n\n    utilNarrowContent.style.opacity = \"0\";\n    utilNarrowContent.style.height = \"0\";\n\n    /** Slide up. */\n    setTimeout(function timeoutFunction() {\n      utilNarrowContent.style.opacity = \"0\";\n      utilNarrowContent.style.height = \"0\";\n    }, 700);\n    setTimeout(function timeoutFunction() {\n      // utilNarrowContent.style.opacity = \"0\";\n      // utilNarrowContent.style.height = \"0\";\n\n      utilNarrowContent.classList.add(\"is-closed\");\n    }, 500);\n  }\n}\n\nfunction closeSubMenu() {\n  setTimeout(function timeoutFunction() {\n    let openSubMenu = document.querySelector(\".submenu-open\");\n    let openSubMenuButton = openSubMenu.querySelector(\".js-main-nav-hamburger__top-link\");\n    let openSubMenuContent = openSubMenu.querySelector(\".js-main-nav-hamburger-content\");\n    let openSubMenuContainer = openSubMenu.querySelector(\".js-main-nav-hamburger__container\");\n\n    //  button\n    openSubMenuButton.setAttribute(\"aria-expanded\", \"false\");\n\n    // sub menu container div\n    openSubMenuContent.classList.add(\"is-closed\");\n    openSubMenuContent.style.height = \"0\";\n\n    // sub menu list container\n    openSubMenuContainer.style.opacity = 0;\n\n    // sub menu container list item\n    openSubMenu.classList.remove(\"submenu-open\");\n  }, 500);\n}\n\n// Keyboard navigation\ndocument.addEventListener(\"keydown\", function (e) {\n  // ESC to close menus.\n  if (e.key === \"Escape\" || e.which === \"27\") {\n\n    // Check which menu is open.\n    if (utilNavWide.querySelector(\".js-util-nav-content\").style.opacity === \"1\") {// Log in to... in Utility nav bar\n      closeUtilWideContent();\n      utilNavWide.querySelector(\".js-util-nav-toggle\").focus();\n    }\n    else if (utilNarrowContent.style.opacity === \"1\") {// Log in to... in Hamburger menu\n      closeNarrowUtilContent();\n      setTimeout(function timeoutFunction() {\n        utilNarrowButton.focus();\n      }, 90);\n    }\n    else {// Menu button\n      closeMenu();\n      setTimeout(function timeoutFunction() {\n        document.querySelector(\".js-header-menu-button\").focus();\n      }, 100);\n\n      document.querySelector(\".js-utility-nav--wide .ma__utility-nav__item  .goog-te-menu-value\").removeAttribute(\"tabindex\");\n      document.querySelector(\".js-utility-nav--wide .ma__utility-nav__item  .direct-link\").removeAttribute(\"tabindex\");\n      document.querySelector(\".js-utility-nav--wide .ma__utility-nav__item  .js-util-nav-toggle\").removeAttribute(\"tabindex\");\n    }\n\n    // if (body.classList.contains(\"show-menu\") && utilNarrowContent.style.opacity === \"0\" ) {// Hamburger menu\n      // NOTE: Currently ESC close the hamburger menu, but it doesn't move focus to the menu button as it closes. To set the focus, need to confirm all sub menus are close.\n      // closeMenu(); --- THIS IS NOT NECESSARY.\n      // menuButton.focus();\n    // };\n  }\n});\n","const body = document.querySelector(\"body\");\nlet width = document.documentElement.clientWidth;\nconst menuButton = document.querySelector(\".js-header-menu-button\");\nconst menuOverlay = document.querySelector(\".menu-overlay\");\n\n// Hide hamburger menu when window size is resized to over 840 while hamburger menu is open.\nwindow.addEventListener(\"resize\", hideHamburgerMenu);\n\nfunction hideHamburgerMenu () {\n  if (width > 840) {\n    if (body.classList.contains(\"show-menu\")) {\n      body.classList.remove(\"show-menu\");\n      menuButton.setAttribute(\"aria-expanded\", \"false\");\n      menuButton.setAttribute(\"aria-label\", \"Open the main menu for mass.gov\");\n      menuOverlay.classList.remove(\"overlay-open\");\n    }\n  }\n}\n","// // ****** Menu button ******\r\nlet menuButton = document.querySelector(\".js-header-menu-button\");\r\nlet feedbackButton = document.querySelector(\".ma__fixed-feedback-button\");\r\nconst jumpToSearchButton = document.querySelector(\".js-header-search-access-button\");\r\n\r\nif (null !== menuButton) {\r\n  menuButton.addEventListener(\"click\", function (event) {\r\n    event.preventDefault();\r\n\r\n    // Hide feedback button when menu opens.\r\n    toggleFeedbackButton()\r\n  });\r\n}\r\n\r\n// // ****** Access to Search button on mobile should hide feedback button when menu opens  ******\r\n\r\nif (null !== jumpToSearchButton) {\r\n  jumpToSearchButton.addEventListener(\"click\", function (event) {\r\n    toggleFeedbackButton();\r\n  });\r\n}\r\n\r\nfunction toggleFeedbackButton() {\r\n  if (feedbackButton) {\r\n    // Cannot use .toggle. It results to show the button with the dropdown and hide it with the closed dropdown.\r\n    if(feedbackButton.classList.contains(\"hide-button\") === false) {\r\n      feedbackButton.classList.add(\"hide-button\");\r\n    }\r\n    else {\r\n      feedbackButton.classList.remove(\"hide-button\");\r\n    }\r\n  }\r\n}\r\n","import getTemplate from \"../helpers/getHandlebarTemplate.js\";\r\n\r\nexport default (function (window,document,$,undefined) {\r\n  \r\n  $('.js-org-selector').each(function(i){\r\n    let $el = $(this);\r\n    let data = orgSelector[i];\r\n    let compiledTemplate = getTemplate('orgInfo');\r\n    let $select = $el.find('select').first();\r\n    let $placeholder = $el.find('.js-org-info');\r\n\r\n    //render the template based on the current value\r\n    renderTemplate($select.val());\r\n\r\n    // When the select changes\r\n    $select.change(() => {\r\n      //render the template based on the new value\r\n      renderTemplate($select.val());\r\n    });\r\n\r\n    // Render the template based on value\r\n    function renderTemplate(value) {\r\n      if (typeof(data.organizations[value]) === \"undefined\") {\r\n        $placeholder.html(\"\");\r\n        return false;\r\n      }\r\n\r\n      $placeholder.html(compiledTemplate(data.organizations[value]));\r\n\r\n      return true;\r\n    }\r\n  });\r\n\r\n})(window,document,jQuery);\r\n","export default (function (window, document, $, undefined) {\n\n  $('.ma__organization-navigation').each(function () {\n    // Org Nav Wrapper.\n    const $orgNav = $(this);\n    const $orgNavItems = $orgNav.find('.ma__organization-navigation__items');\n    const $menuWrapper = $orgNav.find('.ma__organization-navigation--inner-wrapper');\n\n    // Page wrapper and fillers. \n    const $pageWrapper = $orgNav.parent().next();\n    let $newsLink = $pageWrapper.find('.ma__press-listing');\n    let $eventsLink = $pageWrapper.find('.ma__event-listing');\n    let $locationsLink = $pageWrapper.find('.ma__mapped-locations');\n    let $relatedOrgs = $pageWrapper.find('.ma__our-organizations');\n\n    const feedbackButton = $('body').find('.ma__fixed-feedback-button');\n\n    $orgNav.find('svg').each(function () {\n      $(this).attr('focusable', 'false');\n    });\n\n    // Mobile Menu vars.\n    const $mobileToggle = $orgNav.find('.ma__organization-navigation__mobile-toggle');\n    const mobileBreak = 910;\n\n    // Search Wrapper vars.\n    const $orgNavSearchForm = $orgNav.find('.js-organization-navigation__search');\n    const $orgNavSearchInput = $orgNav.find('#organization-navigation-search');\n    const $searchToggle = $orgNav.find('.ma__organization-navigation__search .js-search-toggle');\n\n    // Subnav buttons. \n    let $menuButton = $orgNav.find('.subnav-toggle');\n\n    // I want to section.\n    let $sectionButton = $orgNav.find('.ma__org-nav-i-want-to-section .ma__comp-heading');\n\n    // Sticky on scroll.\n    if ($('.pre-content').length) {\n      const bannerBottom = $('.ma__page-banner').offset().top + $('.ma__page-banner').height();\n      let menuHeight = $orgNav.height();\n      $(window).scroll(function () {\n        const orgWindowTop = $(window).scrollTop();\n        let windowWidth = $(window).width();\n\n        // Active Sticky TOC when on page TOC scrolls past.\n        if (bannerBottom > orgWindowTop) {\n          $('.pre-content').removeAttr('style');\n          $orgNav.removeClass('stuck');\n        }\n        else {\n          $('.pre-content').css('padding-top', menuHeight);\n          $orgNav.addClass('stuck');\n        }\n      });\n    }\n\n    // Mobile toggle. \n    $mobileToggle.on('click', function () {\n\n      if (!$orgNav.hasClass('stuck')) {\n        $orgNav.addClass('stuck')\n      }\n\n      $mobileToggle.add($menuWrapper).toggleClass('menu-open');\n      // Close items when closing menu.\n      $('.item-open').removeClass('item-open');\n      // Remove cloned button if present. \n      $('.section-toggle').remove();\n\n      // Lock body scroll on mobile open/close.\n      $('body').toggleClass('scroll-disabled');\n\n      feedbackButton.toggle();\n\n    });\n\n    // Search form swing open/closed.\n    $searchToggle.on('click', function () {\n      $menuWrapper.toggleClass('form-open');\n\n      let $buttonLabel = $searchToggle.find('.search-label');\n      $buttonLabel.text($buttonLabel.text() == \"Close\" ? \"Search this organization\" : \"Close\");\n    });\n\n    $orgNavSearchForm.on('submit', function () {\n      let searchAction = $(this).attr('action') + \"&q=\";\n      let searchParams = $orgNavSearchInput.val();\n      $(this).attr('action', searchAction + searchParams);\n    });\n\n    // Open the dropdowns.\n    $menuButton.each(function () {\n      let $button = $(this);\n      let $buttonParent = $button.parent('.has-subnav');\n      let $thisMenu = $buttonParent.find('.ma__organization-navigation__subitems');\n      let $otherMenus = $('.ma__organization-navigation__subitems').not($thisMenu);\n      let menuHeight = $menuWrapper.outerHeight();\n\n      $buttonParent.on('mouseenter mouseleave', function () {\n        let windowWidth = $(window).width();\n\n        if (windowWidth > mobileBreak) {\n          $('.section-toggle').remove();\n          $buttonParent.toggleClass('item-open');\n          $thisMenu.css('top', menuHeight);\n        }\n        else {\n          return false;\n        };\n      });\n\n      $button.on('focus', function () {\n        $thisMenu.find(\"a[href]\").attr(\"tabindex\", -1);\n        $otherMenus.find(\"a[href]\").attr(\"tabindex\", -1);\n\n        $button.keyup(function (e) {\n\n          $('.item-open').removeClass('item-open');\n\n          if (e.keyCode == 13 || e.keyCode == 32) {\n            $('.section-toggle').remove();\n\n            $thisMenu.find(\"a[href]\").attr(\"tabindex\", 0);\n            $buttonParent.toggleClass('item-open');\n            $thisMenu.css('top', menuHeight);\n\n            $buttonParent.add($thisMenu).on('mouseenter mouseleave', function () {\n              return false;\n            });\n          }\n        });\n      });\n\n      $button.on('click', function () {\n        let windowWidth = $(window).width();\n\n        if (windowWidth < mobileBreak) {\n          $buttonParent.toggleClass('item-open');\n          let $buttonClone = $button.clone(true);\n\n          // Copy the link as a close button inside the menu section.\n          if (!$('.section-toggle').length) {\n            $buttonClone.addClass('section-toggle').prependTo($thisMenu);\n          }\n        }\n        else {\n          return false;\n        };\n      });\n\n    });\n\n    $('body').on('click', '.section-toggle', function () {\n      $('.section-toggle').remove();\n    });\n\n    // Mobile view open the \"I want to sections\".\n    $sectionButton.each(function () {\n\n      let $button = $(this);\n      let $seeAll = $button.parent().find('.ma__link-list__see-all');\n      $button.on('click', function () {\n        let windowWidth = $(window).width();\n        if (windowWidth < mobileBreak) {\n          $button.toggleClass('item-open');\n          $button.next('.ma__link-list__container').add($seeAll).toggleClass('item-open');\n        }\n      });\n\n    });\n\n    if ($relatedOrgs.length) {\n      $relatedOrgs.attr('id', 'organizations');\n      $orgNavItems.append('<li class=\"ma__organization-navigation__item\"><a class=\"internal-link\" href=\"#organizations\">Our organizations</a></li>');\n    }\n\n    if ($newsLink.length) {\n      $newsLink.attr('id', 'news');\n      $orgNavItems.append('<li class=\"ma__organization-navigation__item\"><a class=\"internal-link\" href=\"#news\">News</a></li>');\n    }\n\n    if ($eventsLink.length) {\n      $eventsLink.attr('id', 'events');\n      $orgNavItems.append('<li class=\"ma__organization-navigation__item\"><a class=\"internal-link\" href=\"#events\">Events</a></li>');\n    }\n\n    if ($locationsLink.length) {\n      $locationsLink.attr('id', 'locations');\n      $orgNavItems.append('<li class=\"ma__organization-navigation__item\"><a class=\"internal-link\" href=\"#locations\">Locations</a></li>');\n    }\n\n    $('.ma__organization-navigation__item.mobileLogin').appendTo($orgNavItems);\n\n    $(\".internal-link\").on('focus', function (e) {\n      $('.item-open').removeClass('item-open');\n    });\n\n    $(\".internal-link\").on('click', function (e) {\n      // Close open menus and reset markup.\n      $('.menu-open').removeClass('menu-open');\n      $('.item-open').removeClass('item-open');\n      $('.form-open').removeClass('form-open');\n      $('.section-toggle').remove();\n\n      e.preventDefault();\n      let location = $(this).attr('href');\n      $('html, body').animate({ scrollTop: $(location).offset().top - 120 }, 1000);\n\n      if (feedbackButton.is(\":hidden\")) {\n        feedbackButton.show();\n      }\n    });\n\n    $(window).on(\"resize\", function () {\n      let windowWidth = $(window).width();\n      let $contactGroups = $orgNav.find('.ma__org-nav-contact-us .ma__contact-group');\n\n      if (windowWidth > mobileBreak) {\n        // Check if already wrapped.\n        if ($('.wrappedGroup').length === 0) {\n\n          if (!$('.ma__contact-group__seeAll').length) {\n            // If no 'see all link', wrap address separately.\n            $('.ma__contact-group:first-child').addClass('wrappedGroup');\n            $contactGroups = $contactGroups.not(':first');\n          }\n          else {\n            $contactGroups.slice(0, 2).wrapAll(\"<div class='wrappedGroup' />\");\n            $contactGroups = $contactGroups.slice(2);\n          }\n\n          if ($contactGroups.length < 3) {\n            $contactGroups.wrap(\"<div class='wrappedGroup' />\");\n          }\n          else {\n            // Wrap contact groups in sets of 2 for layout.\n            for (let i = 0; i < $contactGroups.length; i += 2) {\n              $contactGroups.slice(i, i + 2).wrapAll(\"<div class='wrappedGroup' />\");\n            }\n          }\n        }\n      }\n      else {\n        $('.wrappedGroup').find($contactGroups).unwrap();\n        $('body').removeClass('scroll-disabled');\n      }\n\n    }).resize();\n  });\n})(window, document, jQuery);\n","import twiggy from '../helpers/twiggy';\n\nexport default (function (window, document, $, undefined) {\n  if ($('.js-pagination').length === 0) {\n    return;\n  }\n\n  // Set up global component config\n  let prevButton = '.js-pagination-prev',\n    nextButton = '.js-pagination-next',\n    pageButton = '.js-pagination-page';\n\n  $('.js-pagination').each(function () {\n    let $el = $(this);\n    let targetPageNumber = 1;\n    let params = new URLSearchParams(window.location.search);\n    if (history.state && history.state.page) {\n      targetPageNumber = history.state.page;\n    } else if (params.has('_page')) {\n      targetPageNumber = params.get('_page');\n    }\n\n    // Listen for previous page button click and trigger pagination event.\n    $el.on('click', prevButton, function () {\n      targetPageNumber = parseInt(targetPageNumber) - 1;\n      pushPaginationState(targetPageNumber);\n      $el.trigger('ma:Pagination:Pagination', [history.state.page]);\n    });\n    // Listen for next button click and trigger pagination event.\n    $el.on('click', nextButton, function () {\n      targetPageNumber = parseInt(targetPageNumber) + 1;\n      pushPaginationState(targetPageNumber);\n      $el.trigger('ma:Pagination:Pagination', [history.state.page]);\n    });\n    // Listen for page number button click and trigger pagination event;\n    $el.on('click', pageButton, function (e) {\n      targetPageNumber = $(e.target).data('page');\n      pushPaginationState(targetPageNumber);\n      $el.trigger('ma:Pagination:Pagination', [history.state.page]);\n    });\n\n    window.onpopstate = function (e) {\n      if (e.state) {\n        if (e.state.page) {\n          $el.trigger(\"ma:Pagination:Pagination\", [e.state.page]);\n        }\n      }\n    };\n\n    // Listen for new data, render new pagination.\n    $el.on('ma:Pagination:DataUpdated', function (e, data) {\n      renderPagination({ data: data, $el: $el });\n    });\n\n    // if we already have a state or a query parameter, initialize things\n    pushPaginationState(targetPageNumber, true);\n  });\n\n  /**\n   * Renders the contents of a specific results pagination component.\n   *\n   * @param args\n   *   The arguments object, can contain the following properties:\n   *      data: data object from which to populate handlebars template variables (required),\n   *      context: the parent component selector\n   */\n  function renderPagination(args) {\n    // Don't attempt to render anything if we don't have new data.\n    if (!args.data) {\n      return;\n    }\n\n    // Render async with Twig.\n    return twiggy('@molecules/pagination.twig')\n      .then(template => {\n        // Truncate the pagination with ellipsis to prevent it from showing\n        // all page numbers if there are a lot.\n        let pagination = truncatePaginationDisplay(args.data);\n        // Render the pagination Twig async.\n        return template.renderAsync({ pagination: pagination });\n      })\n      .then(markup => {\n        // twiggy is appending the entire pagiantion.twig template\n        // to itself, causing a double .ma__pagination wrapper\n        // unwrappedMarkup is the markup unwrapped and still contains the \n        // original handlers \n        const unwrapperMarkup = $($.parseHTML(markup)).html();\n        args.$el.html(unwrapperMarkup);\n      });\n  }\n\n  /**\n   * Returns a truncated version of the pagination structure.\n   *\n   * @param data\n   *   The the pagination data to transform.\n   */\n  function truncatePaginationDisplay(data) {\n    if (!data) {\n      return;\n    }\n\n    let truncatedPagination = data,\n      current = data.currentPage,\n      last = data.totalPages,\n      delta = 1;\n\n    // For the first and last pages, set the delta to 2 so 2 page numbers\n    // within the current page can be shown.\n    if (current === 1 || current === last) {\n      delta = 2;\n    }\n\n    let left = current - delta,\n      right = current + delta + 1,\n      range = [],\n      rangeWithEllipsis = [],\n      l;\n\n    for (let i = 1; i <= last; i++) {\n      if (i == 1 || i == last || i >= left && i < right) {\n        range.push(i);\n      }\n    }\n\n    for (let i of range) {\n      if (l) {\n        if (i - l === 2) {\n          rangeWithEllipsis.push({ text: l + 1, active: false });\n        }\n        else if (i - l !== 1) {\n          rangeWithEllipsis.push({ text: 'spacer', active: false });\n        }\n      }\n\n      let active = false;\n      if (i === current) {\n        active = true;\n      }\n      rangeWithEllipsis.push({ text: i, active: active });\n      l = i;\n    }\n\n    truncatedPagination.pages = rangeWithEllipsis;\n\n    return truncatedPagination;\n  }\n\n  function pushPaginationState(pageNum, replace = false) {\n    let params = new URLSearchParams(window.location.search);\n    params.set('_page', pageNum);\n\n    if (replace) {\n      history.replaceState(\n        { page: pageNum },\n        `${document.title} | page ${pageNum}`, `${window.location.origin}${window.location.pathname}?${params.toString()}`\n      );\n    }\n    else {\n      history.pushState(\n        { page: pageNum },\n        `${document.title} | page ${pageNum}`, `${window.location.origin}${window.location.pathname}?${params.toString()}`\n      );\n    }\n  }\n\n})(window, document, jQuery);\n","export default (function (window,document,$,undefined) {\r\n  \r\n  $('.js-input-date').each(function(){\r\n    let $el = $(this);\r\n    let restrict = $el.data('restrict');\r\n    let picker = new Pikaday({ \r\n      field: this,\r\n      format: 'MM/DD/YYYY',\r\n    });\r\n\r\n    switch(restrict) {\r\n      case 'max':\r\n        picker.setMaxDate(new Date());\r\n        break;\r\n      case 'min':\r\n        picker.setMinDate(new Date());\r\n        break;\r\n    }\r\n\r\n    $el.attr('type','text');\r\n  });\r\n\r\n})(window,document,jQuery);\r\n","/**\n * Adjust width of horizontal lists to prevent single items on lines by themselves.\n */\nfunction preventWidows($list) {\n  // Get array of list items, but not whitespace nodes.\n  const $items = Array.from($list.childNodes).filter(function(node) {\n    return node.nodeType == Node.ELEMENT_NODE;\n  });\n\n  const itemCount = $items.length;\n\n  for(var i = 0; i < itemCount; i++) {\n    $items[i].classList.remove('expand-left');\n    $items[i].classList.remove('expand-right');\n  }\n\n  // Assuming that all items have the same width and margins.\n  // If they can ever be different, this will need rewriting\n  // to calculate the widths of all items individually.\n  const itemStyle = window.getComputedStyle($items[0]);\n  const itemWidth = \n    parseFloat(itemStyle.marginLeft) +\n    parseFloat(itemStyle.paddingLeft) +\n    parseFloat(itemStyle.width) +\n    parseFloat(itemStyle.paddingRight) +\n    parseFloat(itemStyle.marginRight)\n  ;\n\n  const listStyle = window.getComputedStyle($list);\n  const listWidth =\n    parseFloat(listStyle.width) -\n    parseFloat(listStyle.borderLeft) - \n    parseFloat(listStyle.paddingLeft) -\n    parseFloat(listStyle.paddingRight) -\n    parseFloat(listStyle.borderRight)\n  ;\n\n  const itemsPerRow = Math.floor(listWidth / itemWidth);\n\n  // Widows are okay if there are only two items across.\n  if(itemsPerRow < 3) {\n    return;\n  }\n\n  const itemsInLastRow = itemCount % itemsPerRow;\n\n  if(itemsInLastRow !== 1) {\n    return;\n  }\n  \n  // The item third from the end gets expanded right margin.\n  $items[itemCount - 1 - 2].classList.add('expand-right');\n  // The first item in the last (formerly) full row gets expanded left margin.\n  $items[itemCount - 1 - itemsPerRow].classList.add('expand-left');\n}\n\n/**\n * Prevent widows now and on all future window resizes.\n */\nfunction preventWidowsForever($list) {\n\n  var timeout = false;\n\n  preventWidows($list);\n\n  window.addEventListener('resize', function() {\n    window.clearTimeout(timeout);\n    timeout = window.setTimeout(\n      function() {\n        preventWidows($list);\n      },\n      250\n    );\n  });\n}\n\nexport default (function (window, document, undefined) {\n  const $horizontalLists = document.querySelectorAll('.ma__horizontal-list');\n  const length = $horizontalLists.length;\n\n  for(var i = 0; i < length; i++) {\n    preventWidowsForever($horizontalLists[i]);\n  }\n})(window, document);\n  ","export default (function (window, document, $, undefined) {\n\n  $('.ma__related-orgs-and-topics__column .ma__link-list').each(function (index) {\n    init.apply(this, [index]);\n  });\n\n  function init(index) {\n    const $thisList = $(this);\n    const $thisWrapper = $thisList.closest('.ma__related-orgs-and-topics__column');\n    const $toggleButton = $thisList.next('.js-ma__related-orgs-and-topics--toggle');\n\n    $toggleButton.on('click', function () {\n      $toggleButton.toggleClass('open');\n      $thisWrapper.toggleClass('open');\n    });\n\n    if ($thisList.find('.ma__link-list__item').length < 10) {\n      $toggleButton.addClass('short-list');\n    }\n  }\n\n})(window, document, jQuery);\n","export default (function (window, document, $) {\n\n  // Responsive table HTML structure\n  // <div class=\"ma__table--responsive\">\n  //   <div class=\"ma__table--responsive__wrapper\">\n  //    <table> ... </table>\n  //   </div>\n  // </div>\n\n  const $window = $(window);\n  let responsiveTables = [];\n\n  // Set the width of each sticky header cell and the width of the sticky\n  // header table.\n  function setWidths(rt) {\n\n    rt.$table\n      .find(\"thead th\")\n      .each(function (i) {\n        rt.$stickyHeader\n          .find(\"th\")\n          .eq(i)\n          .width($(this).width());\n      });\n\n    if (rt.$stickyHeader) {\n      // Set width of sticky table head.\n      rt.$stickyHeader.find(\"table\").width(rt.$table.width());\n      rt.$stickyHeader.width(rt.$stickyHeader.parent().width());\n    }\n  }\n\n  // Initialize or reset the responsive tables. This includes creating a copy\n  // of the header and setting its fixed position properly.\n  function initializeTable(element, reset = false, index = false) {\n    const $element = $(element);\n    let $table = $element.find(\"table\").not(\"table table\");\n    let $thead = $table.find(\"thead\").not(\"table table thead\");\n    const hasThead = $thead.length;\n    let theadHeight = 0;\n    const isNestedThead = $thead.closest(\"table table\").length;\n    const hasTh = $table.find(\"th\").length;\n    let $stickyHeader = null;\n    const canScroll = $table.width() > $table.parent().width();\n\n    // If the table has a thead with th elements, setup the sticky version.\n    if (hasThead && hasTh && !isNestedThead) {\n      theadHeight = $thead[0].offsetHeight;\n\n      // Only wrap the table if this is the first time we have encountered it.\n      if (!reset) {\n        $thead = $thead.clone();\n        $table.after(\"<div class='sticky-thead'><div class='sticky-thead-wrapper'><table></table></div></div>\");\n\n        $stickyHeader = $element.find(\".sticky-thead\");\n        $stickyHeader.find(\"table\").append($thead);\n      }\n      else {\n        $stickyHeader = $element.find(\".sticky-thead\");\n      }\n\n      // Setting it in a fixed position, but initially invisible.\n      let tableLeft = $element.offset().left;\n      $stickyHeader\n        .css({\n          \"position\": \"fixed\",\n          \"left\": tableLeft,\n          \"top\": getAdditionalOffset(),\n          \"opacity\": 0,\n          \"height\": theadHeight\n        });\n      $stickyHeader[0].scrollLeft = 0;\n    }\n\n    // Add class, remove margins, reset width and wrap table.\n    $table\n      .addClass(\"sticky-enabled\")\n      .css({\n        margin: 0,\n        width: \"100%\"\n      });\n\n    $element.toggleClass(\"has-horizontal-scroll\", canScroll);\n    // Make sure the scrollbar is the width of the table.\n    $element.find(\".ma__table__horizontal-nav\").width($table.parent().width());\n\n    // If we are not resetting, use the length as the index.\n    if (index === false) {\n      index = responsiveTables.length;\n    }\n\n    let rt = {\n      index: index,\n      $root: $element,\n      $table: $table,\n      $stickyHeader: $stickyHeader,\n      theadHeight: theadHeight,\n      headerStuck: false,\n      scrollStuck: false,\n      canScroll\n    };\n    // Set the widths of the header.\n    setWidths(rt);\n    // Setup the scrollbar deminsions.\n    recalcScrollbar(rt);\n\n    // If we are reseting, replace the element. Otherwise, add it.\n    if (reset) {\n      responsiveTables[index] = rt;\n    }\n    else {\n      responsiveTables.push(rt);\n      rt.$root[0].addEventListener(\"scroll\", handleTableScroll, true);\n    }\n    // Decide what should be showing or stuck.\n    checkVisibility(rt);\n\n    // Reset scroll since this may have changed the max scroll amount.\n    if (rt.canScroll) {\n      const tableWrapper = element.getElementsByClassName(\"ma__table--responsive__wrapper\")[0];\n      const scrollbar = element.getElementsByClassName(\"ma__scroll-indicator\")[0];\n      tableWrapper.scrollLeft = 0;\n      scrollbar.scrollLeft = scrollbar.scrollWidth - scrollbar.offsetWidth;\n    }\n\n  }\n\n  // Certain other components that stick to the top of the page need to be accounted for.\n  // This calculates the additional offset that a table sticky header should drop down.\n  function getAdditionalOffset() {\n    let additionalOffset = 0;\n    if (document.documentElement.clientWidth <= 825) {\n      const $jsStickyHeader = $(\".js-sticky-header\");\n      if ($jsStickyHeader) {\n        additionalOffset += $jsStickyHeader.height();\n      }\n    }\n    if ($(\".js-scroll-anchors\")[0] &&\n      document.documentElement.clientWidth <= 765) {\n      additionalOffset += $(\".js-scroll-anchors\").height();\n    }\n    if (document.documentElement.classList.contains('stickyTOC')) {\n      if (document.documentElement.clientWidth <= 841) {\n        additionalOffset += 75;\n      }\n      else {\n        additionalOffset += 70;\n      }\n    }\n    return additionalOffset > 0 ? additionalOffset + \"px\" : 0;\n  }\n\n  // Based on the scroll position, decide whether or not to show or hide or scroll\n  // or stick the header and scrollbar.\n  function checkVisibility(rt) {\n    const elementTop = rt.$root.offset().top;\n    const windowTop = $window.scrollTop();\n    const windowBottom = windowTop + $window.height();\n    // + 50 to accommodate table padding for stickyNav \n    const elementBottom = (elementTop + (rt.$root.height() + 50));\n    const tableBottom = elementTop + rt.$table.height();\n\n    // Handle header visibility.\n    if (rt.$stickyHeader) {\n      const stuckTop = rt.$stickyHeader.offset().top;\n      const stuckBottom = stuckTop + rt.$stickyHeader.height();\n      if (!rt.headerStuck && elementTop < stuckTop && tableBottom > stuckBottom) {\n        responsiveTables[rt.index].headerStuck = true;\n        rt.$stickyHeader.css(\"opacity\", 1);\n      }\n      else if (rt.headerStuck && (elementTop > stuckTop || tableBottom < stuckBottom)) {\n        responsiveTables[rt.index].headerStuck = false;\n        rt.$stickyHeader.css(\"opacity\", 0);\n      }\n    }\n\n    // Handle scrollbar stuck / unstuck.\n    if (rt.canScroll) {\n      let headerBottom = elementTop;\n      if (rt.$stickyHeader) {\n        headerBottom += rt.$stickyHeader.height();\n      }\n      if (!rt.scrollStuck && windowBottom < elementBottom && headerBottom < windowBottom) {\n        responsiveTables[rt.index].scrollStuck = true;\n        rt.$root.addClass(\"stickNav\");\n        const tableLeft = rt.$root[0].getBoundingClientRect().left + $window[\"scrollLeft\"]();\n        rt.$root.find(\".ma__table__horizontal-nav\").css(\"left\", tableLeft);\n      }\n      else if (rt.scrollStuck &&\n        (windowBottom > elementBottom && windowTop < elementBottom ||\n          headerBottom > windowBottom || elementBottom < windowTop)) {\n\n        responsiveTables[rt.index].scrollStuck = false;\n        rt.$root.removeClass(\"stickNav\");\n        rt.$root.find(\".ma__table__horizontal-nav\").css(\"left\", \"\");\n      }\n    }\n  }\n\n  // When scrolling the window, handle header / scrollbar visibility and position.\n  function handleScroll() {\n    responsiveTables.forEach((rt) => {\n      checkVisibility(rt);\n    });\n  }\n\n  // When the window is resized, reset the tables.\n  function handleWindowResize() {\n    responsiveTables.forEach((rt) => {\n      initializeTable(rt.$root[0], true, rt.index);\n    });\n  }\n\n  // Scroller click handler.\n  function handleScrollerClick(e) {\n    const $scrollContainer = $(this).parents(\".js-ma-responsive-table\").find(\".ma__table--responsive__wrapper\");\n    let posX = $(this).position().left;\n    let midpoint = $(e.target).offset().left + $(e.target).width() / 2;\n    let clickpoint = e.pageX - posX;\n\n    if (clickpoint < midpoint) {\n      // Scroll left.\n      $scrollContainer.animate({\n        scrollLeft: $scrollContainer.scrollLeft() - Math.abs(midpoint - clickpoint)\n      }, 250);\n    }\n    else {\n      // Scroll right.\n      $scrollContainer.animate({\n        scrollLeft: $scrollContainer.scrollLeft() + Math.abs(midpoint - clickpoint)\n      }, 250);\n    }\n  }\n\n  // Handle dragging the scrollbar.\n  function handleScrollerInteraction(e) {\n    const $scrollContainer = $(this).parents(\".js-ma-responsive-table\").find(\".ma__table--responsive__wrapper\");\n\n    let initialPosition = {\n      x: e.pageX,\n      y: e.pageY\n    };\n\n    function handleMouseUp() {\n      // Remove listeners.\n      $(\"body\")\n        .off(\"mousemove\", handleMouseMove)\n        .off(\"mouseup\", handleMouseUp);\n    }\n\n    function handleMouseMove(e) {\n      let newPosition = {\n        x: e.pageX,\n        y: e.pageY\n      };\n\n      $scrollContainer.scrollLeft($scrollContainer.scrollLeft() + newPosition.x - initialPosition.x);\n    }\n    // Attach to body so you don't get a\n    // disconnected handler if you drag off the bar.\n    $(\"body\")\n      .on(\"mouseup\", handleMouseUp)\n      .on(\"mousemove\", handleMouseMove);\n\n  }\n\n  // Handle additional interactions with scrollbars.\n  function scrollbarEventHandlers() {\n    // @todo make this amount calculated based on a percentage of the scroll amount.\n    const amountToScroll = 200;\n\n    // Scrollbar left arrow.\n    $(\".ma__table__horizontal-nav__left\").click(function () {\n      const $scrollContainer = $(this).parents(\".js-ma-responsive-table\").find(\".ma__table--responsive__wrapper\");\n      // On click of left arrow element, animate the movement of the scrollbar\n      // to the left by the integer amount defined in `amountToScroll`.\n      const currentScrollLeft = $scrollContainer.scrollLeft();\n\n      $scrollContainer.animate({\n        scrollLeft: (currentScrollLeft - amountToScroll) < 0 ? 0 : (currentScrollLeft - amountToScroll)\n      }, 250);\n    });\n\n    // Scrollbar right arrow.\n    $(\".ma__table__horizontal-nav__right\").click(function () {\n      const $scrollContainer = $(this).parents(\".js-ma-responsive-table\").find(\".ma__table--responsive__wrapper\");\n      // On click of left arrow element, animate the movement of the scrollbar\n      // to the left by the integer amount defined in `amountToScroll`.\n      $scrollContainer.animate({\n        scrollLeft: $scrollContainer.scrollLeft() + amountToScroll\n      }, 250);\n    });\n\n    // Scroll indicator element.\n    $(\".ma__scroll-indicator\").on(\"click\", handleScrollerClick);\n\n    $(\".ma__scroll-indicator__button\")\n      .on(\"mousedown\", handleScrollerInteraction)\n      // Deaden clicking on the scroll button\n      // in order to handle click on parent.\n      .on(\"click\", e => e.stopPropagation());\n\n  }\n\n  // Calculate and set the widths of scrollbar elements.\n  function recalcScrollbar(rt) {\n    // Table width.\n    const tableWidth = rt.$table.width();\n    // Table container width.\n    const tableContainerWidth = rt.$table.parent().width();\n    // Width of the arrows: < and >.\n    const scrollArrowWidth = 16;\n    // Margin to the left or right of the arrows: < and >.\n    const scrollArrowMargin = 15;\n    // Scrollbar container width = table container width minus arrows and arrow margin.\n    const scrollbarContainerWidth = tableContainerWidth - (scrollArrowWidth + scrollArrowMargin) * 2;\n    // Scrollbar width.\n    const scrollbarWidth = scrollbarContainerWidth + scrollbarContainerWidth * (tableWidth - tableContainerWidth) / tableWidth;\n    // Button width.\n    const buttonWidth = scrollbarContainerWidth * tableContainerWidth / tableWidth;\n\n    const $scrollbar = rt.$root.find(\".clip-scrollbar\");\n    const $scrollbarIndicator = $scrollbar.find(\".ma__scroll-indicator\");\n\n    $scrollbar.find(\".ma__scroll-indicator--bar\").css(\"width\", `${scrollbarWidth}px`);\n    $scrollbarIndicator.css(\"width\", `${scrollbarContainerWidth}px`);\n    $scrollbarIndicator.find(\".ma__scroll-indicator__button\").css(\"width\", `${buttonWidth}px`);\n  }\n\n  // Allow a parameter to prevent triggering scrolling in an infinite loop.\n  let skip = 0;\n\n  // Calculate and set the scroll position of the other components when one component is scrolled.\n  function handleTableScroll(e) {\n    if (skip === 0) {\n      const t = e.target;\n      // No matter the element, the percentage as a decimal should be the amount of pixels scrolled\n      // divided by the max amount that can be scrolled which is the scroll width minus the width.\n      const scrollPercent = t.scrollLeft / (t.scrollWidth - t.offsetWidth);\n      [\"ma__table--responsive__wrapper\", \"ma__scroll-indicator\", \"sticky-thead-wrapper\"].map(scrollable => {\n        if (t.className !== scrollable) {\n          const elements = this.getElementsByClassName(scrollable);\n          if (elements.length > 0) {\n            let el = elements[0];\n            // If we are scrolling the scrollbar or the target is the scrollbar, inverse the scroll.\n            if (scrollable === \"ma__scroll-indicator\" || t.className === \"ma__scroll-indicator\") {\n              skip++;\n              el.scrollLeft = (el.scrollWidth - el.offsetWidth) * (1 - scrollPercent);\n            }\n            // Set the scroll to the same as the target.\n            else {\n              skip++;\n              el.scrollLeft = t.scrollLeft;\n            }\n          }\n        }\n      });\n    }\n    else {\n      skip--;\n    }\n  }\n\n  // Initialize the tables.\n  $(\".js-ma-responsive-table\").each((i, el) => initializeTable(el));\n\n  // Set the scrollbar event handlers.\n  scrollbarEventHandlers();\n\n  // Set window scroll handler.\n  $window.on(\"scroll\", handleScroll);\n  // Set window resize.\n  $window.on(\"resize\", handleWindowResize);\n\n})(window, document, jQuery);\n","export default (function () {\n\n  fitvids('.js-ma-responsive-video');\n\n})();","import twiggy from '../helpers/twiggy';\n\nexport default (function (window,document,$,undefined) {\n  // Set up global component config\n  let  clearAllButton = '.js-results-heading-clear', // events triggered on parent\n    filterButton = '.js-results-heading-tag'; // events triggered on parent\n\n  $(\".js-results-heading\").each(function() {\n    const $el = $(this);\n\n    // Listen for clear all button click + trigger interaction event on parent.\n    $el.on('click', clearAllButton, function () {\n      $el.trigger('ma:ResultsHeading:ActiveTagClicked', [{clearedFilter: 'all'}]);\n    });\n\n    // Listen for single filter button click and trigger interaction event on parent.\n    $el.on('click', filterButton, function (e) {\n      let clearedFilter = {\n        'type': $(e.target).data('ma-filter-type'),\n        'value': $(e.target).data('ma-filter-value'),\n        'text': $(e.target).text()\n      };\n\n      $el.trigger('ma:ResultsHeading:ActiveTagClicked', [{clearedFilter: clearedFilter}]);\n    });\n\n    // Listen for new results heading data, render new results heading.\n    $el.on('ma:ResultsHeading:DataUpdated', function (e, data) {\n      renderResultsHeading({data: data, $el: $el});\n    });\n  });\n\n  /**\n   * Renders the contents of a specific results heading component.\n   *\n   * @param args\n   *   The arguments object, can contain the following properties:\n   *      data: data object from which to populate handlebars template variables (required),\n   *      context: the parent component selector\n   */\n  function renderResultsHeading(args) {\n    // Don't attempt to render anything if we don't have new data.\n    if (!args.data) {\n      return;\n    }\n    // Asynchronously render via TwigJS.\n    twiggy('@molecules/results-heading.twig')\n        .then(t => t.renderAsync({resultsHeading: args.data}))\n        .then(markup => args.$el.html($(markup).children()))\n  }\n\n})(window,document,jQuery);\n","import checkMobile from \"../helpers/cssControlCode.js\";\r\n\r\nexport default (function (window,document,$,undefined) {\r\n\r\n  $(\".js-scroll-anchors\").each(function() {\r\n    let $el = $(this),\r\n        $elParent = $el.parent().css('position') === 'relative' ? $el.parent() : $el.parent().offsetParent(),\r\n        $titleLink = $el.find('.is-title'),\r\n        $links = $el.find('.js-scroll-anchors-link'),\r\n        elHeight,\r\n        headerBuffer = 0,\r\n        lowerLimit,\r\n        upperLimit,\r\n        debounceTimer,\r\n        activeClass = \"is-active\",\r\n        activeAnchorIndex = 0,\r\n        anchors = [],\r\n        numAnchors = 0,\r\n        isMobile = false,\r\n        linkScrolling = false;\r\n\r\n    setVariables();\r\n\r\n    // default assumption as to where the screen will load\r\n    $el.attr('data-sticky','top');\r\n\r\n    // update variables one more time to catch any post page load changes\r\n    window.setTimeout(function(){\r\n      setVariables();\r\n    },1000);\r\n\r\n    $links.on('click',function(e) {\r\n      e.preventDefault();\r\n\r\n      let $link = $(this);\r\n\r\n      // is the menu closed on mobile\r\n      if(!$el.hasClass('is-open') && isMobile) {\r\n        // just show the menu\r\n        $el.addClass('is-open');\r\n        return;\r\n      }\r\n\r\n      activeAnchorIndex = $(this).data('index');\r\n      // find the location of the desired link and scroll the page\r\n      let position = anchors[activeAnchorIndex].position;\r\n      // close the menu\r\n      $el.removeClass('is-open');\r\n      // prevent the scroll event from updating active links\r\n      linkScrolling = true;\r\n\r\n      $(\"html,body\").stop(true,true).animate({scrollTop:position}, '750', function(){\r\n        linkScrolling = false;\r\n        // Get the link hash target so we can bring focus to it\r\n        let hash = anchors[activeAnchorIndex].hash;\r\n        // bring focus to the item we just scrolled to\r\n        $(hash).focus();\r\n        // timing issue with window.scroll event firing.\r\n        setTimeout(function(){\r\n          // set this link as active.\r\n          $el.find('.' + activeClass).removeClass(activeClass);\r\n          $link.addClass(activeClass);\r\n        },30);\r\n      });\r\n    });\r\n\r\n    // if the content contains accordions,\r\n    // readjust settings when there state changes.\r\n    $('.js-accordion-link').on('click',function() {\r\n      if(typeof debounceTimer === \"number\") {\r\n        window.clearTimeout(debounceTimer);\r\n      }\r\n      debounceTimer = window.setTimeout(function(){\r\n        setVariables();\r\n        setPosition();\r\n        activateLink();\r\n      },400);\r\n    })\r\n\r\n    $el.find(\".js-scroll-anchors-toggle\").on('click',function() {\r\n      $el.toggleClass('is-open');\r\n    });\r\n\r\n    // make the links sticky\r\n    $(window).resize(function() {\r\n      if(typeof debounceTimer === \"number\") {\r\n        window.clearTimeout(debounceTimer);\r\n      }\r\n      debounceTimer = window.setTimeout(function(){\r\n        setVariables();\r\n        setPosition();\r\n        activateLink();\r\n      },300);\r\n    });\r\n\r\n    $(window).scroll(function () {\r\n      setPosition();\r\n\r\n      if(!linkScrolling){\r\n        activateLink();\r\n      }\r\n    });\r\n\r\n    function setVariables() {\r\n      let topOffset = 0;\r\n\r\n      headerBuffer = 0;\r\n      elHeight = $el.outerHeight(true);\r\n      upperLimit = $elParent.offset().top;\r\n      isMobile = checkMobile($el);\r\n\r\n      if($elParent[0].hasAttribute(\"style\") && !isMobile) {\r\n        $elParent.removeAttr('style');\r\n      }\r\n\r\n      if(isMobile) {\r\n        headerBuffer = $('.js-sticky-header').height() || 0;\r\n        upperLimit -= headerBuffer;\r\n        topOffset = elHeight;\r\n\r\n        mobileTitleOn();\r\n      }\r\n      else {\r\n        mobileTitleOff();\r\n      }\r\n      \r\n      lowerLimit = upperLimit + $elParent.outerHeight(true) - $el.height();\r\n\r\n      // locate the position of all of the anchor targets\r\n      anchors = new Array;\r\n      $links.each(function(i,e){\r\n        let $el = $(this),\r\n          $link = $el.is('a') ? $el : $el.find('a'),\r\n          hash = $link[0].hash,\r\n          position = $(hash).offset() ? $(hash).offset().top - headerBuffer - topOffset : upperLimit;\r\n\r\n        anchors[i] = { hash, position };\r\n\r\n        $el.data('index',i);\r\n      });\r\n\r\n      // record the number of anchors for performance\r\n      numAnchors = anchors.length;\r\n    }\r\n\r\n    function setPosition() {\r\n      let windowTop = $(window).scrollTop(),\r\n          attr = $el.attr('data-sticky'),\r\n          top = attr !== 'top' && windowTop <= upperLimit,\r\n          middle = attr !== 'middle' && windowTop < lowerLimit && windowTop > upperLimit,\r\n          bottom = attr !== 'bottom' && windowTop >= lowerLimit;\r\n\r\n      if($elParent[0].hasAttribute(\"style\") && !isMobile) {\r\n        $elParent.removeAttr('style');\r\n      }\r\n\r\n      if(!$elParent[0].hasAttribute(\"style\") && isMobile && attr === 'middle') {\r\n        $elParent.css({'paddingTop':elHeight});\r\n      }\r\n\r\n      if(top) {\r\n        $el.attr('data-sticky','top');\r\n\r\n        if(isMobile){\r\n          $elParent.removeAttr('style');\r\n\r\n          mobileTitleOn();\r\n        }\r\n      }\r\n      else if (middle) {\r\n        $el.attr('data-sticky','middle');\r\n\r\n        if(isMobile){\r\n          $elParent.css({'paddingTop':elHeight});\r\n\r\n         mobileTitleOff();\r\n        }\r\n      }\r\n      else if (bottom) {\r\n        $el.attr('data-sticky','bottom');\r\n\r\n        if(isMobile){\r\n          $elParent.removeAttr('style');\r\n        }\r\n      }\r\n    }\r\n\r\n    function activateLink() {\r\n      // do we have more than one anchor\r\n      if(numAnchors < 2 || linkScrolling) {\r\n        return;\r\n      }\r\n\r\n      // get the current scroll position and trigger change when new link is 10% down the page\r\n      let windowTop = $(window).scrollTop() + (window.innerHeight/9),\r\n          currentAnchor = activeAnchorIndex;\r\n         \r\n\r\n      // is there a prev target\r\n      // and\r\n      // is the current scroll position above the current target\r\n      if(currentAnchor > 0 && windowTop < anchors[activeAnchorIndex].position) {\r\n        // make the prev link active\r\n        --activeAnchorIndex;\r\n      }\r\n\r\n      // is there a next target\r\n      // and\r\n      // is the current scroll position below the next target\r\n      else if(currentAnchor < numAnchors-1 && windowTop > anchors[activeAnchorIndex+1].position) {\r\n        // make the next link active\r\n        ++activeAnchorIndex;\r\n      }\r\n\r\n      if (currentAnchor !== activeAnchorIndex) {\r\n        // move the active flag\r\n        $el.find('.' + activeClass).removeClass(activeClass);\r\n        $links.eq(activeAnchorIndex).addClass(activeClass);\r\n      }\r\n    }\r\n\r\n    function mobileTitleOn() {\r\n      if($titleLink.length) {\r\n        $titleLink.addClass(activeClass);\r\n        $links.removeClass(activeClass);\r\n      }\r\n    }\r\n    \r\n    function mobileTitleOff() {\r\n      if($titleLink.length) {\r\n        $titleLink.removeClass(activeClass);\r\n        $links.first().addClass(activeClass);\r\n      }\r\n    }\r\n  });\r\n})(window,document,jQuery);\r\n","export default (function (window, document) {\n\n  const tocs = Array.from(document.getElementsByClassName(\"ma__sticky-toc\"));\n  tocs.forEach((toc) => {\n    // The container for the links in the table of contents.\n    const tocContent = toc.querySelector(\".ma__sticky-toc__links\");\n    // The parent that should be checked for sections.\n    const tocParent = toc.closest(toc.dataset.parent);\n    let tocSections = {\n      headings: tocParent.querySelectorAll(toc.dataset.sections + \":not(.ma__sticky-toc__title)\"),\n      links: []\n    };\n\n    let tocSectionCount = tocSections.headings.length;\n    var additionalCount = 0;\n    var i;\n    var totalSections = tocSectionCount;\n\n    // Remove Related and Contact sections from total amount of sections.\n    for (i = 0; i < tocSectionCount; i++) {\n      if (tocSections.headings[i].innerText.toLowerCase() == \"related\" || tocSections.headings[i].innerText.toLowerCase() == \"contact\") {\n        totalSections--;\n      }\n    };\n    tocSectionCount = totalSections;\n    // Another wrapper around the links, probably originally to put the links in two columns.\n    const tocColumn = toc.querySelector(\".ma__sticky-toc__column\");\n    // Container in the sticky header to hold the current sections header.\n    const stickyToc = toc.querySelector(\".ma__sticky-toc__current-section\");\n    // The minimum number of sections required on the page to display the table of contents.\n    const minSectionsToShow = toc.dataset[\"min-to-show\"] ? toc.dataset[\"min-to-show\"] : 2;\n    // The overlay div that shows when the stuck menu is shown.\n    const stuckOverlay = toc.querySelector(\".ma__sticky-toc__overlay\");\n    // The stuck header.\n    const stuckNav = toc.querySelector(\".ma__sticky-toc__stuck\");\n    // The menu that slides out after the sticky menu is clicked.\n    let stuckMenu;\n    let pauseScroll = false;\n\n    // Initialize the TOC by creating links and target spans.\n    function initializeToc() {\n      // Add a class to the parent to help with consistent handling across applications.\n      tocParent.classList.add(\"toc-parent\");\n      // Use headers to fill TOC.\n      Array.from(tocSections.headings).forEach((section) => {\n        let sectionId = section.id;\n        const sectionTitle = section.innerHTML;\n        // If the section doesn't have an ID, create one from the heading text.\n        if (!sectionId) {\n          sectionId = section.textContent.replace(/\\s+/g, \"-\").toLowerCase();\n        }\n        // Create a link for the sticky TOC.\n        const tocLink = document.createElement(\"div\");\n        tocLink.className = \"ma__sticky-toc__link\";\n        tocLink.setAttribute(\"data-link\", `#${sectionId}`);\n        tocLink.innerHTML = `<a href=\"#${sectionId}\"><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" aria-hidden=\\\"true\\\" width=\\\"35\\\" height=\\\"35\\\" viewBox=\\\"0 0 35 35\\\"><path class=\\\"st0\\\" d=\\\"M17.5 35C7.8 35 0 27.2 0 17.5 0 7.8 7.8 0 17.5 0 27.2 0 35 7.8 35 17.5 35 27.2 27.2 35 17.5 35zM16 9l-3 2.9 5.1 5.1L13 22.1l3 2.9 8-8L16 9z\\\"/></svg>${sectionTitle}</a>`;\n        tocColumn.appendChild(tocLink);\n        tocSections.links.push(tocLink);\n\n        // To scroll all the way to the heading would make the heading covered by the sticky header.\n        // Instead, add a span that will be invisible, but be placed above each heading as the scroll target.\n        const dest = document.createElement(\"span\");\n        dest.className = \"sticky-toc-jump-target\";\n        dest.id = sectionId;\n\n        section.id = \"\";\n        section.parentElement.insertBefore(dest, section);\n      });\n    }\n\n    // Set the various visibility rules.\n    function handleResize() {\n      tocSectionCount = 0;\n      additionalCount = 0;\n      Array.from(tocSections.headings).forEach((heading, index) => {\n        // If the section isn't visible, set the link not to display.\n        const isVisible = heading.offsetHeight * heading.offsetWidth;\n        if (isVisible) {\n          tocSections.links[index].style.display = \"\";\n          // If the section is the related or contact sections we don't want to count those.\n          if ((heading.innerText.toLowerCase() != 'related') && (heading.innerText.toLowerCase() != 'contact')) {\n            tocSectionCount++;\n          }\n          else if (heading.innerText.toLowerCase() == 'contact') {\n            additionalCount++;\n          }\n        }\n        else {\n          tocSections.links[index].style.display = \"none\";\n        }\n      });\n\n      // Get the final count of sections we'll use to determine if we display.\n      if ((tocSectionCount >= 1) && (additionalCount >= 1)) {\n        tocSectionCount = tocSectionCount + additionalCount;\n      }\n\n      // Remove wrapper if not enough links.\n      if (tocSectionCount < minSectionsToShow) {\n        toc.style.display = \"none\";\n      }\n      else {\n        // To set an overflow rule for jumpy IE wrapping\n        document.documentElement.classList.add(\"stickyTOC\");\n        toc.style.display = \"block\";\n      }\n\n      // Show expander when more than 10 links.\n      if (tocSectionCount <= 9 && window.innerWidth > 480 ) {\n        toc.querySelector(\".ma__sticky-toc__footer\").style.display = \"none\";\n      }\n    }\n\n    // Add the event listeners to handle all of the interaction.\n    function setEventListeners() {\n      // Update the sticky header text when a link is clicked, even if another header is visible.\n      tocParent.addEventListener(\"click\", (e) => {\n        if (e.target.matches(\".ma__sticky-toc__link a\").textContent) {\n          pauseScroll = true;\n          setTimeout(() => { pauseScroll = false; }, 20);\n          stickyToc.innerHTML = e.target.innerHTML;\n          toc.classList.add(\"stuck\");\n        }\n        // When .ma__sticky-toc__link or icon is clicked.\n        if (e.target.hasAttribute(\"data-link\")) {\n          pauseScroll = true;\n          setTimeout(() => { pauseScroll = false; }, 20);\n          stickyToc.innerHTML = e.target.querySelector(\"a\").textContent;\n          toc.classList.add(\"stuck\");\n        }\n      }, true);\n\n      // Toggle mobile TOC open.\n      toc.querySelector(\".ma__sticky-toc__toggle-link\").addEventListener(\"click\", () => {\n        tocContent.classList.toggle(\"is-open\");\n        // Update aria-expanded.\n        const tocButton  = document.querySelector(\".ma__sticky-toc__toggle-link\");\n        let expanderState = tocButton.getAttribute('aria-expanded') === 'true' ? (tocButton.setAttribute('aria-expanded', 'false')) : (tocButton.setAttribute('aria-expanded', 'true'));\n        // Button label for screen reader.\n        const popupLabel = tocButton.querySelector(\".js-sticky-toc__state\");\n        let popupLabelContent = popupLabel.innerHTML === \"Show\" ? popupLabel.innerHTML = \"Hide\" : popupLabel.innerHTML= \"Show\";\n      });\n\n      // Expander for additional links to show.\n      toc.querySelector(\".ma__sticky-toc__footer button\").addEventListener(\"click\", function() {\n        // Toggle hidden links open.\n        tocContent.classList.toggle(\"open\");\n        this.classList.toggle(\"open\");\n\n        // Toggle button text.\n        this.textContent = (this.textContent === \"show less\" ? \"show more\" : \"show less\");\n      });\n\n      // Handle window resize events.\n      window.addEventListener(\"resize\", () => {\n        // Reset menu for each form factor on resize.\n        const button = toc.querySelector(\".ma__sticky-toc__footer button\");\n        tocContent.classList.remove(\"open\");\n        button.classList.remove(\"open\");\n        button.textContent = \"show more\";\n        // Reset visibility.\n        handleResize();\n      });\n\n      // Handler for showing or hiding the sticky TOC.\n      window.addEventListener(\"scroll\", () => {\n        if (!pauseScroll) {\n          const windowTop = window.pageYOffset;\n          const windowBottom = window.innerHeight;\n          const docHeight = document.documentElement.scrollHeight;\n          const stickyNavDemensions = toc.getBoundingClientRect();\n          const stickyNavActive  = stickyNavDemensions.top + stickyNavDemensions.height;\n          const stuckNavDemensions = stuckNav.getBoundingClientRect();\n          const stuckNavBottom = stuckNavDemensions.top + stuckNavDemensions.height;\n          // The text of the last heading.\n          const lastHeading = tocSections.headings[tocSectionCount - 1].innerHTML;\n\n          // Active Sticky TOC when on page TOC scrolls past.\n          if (stickyNavActive > 0) {\n            toc.classList.remove(\"stuck\");\n          }\n          else {\n            toc.classList.add(\"stuck\");\n\n            // Force showing the last heading if we are at the bottom of the page.\n            if (windowTop + windowBottom === docHeight) {\n              stickyToc.innerHTML = lastHeading;\n            }\n            else {\n              // Identify the section to show for the heading.\n              const active = Array.from(tocSections.headings).reverse().find((section) => {\n                const top = section.getBoundingClientRect().top;\n                return top <= stuckNavBottom;\n              });\n              if (active) {\n                stickyToc.innerHTML = active.innerHTML;\n              }\n            }\n          }\n        }\n      });\n\n      // Back to top button in the sticky header.\n      toc.querySelector(\".stickyTOC-top\").addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        window.scroll({top: 0, left: 0, behavior: \"smooth\"});\n        tocParent.focus();\n      });\n\n      // Add and/or open the sticky table of contents when the button is clicked.\n      toc.querySelector(\".stickyTOC-open\").addEventListener(\"click\", () => {\n        // Append sticky menu when first called\n        if (typeof stuckMenu === \"undefined\") {\n          const menuCopy = tocColumn.cloneNode(true);\n          menuCopy.classList.add(\"ma__sticky-toc__stuck-menu\");\n          stuckMenu = tocParent.appendChild(menuCopy);\n\n          // Move focus from the button.stickyTOC-open to the flyout toc\n          focusSwitch();\n\n          // When the last item in the TOC flyout is tabbed, focus is set on the first focusable element in the flyout container.\n          stuckMenu.lastChild.getElementsByTagName(\"a\")[0].addEventListener(\"keyup\", (e) => {\n            stuckMenu.querySelector(\".secondary-label-close\").focus();\n          });\n\n          // Close button.\n          stuckMenu.querySelector(\".secondary-label-close\").addEventListener(\"click\", () => {\n            menuToggle();\n            // Move the focus to the Table of Contents button.\n            toc.querySelector(\".stickyTOC-open\").focus();\n            stuckMenu.setAttribute(\"tabindex\", \"-1\");\n          });\n\n          // Wait a beat so the slide in can work on first click.\n          setTimeout(() => {\n            menuToggle();\n          }, 100);\n        }\n        else {\n          menuToggle();\n          focusSwitch();\n        }\n      });\n\n      // Close sticky menu on click off or link click.\n      document.body.addEventListener(\"click\", (e) => {\n        if (!e.target.matches(\".ma__sticky-toc__stuck-menu\")\n        && (e.target.closest(\".ma__sticky-toc__stuck-menu\") === null\n        || e.target.matches(\".ma__sticky-toc__stuck-menu a\")\n        || e.target.matches(\".ma__sticky-toc__stuck-menu .ma__sticky-toc__link\"))) {\n          if (typeof stuckMenu !== \"undefined\" && stuckMenu.matches(\".sticky-nav-open\")) {\n            // Add a open-link feature with clicking item container.\n            const clicked = e.target;\n            if ( clicked.matches(\".ma__sticky-toc__link\")) {\n              window.location = clicked.getAttribute(\"data-link\");\n            }\n            menuToggle();\n          }\n        }\n      }, true);\n    }\n\n    // The toggle function to show hide the slide out menu.\n    function menuToggle() {\n      stuckMenu.classList.toggle(\"sticky-nav-open\");\n      stuckOverlay.style.display = stuckOverlay.style.display === \"block\" ? \"none\" : \"block\";\n    }\n\n    // Move focus from the button.stickyTOC-open to the flyout toc\n    function focusSwitch() {\n      stuckMenu.setAttribute(\"tabindex\", \"0\");\n      stuckMenu.focus();\n    }\n\n    initializeToc();\n    handleResize();\n    if (tocSectionCount > 0) {\n      setEventListeners();\n    }\n  });\n})(window, document);\n","export default (function (window, document, $, undefined) {\n\n    let $toggle, $root, $sections;\n    let hiddenClass = 'is-initially-hidden';\n\n    function bindVars () {\n        $root = $('.js-teaser-listing-group');\n        $toggle = $root.find('.js-teaser-listing-group-toggle');\n        $sections = $root.find('.ma__teaser-listing');\n    }\n\n    function markForAccordion () {\n        let totalShown = $root.data('totalVisible');\n        let teaserItems = $root.find('.ma__general-teaser');\n\n        // Hide the toggle if the number of items is less than or equal to the number shown.\n        if (teaserItems.length <= totalShown) {\n          $toggle.hide();\n        }\n\n        // set excess items to be hidden\n        teaserItems.slice(totalShown, teaserItems.length).each((i, el) => {\n            // Items can be siblings or within an <li>, add class to the <li> if present\n            if ($(el).parent().prop('tagName') === \"LI\") {\n                $(el).parent().addClass(hiddenClass);\n            } else {\n                $(el).addClass(hiddenClass);\n            }\n        });\n\n        $sections.each( (i, el) => {\n            let $section = $(el);\n            let totalTeaserItems = $section.find('.ma__general-teaser');\n            let hiddenItems = $section.find('.'+hiddenClass);\n            // If the total number of teasers and total number of hidden things are the same, hide the whole section.\n            if (totalTeaserItems.length === hiddenItems.length) {\n                $section.addClass(hiddenClass);\n            }\n        });\n\n\n    }\n\n    function handleToggle () {\n        $toggle.click(() => {\n            $root.toggleClass('is-open');\n        });\n    }\n\n\n\n    $(document).ready( () => {\n        bindVars();\n        markForAccordion();\n        handleToggle();\n    });\n\n})(window, document, jQuery);\n","export default (function (window,document,$,undefined) {\n\n  $('.ma__featured-item .ma__featured-item__title span').each(function() {\n    const $this = $(this);\n    const $thisParent = $this.parent();\n    const $thisWrapper = $thisParent.closest('.ma__featured-item');\n    let thisTitle = $this.text();\n\n    // Links are truncated to 60 characters\n    // The wrappers only accommodate 50 with ellipses and the icon\n    if (thisTitle.length > 50) {\n      // Add a class for styling.\n      $thisParent.addClass('truncated');\n      // Add the full title to the aria label to keep value\n      $thisWrapper.attr('aria-label', thisTitle);\n\n      // Truncate title at last full word before 50th character\n      var truncatedTitle = thisTitle.substring(0, 50);\n      truncatedTitle = truncatedTitle.substr(0, Math.min(truncatedTitle.length, truncatedTitle.lastIndexOf(\" \")));\n      thisTitle = truncatedTitle;\n    }\n    $this.text(thisTitle);\n  });\n\n})(window,document,jQuery);\n","export default (function (window, document, $, undefined) {\r\n\r\n  let $panels = $('.js-util-nav-content');\r\n  let $panel = \"\";\r\n  let $utilityButtons = $('.js-util-nav-toggle');\r\n\r\n  $panels.each(function () {\r\n    $panel = $(this);\r\n    const height = $panel.height();\r\n    const $closeButton = $panel.find('.js-close-util-nav');\r\n\r\n    $panel.css('top', '-' + height + 'px');\r\n    $(window).on('resized', function () {\r\n      if ($(window).width() > 840) {\r\n        $panel.css('top', '-' + height + 'px');\r\n      }\r\n      else {\r\n        $panel.removeAttr('style')\r\n      }\r\n    });\r\n\r\n    $closeButton.on('click', function () {\r\n      $panel.css('top', '-' + height + 'px');\r\n      $panel.toggleClass('is-closed');\r\n      $panel.attr(\"aria-hidden\", \"true\");\r\n    });\r\n\r\n    $panel.on('keydown', function (e) {\r\n      if (e.key == \"Escape\") {\r\n        $panel.css('top', '-' + height + 'px');\r\n        $panel.toggleClass('is-closed');\r\n        $panel.attr(\"aria-hidden\", \"true\");\r\n      }\r\n    });\r\n  });\r\n\r\n  $utilityButtons.each(function () {\r\n    const $thisButton = $(this);\r\n    let $thisPanel = $thisButton.next('.js-util-nav-content');\r\n    const $closePanel = $thisPanel.find('.js-close-util-nav');\r\n\r\n    $thisButton.on('click', function () {\r\n      if ($thisButton.closest(\".ma__header__hamburger__utility-nav--narrow\")) {\r\n        $thisPanel = null;\r\n      }\r\n      else {\r\n        $thisPanel.removeClass('is-closed');\r\n        $thisPanel.removeAttr('style');\r\n        $thisPanel.attr(\"aria-hidden\", \"false\");\r\n      }\r\n\r\n      $('body').addClass('show-submenu');\r\n\r\n      // Only affects utility nav on the utility nav bar with the hamburger menu.\r\n      if ($(this).closest(\".ma__header__hamburger__utility-nav--wide\")) {\r\n        if ($thisPanel.hasClass(\"is-closed\")) {\r\n          $(this).closest(\".ma__header__hamburger__nav\").removeClass(\"util-nav-content-open\");\r\n        }\r\n        else {\r\n          $(this).closest(\".ma__header__hamburger__nav\").addClass(\"util-nav-content-open\");\r\n        }\r\n      }\r\n\r\n      setTimeout(function () {\r\n        $closePanel.focus();\r\n      }, 250);\r\n\r\n    });\r\n  });\r\n\r\n  $('.js-close-sub-nav').on('click', function () {\r\n    $('.js-util-nav-content').addClass('is-closed');\r\n    $('.js-util-nav-content').removeAttr('style');\r\n    $('body').removeClass('show-submenu');\r\n  });\r\n\r\n  // debouncer\r\n  var resize_timeout;\r\n  $(window).on('resize orientationchange', function () {\r\n    clearTimeout(resize_timeout);\r\n\r\n    resize_timeout = setTimeout(function () {\r\n      $(window).trigger('resized');\r\n    }, 150);\r\n  });\r\n})(window, document, jQuery);\r\n"]}